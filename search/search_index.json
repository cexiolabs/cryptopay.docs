{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"CryptoPay CryptoPay offers a crypto processing features like a: Exchange service Payment service (like buying goods) Crypto holding Environments Sandbox (\u200bpurple\u200b) Fully emulated/virtual (nothing real) environment. Good start point for integration and performance testing. Virtual/Emulated crypto funds Virtual/Emulated fiat funds Virtual/Emulated exchange trading Allows stress testing Manual and automate deposits (see \u201cEmulator\u201d section inside Dashboard) Data wipe often (orders, accounts) Service URL Main Information/Status Page, REST API, Dashboard,Payment Widget https://sandbox.cryptopay.band/ Testnet (\u200borange\u200b) Testnet environment. Pre-production testing. \u200bDo not use this environment for performance testing. Testnet coins Virtual/Emulated fiat funds Virtual/Emulated exchange trading Testnet deposits Testnet withdrawals Data wipe rarely (orders, accounts) Service URL Main Information/Status Page https://testnet.cryptopay.band/ REST API https://api-testnet.cryptopay.band/ Dashboard Web Application https://dashboard-testnet.cryptopay.band/ Payment Widget Web Application https://gateway-testnet.cryptopay.band/ Production (\u200bblue\u200b) Operational environment. Real crypto finds Real fiat funds Service URL Main Information/Status Page https://www.cryptopay.band/ REST API https://api.cryptopay.band/ Dashboard Web Application https://dashboard.cryptopay.band/ Payment Widget Web Application https://gateway.cryptopay.band/","title":"Overview"},{"location":"#cryptopay","text":"CryptoPay offers a crypto processing features like a: Exchange service Payment service (like buying goods) Crypto holding","title":"CryptoPay"},{"location":"#environments","text":"","title":"Environments"},{"location":"#sandbox-purple","text":"Fully emulated/virtual (nothing real) environment. Good start point for integration and performance testing. Virtual/Emulated crypto funds Virtual/Emulated fiat funds Virtual/Emulated exchange trading Allows stress testing Manual and automate deposits (see \u201cEmulator\u201d section inside Dashboard) Data wipe often (orders, accounts) Service URL Main Information/Status Page, REST API, Dashboard,Payment Widget https://sandbox.cryptopay.band/","title":"Sandbox (\u200bpurple\u200b)"},{"location":"#testnet-orange","text":"Testnet environment. Pre-production testing. \u200bDo not use this environment for performance testing. Testnet coins Virtual/Emulated fiat funds Virtual/Emulated exchange trading Testnet deposits Testnet withdrawals Data wipe rarely (orders, accounts) Service URL Main Information/Status Page https://testnet.cryptopay.band/ REST API https://api-testnet.cryptopay.band/ Dashboard Web Application https://dashboard-testnet.cryptopay.band/ Payment Widget Web Application https://gateway-testnet.cryptopay.band/","title":"Testnet (\u200borange\u200b)"},{"location":"#production-blue","text":"Operational environment. Real crypto finds Real fiat funds Service URL Main Information/Status Page https://www.cryptopay.band/ REST API https://api.cryptopay.band/ Dashboard Web Application https://dashboard.cryptopay.band/ Payment Widget Web Application https://gateway.cryptopay.band/","title":"Production (\u200bblue\u200b)"},{"location":"api/","text":"REST API Basics Data is returned in ascending order. Oldest first, newest last. All time and timestamp related fields are in ISO 8601 . For GET endpoints, parameters must be sent as a query string . For POST, PUT, and DELETE endpoints, the parameters are sent in the request body with content type application/json . Success request codes: 2XX Client's mistakes: 4XX Server's errors: 5XX Responses Our API uses HTTP status codes to indicate the status of your requests. This includes successful and unsuccessful responses. 2xx (Successful): The request was successfully received, understood, and accepted 4xx (Client Error): The request contains bad syntax or cannot be fulfilled 5xx (Server Error): The server failed to fulfill an apparently valid request 5xx It is important to NOT treat this as a failure operation. The execution status is UNKNOWN and could have been a success. Error Reason Phrase An unsuccessful response DOES NOT HAVE body. Error message passed via Reason Phrase along with Status Code and CP-REASON-PHRASE header Status Code Meaning 200 OK Standard response for successful HTTP requests 201 Created The request has been fulfilled, resulting in the creation of a new resource 202 Accepted The request has been accepted for processing, but the processing has not been completed 400 {{Reason Phrase}} The server cannot or will not process the request due to an apparent client error (e.g., malformed request syntax, size too large, invalid request message framing, or deceptive request routing) 401 {{Reason Phrase}} Most likely you wasn't able to construct and sign your API request correctly using HMAC 403 {{Reason Phrase}} You don't have required permissions to perform requested action on the resource 404 {{Reason Phrase}} We don't have the resource you've requested 409 {{Reason Phrase}} Most likely the client's identifier value you're trying to use had been used before 422 {{Reason Phrase}} The request was well-formed but was unable to be followed due to semantic errors 500 {{Reason Phrase}} We have a problem with our server 503 Service Unavailable We're temporarily offline for maintenance Pagination We uses cursor pagination for all REST requests which return arrays. Cursor pagination allows for fetching results after the current page of results and is well suited for realtime data. Endpoints return the latest items by default. To retrieve more results subsequent requests should specify which direction to paginate based on the data previously returned. beforeId and afterId cursors are available via response headers CP-BEFORE and CP-AFTER . Your requests should use these cursor values when making requests for pages after the initial request. Parameters: Name Type Mandatory Description beforeId STRING NO Request page before (newer) this pagination id. afterId STRING NO Request page after (older) this pagination id. limit INT NO Number of results per request. Default 500; max 1000 Note before and after cursor arguments should not be confused with before and after in chronological time. Most paginated requests return the latest information (newest) as the first page sorted by newest (in chronological time) first. To get older information you would request pages after the initial page. To get information newer, you would request pages before the first page. Types IDs Most of identifiers are UUID-based with kind prefix. For example order identifier CPO-8075c1c9d7334be0860e3b57f0de43e5 comes from UUID 8075c1c9-d733-4be0-860e-3b57f0de43e5 { \"orderId\" : \"CPO-8075c1c9d7334be0860e3b57f0de43e5\" } Case insensitive UUID digits are case insensitive (not prefix). Values CPO-8075c1c9d7334be0860e3b57f0de43e5 and CPO-8075C1C9d7334BE0860E3B57F0DE43E5 are same identifier. Dates All timestamps from API are returned in ISO 8601 with milliseconds. Make sure you can parse the following ISO 8601 format. Most modern languages and libraries will handle this without issues. { \"date\" : \"2020-01-16T07:35:32.129Z\" } Decimal (Financial) All numbers that represent financial values are returned as strings to preserve full precision across platforms. When making a request, you must convert your numbers to strings to avoid truncation and precision errors. { \"amount\" : \"12345678.12345678\" } Integer Integer numbers (like counter) are unquoted. { \"confirmations\" : 5 } Rate Limit When a rate limit is exceeded, a status of 429 Too Many Requests will be returned. TBD: what is limit? Authentication Generating an API Key Before being able to sign any requests, you must create an API key via the CryptoPay support. Upon creating a key you will have 3 pieces of information which you must remember: Key - Randomly generated and provided by CryptoPay Secret - Randomly generated and provided by CryptoPay Passphrase - Provided by you to further secure your API access. CryptoPay stores the salted hash of your passphrase for verification, but cannot recover the passphrase if you forget it. API Key Permissions You can restrict the functionality of API keys. Before creating the key, you must choose what permissions you would like the key to have. The permissions are: Account permission Allows to make manage accounts and account's operations. Like create account, view account, make withdrawal, etc. Merchant permission Allows a key manage your sub-merchants. Order permission Allows a key to enter orders, as well as retrieve order data. This includes POST /order and several GET endpoints. View permission Allows a key read permissions. This includes most of GET endpoints. Please refer to documentation below to see what API key permissions are required for a specific route. Creating a Request All REST requests must contain the following headers: CP-ACCESS-KEY The api key as a string. CP-ACCESS-SIGN The base64-encoded signature (see Signing a Message ). CP-ACCESS-TIMESTAMP A timestamp for your request. CP-ACCESS-PASSPHRASE The passphrase you specified when creating the API key. All request bodies should have content type application/json and be valid JSON. Signing a Message The CP-ACCESS-SIGN header is generated by creating a sha256 HMAC using the base64-decoded secret key on the prehash string timestamp + method + requestPath + body (where + represents string concatenation) and base64-encode the output. The timestamp value is the same as the CP-ACCESS-TIMESTAMP header. The body is the request body string or omitted if there is no request body (typically for GET requests). The method should be UPPER CASE like \"GET\", \"POST\", etc. Note Do not forget to base64-decode the alphanumeric secret string (resulting in 64 bytes) before using it as the key for HMAC. Also, base64-encode the digest output before sending in the header. Bash + OpenSSL SECRET = \"cNmgFLOwbckPszgJdUe4rdpcUo2IBHtNPsyxAScjl7CN4omMN64UJAvODT8PsrPIfR7TosKUfEFROyhz/YJxsw==\" #TIMESTAMP=$(date +%s) TIMESTAMP = 1573753848 METHOD = \"POST\" URLPATH = \"/v2/order?something=42\" BODY = '{\"clientOrderId\":\"1490548887804-XA-1112-TU\",\"clientOrderTag\":\"Any merchant data\",\"instrument\":\"CRYPTO_SELL\",\"feeModel\":\"INCLUDED\",\"from\":{\"currency\":\"BTC\"},\"to\":{\"currency\":\"USD\",\"amount\":\"150.42\"}}' WHAT = \" ${ TIMESTAMP }${ METHOD }${ URLPATH }${ BODY } \" SECRET_KEY = $( echo -n \" ${ SECRET } \" | base64 --decode | hexdump -v -e '/1 \"%02x\"' ) echo -n \" ${ WHAT } \" | openssl dgst -sha256 -mac HMAC -macopt \"hexkey: $SECRET_KEY \" | xxd -r -p | base64 # Expected: 00O36QWCSc9/rmtxiqCnPQiHXr5xaXlZIf2nkdm9PUk= NodeJS const secret = \"cNmgFLOwbckPszgJdUe4rdpcUo2IBHtNPsyxAScjl7CN4omMN64UJAvODT8PsrPIfR7TosKUfEFROyhz/YJxsw==\" ; //const timestamp = Date.now() / 1000; const timestamp = 1573753848 ; const method = \"POST\" ; const urlPath = \"/v2/order?something=42\" ; const body = '{\"clientOrderId\":\"1490548887804-XA-1112-TU\",\"clientOrderTag\":\"Any merchant data\",\"instrument\":\"CRYPTO_SELL\",\"feeModel\":\"INCLUDED\",\"from\":{\"currency\":\"BTC\"},\"to\":{\"currency\":\"USD\",\"amount\":\"150.42\"}}' ; const what = timestamp + method + urlPath + body ; const secretKey = Buffer . from ( secret , \"base64\" ); const hmac = require ( \"crypto\" ). createHmac ( \"sha256\" , secretKey ); console . log ( hmac . update ( what ). digest ( \"base64\" )); // Expected: 00O36QWCSc9/rmtxiqCnPQiHXr5xaXlZIf2nkdm9PUk= PHP <?php $secret = \"cNmgFLOwbckPszgJdUe4rdpcUo2IBHtNPsyxAScjl7CN4omMN64UJAvODT8PsrPIfR7TosKUfEFROyhz/YJxsw==\" ; #$timestamp = time() $timestamp = 1573753848 ; $method = \"POST\" ; $urlPath = \"/v2/order?something=42\" ; $body = '{\"clientOrderId\":\"1490548887804-XA-1112-TU\",\"clientOrderTag\":\"Any merchant data\",\"instrument\":\"CRYPTO_SELL\",\"feeModel\":\"INCLUDED\",\"from\":{\"currency\":\"BTC\"},\"to\":{\"currency\":\"USD\",\"amount\":\"150.42\"}}' ; $what = $timestamp . $method . $urlPath . $body ; $secretKey = base64_decode ( $secret ); print ( base64_encode ( hash_hmac ( \"sha256\" , $what , $secretKey , true ))); # Expected: 00O36QWCSc9/rmtxiqCnPQiHXr5xaXlZIf2nkdm9PUk= Java // file: SignatureCalculator.java package band.cryptopay ; import java.nio.charset.Charset ; import java.security.InvalidKeyException ; import java.security.NoSuchAlgorithmException ; import javax.crypto.Mac ; import javax.crypto.spec.SecretKeySpec ; import org.apache.commons.codec.binary.Base64 ; import org.apache.commons.lang3.ArrayUtils ; public class SignatureCalculator { private final byte [] _secret ; public SignatureCalculator ( final String secretBase64 ) { this . _secret = Base64 . decodeBase64 ( secretBase64 ); } public String sing ( String timeStampStr , String httpMethod , String urlPath ) throws InvalidKeyException , NoSuchAlgorithmException { return sing ( timeStampStr , httpMethod , urlPath , null ); } public String sing ( String timeStampStr , String httpMethod , String urlPath , byte [] bodyRaw ) throws InvalidKeyException , NoSuchAlgorithmException { final String prefixStr = timeStampStr + httpMethod + urlPath ; final byte [] prefixRaw = prefixStr . getBytes ( Charset . forName ( \"UTF-8\" )); final String algo = \"HmacSHA256\" ; final Mac sha256_HMAC = Mac . getInstance ( algo ); sha256_HMAC . init ( new SecretKeySpec ( this . _secret , algo )); final byte [] what = bodyRaw != null ? ArrayUtils . addAll ( prefixRaw , bodyRaw ) : prefixRaw ; final byte [] signature = sha256_HMAC . doFinal ( what ); return Base64 . encodeBase64String ( signature ); } } // Make signature final String secretBase64 = \"cNmgFLOwbckPszgJdUe4rdpcUo2IBHtNPsyxAScjl7CN4omMN64UJAvODT8PsrPIfR7TosKUfEFROyhz/YJxsw==\" ; final String timeStampStr = \"1573753848\" ; final String httpMethod = \"POST\" ; final String urlPath = \"/v2/order?something=42\" ; final String bodyStr = \"{\\\"clientOrderId\\\":\\\"1490548887804-XA-1112-TU\\\",\\\"clientOrderTag\\\":\\\"Any merchant data\\\",\\\"instrument\\\":\\\"CRYPTO_SELL\\\",\\\"feeModel\\\":\\\"INCLUDED\\\",\\\"from\\\":{\\\"currency\\\":\\\"BTC\\\"},\\\"to\\\":{\\\"currency\\\":\\\"USD\\\",\\\"amount\\\":\\\"150.42\\\"}}\" ; final byte [] body = bodyStr . getBytes ( Charset . forName ( \"UTF-8\" )); final SignatureCalculator signatureCalculator = new SignatureCalculator ( secretBase64 ); final String signature = signatureCalculator . sing ( timeStampStr , httpMethod , urlPath , body ); System . out . println ( signature ); // Expected: 00O36QWCSc9/rmtxiqCnPQiHXr5xaXlZIf2nkdm9PUk= Selecting a Timestamp The CP-ACCESS-TIMESTAMP header MUST be number of seconds since Unix Epoch in UTC. Decimal values are allowed. CP-ACCESS-TIMESTAMP: 1579161402.051 Your timestamp must be within 30 seconds of the api service time or your request will be considered expired and rejected. We recommend using the time endpoint to query for the API server time if you believe there many be time skew between your server and the API servers. /v2/account List of accounts Retrieve a list of all your accounts. GET /v2/account Permission: Account or View Parameters: Name Type Mandatory Description currency STRING NO Filter by currency . Comma separated combination of currencies like BTC, ETH, etc. startDate ISO 8601 NO Date of create account, from INCLUSIVE endDate ISO 8601 NO Date of create account, until EXCLUSIVE includeZero BOOLEAN NO Include zero balance accounts. Default: false. beforeId STRING NO Request page before (newer) this pagination id. Pagination's param . afterId STRING NO Request page after (older) this pagination id. Pagination's param . limit INT NO Number of results per request. Default 500; max 1000. Pagination's param . Response body [ { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"balance\" : \"0\" , \"currency\" : \"USD\" , \"clientAccountId\" : null , \"createdAt\" : \"2020-05-06T09:08:39.537Z\" , \"tag\" : \"Destination for order CPO-9706cb6acb1c4d8599394374b10022a0\" }, { \"accountId\" : \"CPA-97ac6d50d6754a40a9caace9b992d41d\" , \"balance\" : \"10000\" , \"currency\" : \"XRP\" , \"clientAccountId\" : null , \"createdAt\" : \"2020-05-06T09:08:39.537Z\" , \"tag\" : \"Intrenal asset assigned hot crypto address\" } ... ] Create account POST /v2/account Permission: Account Request body: { \"clientAccountId\" : \"unique merchant's identifier\" , \"currency\" : \"BTC\" , \"tag\" : \"Account for merchant's user XXX\" } Response body: { \"accountId\" : \"CPA-283eb9706cf448969798eca9c54fc438\" , \"clientAccountId\" : \"unique merchant's identifier\" , \"createdAt\" : \"2020-01-17T15:57:11.183Z\" , \"tag\" : \"Account for merchant's user XXX\" , \"income\" : \"0\" , \"outcome\" : \"0\" , \"balance\" : \"0\" , \"transactions\" : 0 , \"currency\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } Get account details Retrieve details of an account. GET /v2/account/{{accountId}} Permission: Account or View Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" Response body { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"clientAccountId\" : \"unique merchant's identifier\" , \"type\" : \"ONCE\" , \"createdAt\" : \"2020-01-16T09:51:58.598Z\" , \"tag\" : \"Deposit for order CPO-19824601944647cda1d2541df563dc26\" , \"income\" : \"0.0223\" , \"outcome\" : \"0.022\" , \"balance\" : \"0.0003\" , \"transactions\" : 0 , \"currency\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } List of deposits Retrieve a list of account deposits. GET /v2/account/{{accountId}}/deposit Permission: Account or View Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" startDate ISO 8601 NO Date of deposit, from INCLUSIVE endDate ISO 8601 NO Date of deposit, until EXCLUSIVE status STRING NO One of values: \"PENDING\", \"ACCEPTED\", \"REJECTED\" beforeId STRING NO Request page before (newer) this pagination id. Pagination's param . afterId STRING NO Request page after (older) this pagination id. Pagination's param . limit INT NO Number of results per request. Default 500; max 1000. Pagination's param . Response body [ { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"depositId\" : \"CPD-7902170dd2124b80b3d4c46e4806026f\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"amount\" : \"0.55133277\" }, ... ] Get deposit details Retrieve details of a deposit. GET /v2/account/{{accountId}}/deposit/{{depositId}} Permission: Account or View Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" depositId IDENTIFIER YES Deposit identifier, like \"CPD-eeb6dff743824161a7e031528c48b5b2\" Response body CRYTPO PENDING { \"depositId\" : \"CPD-10a6808f89d14ea49d2865a3e3f07221\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"status\" : \"PENDING\" , \"date\" : \"2020-04-03T07:23:06.864Z\" , \"amount\" : \"101\" , \"tag\" : null , \"confirmations\" : 0 , \"block\" : null , \"txHash\" : \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" } CRYTPO ACCEPTED { \"depositId\" : \"CPD-10a6808f89d14ea49d2865a3e3f07221\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-04-03T07:23:06.864Z\" , \"amount\" : \"101\" , \"tag\" : \"Approved deposit 101 TRX for merchant INTERMEDIATE by reach confirmations 6\" , \"confirmations\" : 21 , \"block\" : null , \"txHash\" : \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" } CRYTPO REJECTED FIAT ACCEPTED { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"depositId\" : \"CPD-2302170dd2344b80b3d4c46e480603sd\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"amount\" : \"152.34\" , \"tag\" : \"Received deposit from exchange\" } List of withdrawals Retrieve a list of account withdrawals. GET /v2/account/{{accountId}}/withdrawal Permission: Account or View Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" startDate ISO 8601 NO Date of create withdrawal, from INCLUSIVE endDate ISO 8601 NO Date of create withdrawal, until EXCLUSIVE status STRING NO One of values: \"NEW\", \"PENDING\", \"CANCELLED\", \"ACCEPTED\", \"REJECTED\" beforeId STRING NO Request page before (newer) this pagination id. Pagination's param . afterId STRING NO Request page after (older) this pagination id. Pagination's param . limit INT NO Number of results per request. Default 500; max 1000. Pagination's param . Response body [ { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-7902170dd2124b80b3d4c46e4806026f\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"amount\" : \"0.55133277\" }, ... ] Get withdrawal details Retrieve details of a withdrawal. GET /v2/account/{{accountId}}/withdrawal/{{withdrawalId}} Permission: Account or View Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" withdrawalId IDENTIFIER YES Withdrawal identifier, like \"CPW-87d903426d9448a0ac5e8402a7973654\" Response body PENDING CRYPTO { \"withdrawalId\" : \"CPW-f248fb235227473e8a2e95d125f8fd80\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"tag\" : \"Return funds to end-user by L3 ticker XYZ\" , \"amount\" : \"0.052\" , \"currency\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"status\" : \"PENDING\" , \"date\" : null , \"networkFee\" : null , \"transactionAmount\" : null , \"txHash\" : null } ACCEPTED CRYPTO { \"withdrawalId\" : \"CPW-f248fb235227473e8a2e95d125f8fd80\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"tag\" : \"Return funds to end-user by L3 ticker XYZ\" , \"amount\" : \"0.052\" , \"currency\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-04-03T07:32:11.718Z\" , \"networkFee\" : \"0.001\" , \"transactionAmount\" : \"0.051\" , \"txHash\" : \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" } REJECTED CRYPTO { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-87d903426d9448a0ac5e8402a7973654\" , \"tag\" : \"Return funds to end-user by L3 ticker XYZ\" , \"amount\" : \"0.052\" , \"currency\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"status\" : \"REJECTED\" , \"rejectReason\" : \"....human readable reason...\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"networkFee\" : null , \"transactionAmount\" : null , \"txHash\" : null } PENDING FIAT { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-87d903426d9448a0ac5e8402a7973654\" , \"status\" : \"PENDING\" , \"amount\" : \"599.44\" , \"tag\" : \"Sent withdrawal to CEX:upXXXXXXXXXX according to processing instrument flow\" , \"currency\" : \"USD\" , \"//\" : \"...\" } ACCEPTED FIAT { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-87d903426d9448a0ac5e8402a7973654\" , \"status\" : \"ACCEPTED\" , \"amount\" : \"599.44\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"tag\" : \"Sent withdrawal to CEX:upXXXXXXXXXX according to processing instrument flow\" , \"currency\" : \"USD\" , \"//\" : \"...\" } Make withdrawal Prepare withdrawal POST /v2/account/{{accountId}}/withdrawal Permission: Account Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" Request body: { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/account-withdrawal-make.request.json\" , \"tag\" : \"Return funds to end-user by L3 ticker XYZ\" , \"amount\" : \"0.052\" , \"currency\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } Response body: { \"withdrawalId\" : \"CPW-f248fb235227473e8a2e95d125f8fd80\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"tag\" : \"Return funds to end-user by L3 ticker XYZ\" , \"amount\" : \"0.052\" , \"currency\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"status\" : \"PENDING\" , \"date\" : null , \"networkFee\" : null , \"transactionAmount\" : null , \"txHash\" : null } Withdrawal request body exceptions Withdrawal section difference according currency selector Most of crytpo currencies provide just \"address\" as target for funds transfer. But some crypto currencies have extended fields. For example XRP, XLM and XMR has field \"destinationTag\". See this post to get knowledge. XRP (Ripple) { ... \"currency\" : \"XRP\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , ... } XLM (Stellar) { ... \"currency\" : \"XLM\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , ... } XMR (Monero) { ... \"currency\" : \"XMR\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , ... } Commit withdrawal Approve withdrawal POST /v2/account/{{accountId}}/withdrawal/{{withdrawalId}}/commit Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" withdrawalId IDENTIFIER YES Withdrawal identifier, like \"CPW-f248fb235227473e8a2e95d125f8fd80\" Permission : Account No request body No response body /v2/instrument List available instruments Returns list of instruments GET /v2/instrument Permission: Order or View Response body { \"CRYPTO_BUY\" : { \"breakpoints\" : { \"NEW\" : { \"description\" : \"Order was created. Ready start processing.\" , \"enabled\" : true }, \"EXCHANGING\" : { \"description\" : \"Order's balance enough to make exchange. Order making exchange operations. Ready to exchange.\" , \"enabled\" : false }, \"WITHDRAWING\" : { \"description\" : \"Crypto funds were bought. Ready to withdrawal.\" , \"enabled\" : false }, \"COMPLETED\" : { \"description\" : \"Order fully completed (receive necessary blockchain's confirmations).\" } } }, \"CRYPTO_SELL\" : { \"breakpoints\" : { \"NEW\" : { \"description\" : \"Order was created. Ready start processing.\" , \"enabled\" : false }, \"AWAIT_DEPOSIT\" : { \"description\" : \"Order is waiting for deposit.\" }, \"EXCHANGING\" : { \"description\" : \"Order's balance enough to make exchange. Order making exchange operations.\" }, \"EXCHANGED\" : { \"description\" : \"Order was successfully exchanged (aka Ready To Ship).\" }, \"COMPLETED\" : { \"description\" : \"Order fully completed (receive necessary blockchain's confirmations).\" } } } } /v2/network Provides information about cryptocurrency network. Network fees Cryptocurrency network fees are a fee that spenders may include in their on-chain transaction in order to have it included in a block. There are three network fee levels available for withdrawal transactions. Example for Bitcoin network: Level Expected blocks Expected time SLOW 7 ~1 hour AVERAGE 3 ~30 minutes FAST 1 ~10 minutes It is a very dynamic thing, therefore each level changes its value every minute in such a way as to guarantee that the transaction will be included in a specific block within a given time frame. GET /v2/network/{{currency}}/fee Permission: Merchant or Order or View Parameters: Name Type Mandatory Description currency IDENTIFIER YES Crypto currency like BTC, LTC, etc. Response body { \"SLOW\" : { \"fee\" : \"0.00004162\" , \"currency\" : \"BTC\" }, \"AVERAGE\" : { \"fee\" : \"0.00004357\" , \"currency\" : \"BTC\" }, \"FAST\" : { \"fee\" : \"0.00005612\" , \"currency\" : \"BTC\" } } The network feeLevel can be specified in a Make withdrawal request body. /v2/notification The endpoint allows to control notifications like subscribe/unsubscribe, see topics, see message history See more details about our notification engine in Callbacks documentation. Only management api described here. Callback key Generate callback key Generates new key-secret pairs for callbacks singing . Warning All new callbacks will be signed with new secret immediately after new pair generation. And there is no way to return back to old keys. Warning Secret key is returning only once, in response of current api method. There is no way to get generated key again, only generation of new key available. POST /v2/notification/key Request body: {} Response body: { \"key\" : \"78f0be5cd16ee9dc7a6e563ba11c8455\" , \"secret\" : \"24d4lCcoHiKpvtDE2d5W3Mosx9KR5TgH3aJO0b3CZxzUdWkIJGqdaZyA0NZARPeW2m3IrX6caZmswGpQMJS56w==\" } Topic List topics Returns list of available topics. GET /v2/notification/topic Permission: Merchant Response body [ { \"topic\" : \"ORDER\" , \"description\" : \"Emit messages when order's status or state have been changed. Message body same as response of Fetch order.\" }, { \"topic\" : \"DEPOSIT\" , \"description\" : \"Emit messages when deposit detected/updated. Message body same as response of Fetch deposit.\" }, { \"topic\" : \"WITHDRAWAL\" , \"description\" : \"Emit messages when withdrawal created/updated. Message body same as response of Fetch withdrawal.\" }, { \"topic\" : \"EXCHANGE\" , \"description\" : \"Emit messages when exchange flow completed. Includes accounting information.\" } ] Subscription Allows to manage your subscriptions. List subscriptions Returns list of active subscriptions. GET /v2/notification/subscription Permission: Merchant Response body [ { \"subscriptionId\" : \"19df0eeb-75ff-46de-8b5a-dcf965f068c9\" , \"topic\" : \"ORDER\" , \"createdAt\" : \"2020-03-03T10:22:20.592Z\" , \"updatedAt\" : \"2020-03-03T10:22:20.592Z\" , \"config\" : { \"url\" : \"https://localhost/onOrder\" , \"kind\" : \"Webhook\" , \"token\" : \"MY_R * * * OKEN\" , \"rootCertificate\" : \"-----BEGIN CERTIFICATE-----\\nMIIF * * * /8BQ=\\n-----END CERTIFICATE-----\\n\" } }, { \"subscriptionId\" : \"62447d5a-8aa6-46bd-9347-8c66ee135887\" , \"topic\" : \"DEPOSIT\" , \"createdAt\" : \"2020-03-03T10:50:13.188Z\" , \"updatedAt\" : \"2020-03-03T10:50:13.188Z\" , \"config\" : { \"url\" : \"https://localhost/onDeposit\" , \"kind\" : \"Webhook\" } } ] Get subscription Returns subscription details. GET /v2/notification/subscription/19df0eeb-75ff-46de-8b5a-dcf965f068c9 Permission: Merchant Response body { \"subscriptionId\" : \"19df0eeb-75ff-46de-8b5a-dcf965f068c9\" , \"topic\" : \"ORDER\" , \"createdAt\" : \"2020-03-03T10:22:20.592Z\" , \"updatedAt\" : \"2020-03-03T10:22:20.592Z\" , \"config\" : { \"url\" : \"https://localhost/onOrder\" , \"kind\" : \"Webhook\" , \"token\" : \"MY_R * * * OKEN\" , \"rootCertificate\" : \"-----BEGIN CERTIFICATE-----\\nMIIF * * * /8BQ=\\n-----END CERTIFICATE-----\\n\" } } Subscribe Subscribe on specific topic. POST /v2/notification/subscription Permission: Merchant Request body: { \"topic\" : \"DEPOSIT\" , \"config\" : { \"kind\" : \"Webhook\" , \"url\" : \"https://callback.mycompany.com/onDeposit\" , \"trustedCACertificate\" : \"-----BEGIN CERTIFICATE-----\\nMIIFDjCCAvagAwIBAgIITh0Z3zvTGzJty8FLnJAW/8BQ=\\n-----END CERTIFICATE-----\\n\" , \"headerToken\" : \"ANY_SECRET_TOKEN\" } } Warning Fields trustedCACertificate and headerToken are optional. Response body: { \"subscriptionId\" : \"35e0ed6d-ef65-4454-bf2f-041da5f97ded\" , \"topic\" : \"DEPOSIT\" , \"createdAt\" : \"2020-03-03T13:41:20.702Z\" , \"updatedAt\" : \"2020-03-03T13:41:20.702Z\" , \"config\" : { \"url\" : \"https://callback.mycompany.com/onDeposit\" , \"kind\" : \"Webhook\" , \"headerToken\" : \"ANY_ * * * OKEN\" , \"trustedCACertificate\" : \"-----BEGIN CERTIFICATE-----\\nMIIFDjCCAvagAwIBAgIITh0Z3zvTGzJty8FLnJAW/8BQ=\\n-----END CERTIFICATE-----\\n\" } } Delete subscriber Remove subscription. DELETE /v2/notification/subscription/cf61596e-a39d-4989-849f-d779f6528b98 No request body Permission: Merchant Response body { \"deletedAt\" : \"2020-03-03T13:42:37.043Z\" } /v2/order Order endpoint is available for order management. Every request must be signed using the described authentication scheme. Order statuses: PENDING - Order in progress. SLEEPING - Paused(sleeping). Wait for approve a breakpoint. See Resume breakpoint . ACCEPTED - Successfully completed REJECTED - Failure CANCELLED - Cancelled by user Order lifecycle: graph TD PENDING --> SLEEPING SLEEPING --> PENDING PENDING --> ACCEPTED PENDING --> REJECTED PENDING --> CANCELLED List orders Returns list of orders according filter defined by parameters GET /v2/order Permission: Order or View Parameters: Name Type Mandatory Description instrument STRING NO Instrument name (like: CRYPTO_BUY) startDate ISO 8601 NO Date of create order, from INCLUSIVE endDate ISO 8601 NO Date of create order, until EXCLUSIVE status STRING NO Status: PENDING, SLEEPING, ACCEPTED, CANCELLED or REJECTED beforeId STRING NO Request page before (newer) this pagination id. Pagination's param . afterId STRING NO Request page after (older) this pagination id. Pagination's param . limit INT NO Number of results per request. Default 500; max 1000. Pagination's param . Response body [ { \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"status\" : \"NEW\" , \"state\" : \"PENDING\" }, { \"orderId\" : \"CPO-6da1f03f748746588441e95e40ec429b\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" }, ... ] Create order Register a new order POST /v2/order Note This is an idempotent POST. Any duplicate request will be completed with response of the first request within 24 hours from the first request. This behaviour in conclusion with clientOrderId prevents potential order duplicates. Note You are able to make dry-run call before creating real orders. Add header: CP-EXECUTE-MODE: dry-run when execute this method. Permission: Order Request/Response body: Generic --> { \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"instrument\" : \"<NAME>\" , ...instrument specific fields... } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"NEW\" , \"status\" : \"PENDING\" , \"instrument\" : \"<NAME>\" , ...instrument specific fields... } CRYPTO_BUY (1) --> { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.request.json\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , // optional \"from\" : { \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"currency\" : \"BTC\" }, \"withdrawal\" : { \"kind\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } CRYPTO_BUY (2) --> { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.request.json\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , // optional \"from\" : { \"currency\" : \"USD\" }, \"to\" : { \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"withdrawal\" : { \"kind\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } CRYPTO_SELL (1) --> { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.request.json\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , // optional \"from\" : { \"currency\" : \"BTC\" , \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" // optional , will create new if skipped }, \"to\" : { \"currency\" : \"USD\" , \"amount\" : \"150.42\" } } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } CRYPTO_SELL (2) --> { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.request.json\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , // optional \"from\" : { \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" , \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" // optional , will create new if skipped }, \"to\" : { \"currency\" : \"USD\" } } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } Note Instrument specific fields are described in JSON schemas CRYPTO_BUY details Withdrawal exceptions Withdrawal section difference according kind selector Most of crytpo currencies provide just \"address\" as target for funds transfer. But some crypto currencies have extended fields. For example XRP, XLM and XMR has field \"destinationTag\". See this post to get knowledge. XRP (Ripple) { ... \"withdrawal\" : { \"kind\" : \"XRP\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } } XLM (Stellar) { ... \"withdrawal\" : { \"kind\" : \"XLM\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } } XMR (Monero) { ... \"withdrawal\" : { \"kind\" : \"XMR\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } } CRYPTO_SELL details Sunshine NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (NONE) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (PARTLY_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PARTLY_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.02\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } } EXCHANGING { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGING\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } EXCHANGED { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } COMPLETED { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" } ] } } Partly Paid NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (NONE) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (PARTLY_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"REJECTED\" , \"rejectReason\" : \"Expired. The order was not paid in appropriate time limit.\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PARTLY_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.02\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" } ] } } Flow of paidStatus field (while AWAIT_DEPOSIT state): graph LR NONE --> PARTLY_PAID PARTLY_PAID --> PAID PAID --> OVER_PAID NONE --> PAID NONE --> OVER_PAID PARTLY_PAID --> OVER_PAID Over Paid NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (NONE) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (PARTLY_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PARTLY_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.02\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (OVER_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"REJECTED\" , \"rejectReason\" : \"Over paid. The order was rejected due received large amount.\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"OVER_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.07180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-3138b55160a54174ab6e8116cc533bfc\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } } Flow of paidStatus field (while AWAIT_DEPOSIT state): graph LR NONE --> PARTLY_PAID PARTLY_PAID --> PAID PAID --> OVER_PAID NONE --> PAID NONE --> OVER_PAID PARTLY_PAID --> OVER_PAID Cancel order Cancel an execution process of the order (if possible) DELETE /v2/order/{{orderId}} Permission: Order Parameters: Name Type Mandatory Description orderId IDENTIFIER YES Identifier of the order Response body: --> { \"cancellationReason\" : \"A text message describes cancellation reason\" } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"CANCELLED\" , \"cancellationReason\" : \"A text message describes cancellation reason\" , \"state\" : \"NEW\" , \"instrument\" : \"<NAME>\" , ...instrument specific fields... } Fetch order Fetch single order by ID GET /v2/order/{{orderId}} Permission: Order or View Parameters: Name Type Mandatory Description orderId IDENTIFIER YES Identifier of the order Response body CRYPTO_BUY (NEW) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } CRYPTO_BUY (EXCHANGING) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGING\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } CRYPTO_BUY (WITHDRAWALING) CRYPTO_BUY (COMPLETED) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [ { \"//\" : \"...transaction info (include blockchain info)\" } ] } } CRYPTO_SELL (NEW) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } CRYPTO_SELL (AWAIT_DEPOSIT) CRYPTO_SELL (EXCHANGING) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGING\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } CRYPTO_SELL (EXCHANGED) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } CRYPTO_SELL (COMPLETED) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" } ] } } Breakpoints Breakpoints allow to control processing execution flow. List breakpoints Returns list of flow breakpoints GET /v2/order/{{orderId}}/breakpoint Permission: Order or View Response body { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.breakpoints.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"instrument\" : \"CRYPTO_SELL\" , \"breakpoints\" : { \"NEW\" : { \"description\" : \"Order was created. Ready start processing.\" , \"enabled\" : false }, \"AWAIT_DEPOSIT\" : { \"description\" : \"Order is waiting for deposit.\" }, \"READY_TO_EXCHANGE\" : { \"description\" : \"Order's balance enough to make exchange. Ready to exchange.\" , \"enabled\" : false } } } Resume breakpoint POST /v2/order/{{orderId}}/breakpoint/{{breakpointName}} Permission: Order No request body Note The method will return HTTP 403 if breakpoint in not signal state /v2/risk We uses screening tools that monitor illicit cryptocurrency addresses and tag addresses that interact with them. These tools can let us know with a high degree of certainty if cryptocurrency transactions we process have been linked to (or originated from) illicit activities online (terrorist funding, ML, dark marketplace activities, trafficking and so on). We take the data received with these tools very seriously as they help us monitor compliance with AML standards. Purpose of monitoring these transactions/addresses is, we do not want to process these funds, and neither do merchants. A level attribute that is available in callbacks that we send to a merchant's server regarding all transaction-related events dictates how close the transaction that was received was related to the illicit addresses (e.g. was it sent directly from a 'bad' address, or are there a few hops in between). Value Description LOW No red flags MEDIUM No red flags but we recommend to look closely at a user whom the transaction relates to and inform your Fraud Prevention / Transaction Monitoring teams HIGH Red flags. We Highly recommend to restrict the user's account and immediately inform your Fraud Prevention / Transaction Monitoring teams Score POST /v2/risk/score TBD /v2/time Get the API server time. GET /v2/time Note This endpoint does not require authentication. Response body { \"iso8601\" : \"2020-02-20T15:39:14.285Z\" , \"epoch\" : 1582213154.285 } The epoch field represents decimal seconds since Unix Epoch .","title":"REST API"},{"location":"api/#rest-api","text":"","title":"REST API"},{"location":"api/#basics","text":"Data is returned in ascending order. Oldest first, newest last. All time and timestamp related fields are in ISO 8601 . For GET endpoints, parameters must be sent as a query string . For POST, PUT, and DELETE endpoints, the parameters are sent in the request body with content type application/json . Success request codes: 2XX Client's mistakes: 4XX Server's errors: 5XX","title":"Basics"},{"location":"api/#responses","text":"Our API uses HTTP status codes to indicate the status of your requests. This includes successful and unsuccessful responses. 2xx (Successful): The request was successfully received, understood, and accepted 4xx (Client Error): The request contains bad syntax or cannot be fulfilled 5xx (Server Error): The server failed to fulfill an apparently valid request 5xx It is important to NOT treat this as a failure operation. The execution status is UNKNOWN and could have been a success. Error Reason Phrase An unsuccessful response DOES NOT HAVE body. Error message passed via Reason Phrase along with Status Code and CP-REASON-PHRASE header Status Code Meaning 200 OK Standard response for successful HTTP requests 201 Created The request has been fulfilled, resulting in the creation of a new resource 202 Accepted The request has been accepted for processing, but the processing has not been completed 400 {{Reason Phrase}} The server cannot or will not process the request due to an apparent client error (e.g., malformed request syntax, size too large, invalid request message framing, or deceptive request routing) 401 {{Reason Phrase}} Most likely you wasn't able to construct and sign your API request correctly using HMAC 403 {{Reason Phrase}} You don't have required permissions to perform requested action on the resource 404 {{Reason Phrase}} We don't have the resource you've requested 409 {{Reason Phrase}} Most likely the client's identifier value you're trying to use had been used before 422 {{Reason Phrase}} The request was well-formed but was unable to be followed due to semantic errors 500 {{Reason Phrase}} We have a problem with our server 503 Service Unavailable We're temporarily offline for maintenance","title":"Responses"},{"location":"api/#pagination","text":"We uses cursor pagination for all REST requests which return arrays. Cursor pagination allows for fetching results after the current page of results and is well suited for realtime data. Endpoints return the latest items by default. To retrieve more results subsequent requests should specify which direction to paginate based on the data previously returned. beforeId and afterId cursors are available via response headers CP-BEFORE and CP-AFTER . Your requests should use these cursor values when making requests for pages after the initial request. Parameters: Name Type Mandatory Description beforeId STRING NO Request page before (newer) this pagination id. afterId STRING NO Request page after (older) this pagination id. limit INT NO Number of results per request. Default 500; max 1000 Note before and after cursor arguments should not be confused with before and after in chronological time. Most paginated requests return the latest information (newest) as the first page sorted by newest (in chronological time) first. To get older information you would request pages after the initial page. To get information newer, you would request pages before the first page.","title":"Pagination"},{"location":"api/#types","text":"","title":"Types"},{"location":"api/#ids","text":"Most of identifiers are UUID-based with kind prefix. For example order identifier CPO-8075c1c9d7334be0860e3b57f0de43e5 comes from UUID 8075c1c9-d733-4be0-860e-3b57f0de43e5 { \"orderId\" : \"CPO-8075c1c9d7334be0860e3b57f0de43e5\" } Case insensitive UUID digits are case insensitive (not prefix). Values CPO-8075c1c9d7334be0860e3b57f0de43e5 and CPO-8075C1C9d7334BE0860E3B57F0DE43E5 are same identifier.","title":"IDs"},{"location":"api/#dates","text":"All timestamps from API are returned in ISO 8601 with milliseconds. Make sure you can parse the following ISO 8601 format. Most modern languages and libraries will handle this without issues. { \"date\" : \"2020-01-16T07:35:32.129Z\" }","title":"Dates"},{"location":"api/#decimal-financial","text":"All numbers that represent financial values are returned as strings to preserve full precision across platforms. When making a request, you must convert your numbers to strings to avoid truncation and precision errors. { \"amount\" : \"12345678.12345678\" }","title":"Decimal (Financial)"},{"location":"api/#integer","text":"Integer numbers (like counter) are unquoted. { \"confirmations\" : 5 }","title":"Integer"},{"location":"api/#rate-limit","text":"When a rate limit is exceeded, a status of 429 Too Many Requests will be returned. TBD: what is limit?","title":"Rate Limit"},{"location":"api/#authentication","text":"","title":"Authentication"},{"location":"api/#generating-an-api-key","text":"Before being able to sign any requests, you must create an API key via the CryptoPay support. Upon creating a key you will have 3 pieces of information which you must remember: Key - Randomly generated and provided by CryptoPay Secret - Randomly generated and provided by CryptoPay Passphrase - Provided by you to further secure your API access. CryptoPay stores the salted hash of your passphrase for verification, but cannot recover the passphrase if you forget it.","title":"Generating an API Key"},{"location":"api/#api-key-permissions","text":"You can restrict the functionality of API keys. Before creating the key, you must choose what permissions you would like the key to have. The permissions are:","title":"API Key Permissions"},{"location":"api/#account-permission","text":"Allows to make manage accounts and account's operations. Like create account, view account, make withdrawal, etc.","title":"Account permission"},{"location":"api/#merchant-permission","text":"Allows a key manage your sub-merchants.","title":"Merchant permission"},{"location":"api/#order-permission","text":"Allows a key to enter orders, as well as retrieve order data. This includes POST /order and several GET endpoints.","title":"Order permission"},{"location":"api/#view-permission","text":"Allows a key read permissions. This includes most of GET endpoints. Please refer to documentation below to see what API key permissions are required for a specific route.","title":"View permission"},{"location":"api/#creating-a-request","text":"All REST requests must contain the following headers: CP-ACCESS-KEY The api key as a string. CP-ACCESS-SIGN The base64-encoded signature (see Signing a Message ). CP-ACCESS-TIMESTAMP A timestamp for your request. CP-ACCESS-PASSPHRASE The passphrase you specified when creating the API key. All request bodies should have content type application/json and be valid JSON.","title":"Creating a Request"},{"location":"api/#signing-a-message","text":"The CP-ACCESS-SIGN header is generated by creating a sha256 HMAC using the base64-decoded secret key on the prehash string timestamp + method + requestPath + body (where + represents string concatenation) and base64-encode the output. The timestamp value is the same as the CP-ACCESS-TIMESTAMP header. The body is the request body string or omitted if there is no request body (typically for GET requests). The method should be UPPER CASE like \"GET\", \"POST\", etc. Note Do not forget to base64-decode the alphanumeric secret string (resulting in 64 bytes) before using it as the key for HMAC. Also, base64-encode the digest output before sending in the header. Bash + OpenSSL SECRET = \"cNmgFLOwbckPszgJdUe4rdpcUo2IBHtNPsyxAScjl7CN4omMN64UJAvODT8PsrPIfR7TosKUfEFROyhz/YJxsw==\" #TIMESTAMP=$(date +%s) TIMESTAMP = 1573753848 METHOD = \"POST\" URLPATH = \"/v2/order?something=42\" BODY = '{\"clientOrderId\":\"1490548887804-XA-1112-TU\",\"clientOrderTag\":\"Any merchant data\",\"instrument\":\"CRYPTO_SELL\",\"feeModel\":\"INCLUDED\",\"from\":{\"currency\":\"BTC\"},\"to\":{\"currency\":\"USD\",\"amount\":\"150.42\"}}' WHAT = \" ${ TIMESTAMP }${ METHOD }${ URLPATH }${ BODY } \" SECRET_KEY = $( echo -n \" ${ SECRET } \" | base64 --decode | hexdump -v -e '/1 \"%02x\"' ) echo -n \" ${ WHAT } \" | openssl dgst -sha256 -mac HMAC -macopt \"hexkey: $SECRET_KEY \" | xxd -r -p | base64 # Expected: 00O36QWCSc9/rmtxiqCnPQiHXr5xaXlZIf2nkdm9PUk= NodeJS const secret = \"cNmgFLOwbckPszgJdUe4rdpcUo2IBHtNPsyxAScjl7CN4omMN64UJAvODT8PsrPIfR7TosKUfEFROyhz/YJxsw==\" ; //const timestamp = Date.now() / 1000; const timestamp = 1573753848 ; const method = \"POST\" ; const urlPath = \"/v2/order?something=42\" ; const body = '{\"clientOrderId\":\"1490548887804-XA-1112-TU\",\"clientOrderTag\":\"Any merchant data\",\"instrument\":\"CRYPTO_SELL\",\"feeModel\":\"INCLUDED\",\"from\":{\"currency\":\"BTC\"},\"to\":{\"currency\":\"USD\",\"amount\":\"150.42\"}}' ; const what = timestamp + method + urlPath + body ; const secretKey = Buffer . from ( secret , \"base64\" ); const hmac = require ( \"crypto\" ). createHmac ( \"sha256\" , secretKey ); console . log ( hmac . update ( what ). digest ( \"base64\" )); // Expected: 00O36QWCSc9/rmtxiqCnPQiHXr5xaXlZIf2nkdm9PUk= PHP <?php $secret = \"cNmgFLOwbckPszgJdUe4rdpcUo2IBHtNPsyxAScjl7CN4omMN64UJAvODT8PsrPIfR7TosKUfEFROyhz/YJxsw==\" ; #$timestamp = time() $timestamp = 1573753848 ; $method = \"POST\" ; $urlPath = \"/v2/order?something=42\" ; $body = '{\"clientOrderId\":\"1490548887804-XA-1112-TU\",\"clientOrderTag\":\"Any merchant data\",\"instrument\":\"CRYPTO_SELL\",\"feeModel\":\"INCLUDED\",\"from\":{\"currency\":\"BTC\"},\"to\":{\"currency\":\"USD\",\"amount\":\"150.42\"}}' ; $what = $timestamp . $method . $urlPath . $body ; $secretKey = base64_decode ( $secret ); print ( base64_encode ( hash_hmac ( \"sha256\" , $what , $secretKey , true ))); # Expected: 00O36QWCSc9/rmtxiqCnPQiHXr5xaXlZIf2nkdm9PUk= Java // file: SignatureCalculator.java package band.cryptopay ; import java.nio.charset.Charset ; import java.security.InvalidKeyException ; import java.security.NoSuchAlgorithmException ; import javax.crypto.Mac ; import javax.crypto.spec.SecretKeySpec ; import org.apache.commons.codec.binary.Base64 ; import org.apache.commons.lang3.ArrayUtils ; public class SignatureCalculator { private final byte [] _secret ; public SignatureCalculator ( final String secretBase64 ) { this . _secret = Base64 . decodeBase64 ( secretBase64 ); } public String sing ( String timeStampStr , String httpMethod , String urlPath ) throws InvalidKeyException , NoSuchAlgorithmException { return sing ( timeStampStr , httpMethod , urlPath , null ); } public String sing ( String timeStampStr , String httpMethod , String urlPath , byte [] bodyRaw ) throws InvalidKeyException , NoSuchAlgorithmException { final String prefixStr = timeStampStr + httpMethod + urlPath ; final byte [] prefixRaw = prefixStr . getBytes ( Charset . forName ( \"UTF-8\" )); final String algo = \"HmacSHA256\" ; final Mac sha256_HMAC = Mac . getInstance ( algo ); sha256_HMAC . init ( new SecretKeySpec ( this . _secret , algo )); final byte [] what = bodyRaw != null ? ArrayUtils . addAll ( prefixRaw , bodyRaw ) : prefixRaw ; final byte [] signature = sha256_HMAC . doFinal ( what ); return Base64 . encodeBase64String ( signature ); } } // Make signature final String secretBase64 = \"cNmgFLOwbckPszgJdUe4rdpcUo2IBHtNPsyxAScjl7CN4omMN64UJAvODT8PsrPIfR7TosKUfEFROyhz/YJxsw==\" ; final String timeStampStr = \"1573753848\" ; final String httpMethod = \"POST\" ; final String urlPath = \"/v2/order?something=42\" ; final String bodyStr = \"{\\\"clientOrderId\\\":\\\"1490548887804-XA-1112-TU\\\",\\\"clientOrderTag\\\":\\\"Any merchant data\\\",\\\"instrument\\\":\\\"CRYPTO_SELL\\\",\\\"feeModel\\\":\\\"INCLUDED\\\",\\\"from\\\":{\\\"currency\\\":\\\"BTC\\\"},\\\"to\\\":{\\\"currency\\\":\\\"USD\\\",\\\"amount\\\":\\\"150.42\\\"}}\" ; final byte [] body = bodyStr . getBytes ( Charset . forName ( \"UTF-8\" )); final SignatureCalculator signatureCalculator = new SignatureCalculator ( secretBase64 ); final String signature = signatureCalculator . sing ( timeStampStr , httpMethod , urlPath , body ); System . out . println ( signature ); // Expected: 00O36QWCSc9/rmtxiqCnPQiHXr5xaXlZIf2nkdm9PUk=","title":"Signing a Message"},{"location":"api/#selecting-a-timestamp","text":"The CP-ACCESS-TIMESTAMP header MUST be number of seconds since Unix Epoch in UTC. Decimal values are allowed. CP-ACCESS-TIMESTAMP: 1579161402.051 Your timestamp must be within 30 seconds of the api service time or your request will be considered expired and rejected. We recommend using the time endpoint to query for the API server time if you believe there many be time skew between your server and the API servers.","title":"Selecting a Timestamp"},{"location":"api/#v2account","text":"","title":"/v2/account"},{"location":"api/#list-of-accounts","text":"Retrieve a list of all your accounts. GET /v2/account Permission: Account or View Parameters: Name Type Mandatory Description currency STRING NO Filter by currency . Comma separated combination of currencies like BTC, ETH, etc. startDate ISO 8601 NO Date of create account, from INCLUSIVE endDate ISO 8601 NO Date of create account, until EXCLUSIVE includeZero BOOLEAN NO Include zero balance accounts. Default: false. beforeId STRING NO Request page before (newer) this pagination id. Pagination's param . afterId STRING NO Request page after (older) this pagination id. Pagination's param . limit INT NO Number of results per request. Default 500; max 1000. Pagination's param . Response body [ { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"balance\" : \"0\" , \"currency\" : \"USD\" , \"clientAccountId\" : null , \"createdAt\" : \"2020-05-06T09:08:39.537Z\" , \"tag\" : \"Destination for order CPO-9706cb6acb1c4d8599394374b10022a0\" }, { \"accountId\" : \"CPA-97ac6d50d6754a40a9caace9b992d41d\" , \"balance\" : \"10000\" , \"currency\" : \"XRP\" , \"clientAccountId\" : null , \"createdAt\" : \"2020-05-06T09:08:39.537Z\" , \"tag\" : \"Intrenal asset assigned hot crypto address\" } ... ]","title":"List of accounts"},{"location":"api/#create-account","text":"POST /v2/account Permission: Account Request body: { \"clientAccountId\" : \"unique merchant's identifier\" , \"currency\" : \"BTC\" , \"tag\" : \"Account for merchant's user XXX\" } Response body: { \"accountId\" : \"CPA-283eb9706cf448969798eca9c54fc438\" , \"clientAccountId\" : \"unique merchant's identifier\" , \"createdAt\" : \"2020-01-17T15:57:11.183Z\" , \"tag\" : \"Account for merchant's user XXX\" , \"income\" : \"0\" , \"outcome\" : \"0\" , \"balance\" : \"0\" , \"transactions\" : 0 , \"currency\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" }","title":"Create account"},{"location":"api/#get-account-details","text":"Retrieve details of an account. GET /v2/account/{{accountId}} Permission: Account or View Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" Response body { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"clientAccountId\" : \"unique merchant's identifier\" , \"type\" : \"ONCE\" , \"createdAt\" : \"2020-01-16T09:51:58.598Z\" , \"tag\" : \"Deposit for order CPO-19824601944647cda1d2541df563dc26\" , \"income\" : \"0.0223\" , \"outcome\" : \"0.022\" , \"balance\" : \"0.0003\" , \"transactions\" : 0 , \"currency\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" }","title":"Get account details"},{"location":"api/#list-of-deposits","text":"Retrieve a list of account deposits. GET /v2/account/{{accountId}}/deposit Permission: Account or View Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" startDate ISO 8601 NO Date of deposit, from INCLUSIVE endDate ISO 8601 NO Date of deposit, until EXCLUSIVE status STRING NO One of values: \"PENDING\", \"ACCEPTED\", \"REJECTED\" beforeId STRING NO Request page before (newer) this pagination id. Pagination's param . afterId STRING NO Request page after (older) this pagination id. Pagination's param . limit INT NO Number of results per request. Default 500; max 1000. Pagination's param . Response body [ { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"depositId\" : \"CPD-7902170dd2124b80b3d4c46e4806026f\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"amount\" : \"0.55133277\" }, ... ]","title":"List of deposits"},{"location":"api/#get-deposit-details","text":"Retrieve details of a deposit. GET /v2/account/{{accountId}}/deposit/{{depositId}} Permission: Account or View Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" depositId IDENTIFIER YES Deposit identifier, like \"CPD-eeb6dff743824161a7e031528c48b5b2\" Response body CRYTPO PENDING { \"depositId\" : \"CPD-10a6808f89d14ea49d2865a3e3f07221\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"status\" : \"PENDING\" , \"date\" : \"2020-04-03T07:23:06.864Z\" , \"amount\" : \"101\" , \"tag\" : null , \"confirmations\" : 0 , \"block\" : null , \"txHash\" : \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" } CRYTPO ACCEPTED { \"depositId\" : \"CPD-10a6808f89d14ea49d2865a3e3f07221\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-04-03T07:23:06.864Z\" , \"amount\" : \"101\" , \"tag\" : \"Approved deposit 101 TRX for merchant INTERMEDIATE by reach confirmations 6\" , \"confirmations\" : 21 , \"block\" : null , \"txHash\" : \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" } CRYTPO REJECTED FIAT ACCEPTED { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"depositId\" : \"CPD-2302170dd2344b80b3d4c46e480603sd\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"amount\" : \"152.34\" , \"tag\" : \"Received deposit from exchange\" }","title":"Get deposit details"},{"location":"api/#list-of-withdrawals","text":"Retrieve a list of account withdrawals. GET /v2/account/{{accountId}}/withdrawal Permission: Account or View Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" startDate ISO 8601 NO Date of create withdrawal, from INCLUSIVE endDate ISO 8601 NO Date of create withdrawal, until EXCLUSIVE status STRING NO One of values: \"NEW\", \"PENDING\", \"CANCELLED\", \"ACCEPTED\", \"REJECTED\" beforeId STRING NO Request page before (newer) this pagination id. Pagination's param . afterId STRING NO Request page after (older) this pagination id. Pagination's param . limit INT NO Number of results per request. Default 500; max 1000. Pagination's param . Response body [ { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-7902170dd2124b80b3d4c46e4806026f\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"amount\" : \"0.55133277\" }, ... ]","title":"List of withdrawals"},{"location":"api/#get-withdrawal-details","text":"Retrieve details of a withdrawal. GET /v2/account/{{accountId}}/withdrawal/{{withdrawalId}} Permission: Account or View Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" withdrawalId IDENTIFIER YES Withdrawal identifier, like \"CPW-87d903426d9448a0ac5e8402a7973654\" Response body PENDING CRYPTO { \"withdrawalId\" : \"CPW-f248fb235227473e8a2e95d125f8fd80\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"tag\" : \"Return funds to end-user by L3 ticker XYZ\" , \"amount\" : \"0.052\" , \"currency\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"status\" : \"PENDING\" , \"date\" : null , \"networkFee\" : null , \"transactionAmount\" : null , \"txHash\" : null } ACCEPTED CRYPTO { \"withdrawalId\" : \"CPW-f248fb235227473e8a2e95d125f8fd80\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"tag\" : \"Return funds to end-user by L3 ticker XYZ\" , \"amount\" : \"0.052\" , \"currency\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-04-03T07:32:11.718Z\" , \"networkFee\" : \"0.001\" , \"transactionAmount\" : \"0.051\" , \"txHash\" : \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" } REJECTED CRYPTO { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-87d903426d9448a0ac5e8402a7973654\" , \"tag\" : \"Return funds to end-user by L3 ticker XYZ\" , \"amount\" : \"0.052\" , \"currency\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"status\" : \"REJECTED\" , \"rejectReason\" : \"....human readable reason...\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"networkFee\" : null , \"transactionAmount\" : null , \"txHash\" : null } PENDING FIAT { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-87d903426d9448a0ac5e8402a7973654\" , \"status\" : \"PENDING\" , \"amount\" : \"599.44\" , \"tag\" : \"Sent withdrawal to CEX:upXXXXXXXXXX according to processing instrument flow\" , \"currency\" : \"USD\" , \"//\" : \"...\" } ACCEPTED FIAT { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-87d903426d9448a0ac5e8402a7973654\" , \"status\" : \"ACCEPTED\" , \"amount\" : \"599.44\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"tag\" : \"Sent withdrawal to CEX:upXXXXXXXXXX according to processing instrument flow\" , \"currency\" : \"USD\" , \"//\" : \"...\" }","title":"Get withdrawal details"},{"location":"api/#make-withdrawal","text":"Prepare withdrawal POST /v2/account/{{accountId}}/withdrawal Permission: Account Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" Request body: { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/account-withdrawal-make.request.json\" , \"tag\" : \"Return funds to end-user by L3 ticker XYZ\" , \"amount\" : \"0.052\" , \"currency\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } Response body: { \"withdrawalId\" : \"CPW-f248fb235227473e8a2e95d125f8fd80\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"tag\" : \"Return funds to end-user by L3 ticker XYZ\" , \"amount\" : \"0.052\" , \"currency\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"status\" : \"PENDING\" , \"date\" : null , \"networkFee\" : null , \"transactionAmount\" : null , \"txHash\" : null }","title":"Make withdrawal"},{"location":"api/#withdrawal-request-body-exceptions","text":"Withdrawal section difference according currency selector Most of crytpo currencies provide just \"address\" as target for funds transfer. But some crypto currencies have extended fields. For example XRP, XLM and XMR has field \"destinationTag\". See this post to get knowledge. XRP (Ripple) { ... \"currency\" : \"XRP\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , ... } XLM (Stellar) { ... \"currency\" : \"XLM\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , ... } XMR (Monero) { ... \"currency\" : \"XMR\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , ... }","title":"Withdrawal request body exceptions"},{"location":"api/#commit-withdrawal","text":"Approve withdrawal POST /v2/account/{{accountId}}/withdrawal/{{withdrawalId}}/commit Parameters: Name Type Mandatory Description accountId IDENTIFIER YES Account identifier, like \"CPA-4bd95e67ddd842908b3225ba64950f7c\" withdrawalId IDENTIFIER YES Withdrawal identifier, like \"CPW-f248fb235227473e8a2e95d125f8fd80\" Permission : Account No request body No response body","title":"Commit withdrawal"},{"location":"api/#v2instrument","text":"","title":"/v2/instrument"},{"location":"api/#list-available-instruments","text":"Returns list of instruments GET /v2/instrument Permission: Order or View Response body { \"CRYPTO_BUY\" : { \"breakpoints\" : { \"NEW\" : { \"description\" : \"Order was created. Ready start processing.\" , \"enabled\" : true }, \"EXCHANGING\" : { \"description\" : \"Order's balance enough to make exchange. Order making exchange operations. Ready to exchange.\" , \"enabled\" : false }, \"WITHDRAWING\" : { \"description\" : \"Crypto funds were bought. Ready to withdrawal.\" , \"enabled\" : false }, \"COMPLETED\" : { \"description\" : \"Order fully completed (receive necessary blockchain's confirmations).\" } } }, \"CRYPTO_SELL\" : { \"breakpoints\" : { \"NEW\" : { \"description\" : \"Order was created. Ready start processing.\" , \"enabled\" : false }, \"AWAIT_DEPOSIT\" : { \"description\" : \"Order is waiting for deposit.\" }, \"EXCHANGING\" : { \"description\" : \"Order's balance enough to make exchange. Order making exchange operations.\" }, \"EXCHANGED\" : { \"description\" : \"Order was successfully exchanged (aka Ready To Ship).\" }, \"COMPLETED\" : { \"description\" : \"Order fully completed (receive necessary blockchain's confirmations).\" } } } }","title":"List available instruments"},{"location":"api/#v2network","text":"Provides information about cryptocurrency network.","title":"/v2/network"},{"location":"api/#network-fees","text":"Cryptocurrency network fees are a fee that spenders may include in their on-chain transaction in order to have it included in a block. There are three network fee levels available for withdrawal transactions. Example for Bitcoin network: Level Expected blocks Expected time SLOW 7 ~1 hour AVERAGE 3 ~30 minutes FAST 1 ~10 minutes It is a very dynamic thing, therefore each level changes its value every minute in such a way as to guarantee that the transaction will be included in a specific block within a given time frame. GET /v2/network/{{currency}}/fee Permission: Merchant or Order or View Parameters: Name Type Mandatory Description currency IDENTIFIER YES Crypto currency like BTC, LTC, etc. Response body { \"SLOW\" : { \"fee\" : \"0.00004162\" , \"currency\" : \"BTC\" }, \"AVERAGE\" : { \"fee\" : \"0.00004357\" , \"currency\" : \"BTC\" }, \"FAST\" : { \"fee\" : \"0.00005612\" , \"currency\" : \"BTC\" } } The network feeLevel can be specified in a Make withdrawal request body.","title":"Network fees"},{"location":"api/#v2notification","text":"The endpoint allows to control notifications like subscribe/unsubscribe, see topics, see message history See more details about our notification engine in Callbacks documentation. Only management api described here.","title":"/v2/notification"},{"location":"api/#callback-key","text":"","title":"Callback key"},{"location":"api/#generate-callback-key","text":"Generates new key-secret pairs for callbacks singing . Warning All new callbacks will be signed with new secret immediately after new pair generation. And there is no way to return back to old keys. Warning Secret key is returning only once, in response of current api method. There is no way to get generated key again, only generation of new key available. POST /v2/notification/key Request body: {} Response body: { \"key\" : \"78f0be5cd16ee9dc7a6e563ba11c8455\" , \"secret\" : \"24d4lCcoHiKpvtDE2d5W3Mosx9KR5TgH3aJO0b3CZxzUdWkIJGqdaZyA0NZARPeW2m3IrX6caZmswGpQMJS56w==\" }","title":"Generate callback key"},{"location":"api/#topic","text":"","title":"Topic"},{"location":"api/#list-topics","text":"Returns list of available topics. GET /v2/notification/topic Permission: Merchant Response body [ { \"topic\" : \"ORDER\" , \"description\" : \"Emit messages when order's status or state have been changed. Message body same as response of Fetch order.\" }, { \"topic\" : \"DEPOSIT\" , \"description\" : \"Emit messages when deposit detected/updated. Message body same as response of Fetch deposit.\" }, { \"topic\" : \"WITHDRAWAL\" , \"description\" : \"Emit messages when withdrawal created/updated. Message body same as response of Fetch withdrawal.\" }, { \"topic\" : \"EXCHANGE\" , \"description\" : \"Emit messages when exchange flow completed. Includes accounting information.\" } ]","title":"List topics"},{"location":"api/#subscription","text":"Allows to manage your subscriptions.","title":"Subscription"},{"location":"api/#list-subscriptions","text":"Returns list of active subscriptions. GET /v2/notification/subscription Permission: Merchant Response body [ { \"subscriptionId\" : \"19df0eeb-75ff-46de-8b5a-dcf965f068c9\" , \"topic\" : \"ORDER\" , \"createdAt\" : \"2020-03-03T10:22:20.592Z\" , \"updatedAt\" : \"2020-03-03T10:22:20.592Z\" , \"config\" : { \"url\" : \"https://localhost/onOrder\" , \"kind\" : \"Webhook\" , \"token\" : \"MY_R * * * OKEN\" , \"rootCertificate\" : \"-----BEGIN CERTIFICATE-----\\nMIIF * * * /8BQ=\\n-----END CERTIFICATE-----\\n\" } }, { \"subscriptionId\" : \"62447d5a-8aa6-46bd-9347-8c66ee135887\" , \"topic\" : \"DEPOSIT\" , \"createdAt\" : \"2020-03-03T10:50:13.188Z\" , \"updatedAt\" : \"2020-03-03T10:50:13.188Z\" , \"config\" : { \"url\" : \"https://localhost/onDeposit\" , \"kind\" : \"Webhook\" } } ]","title":"List subscriptions"},{"location":"api/#get-subscription","text":"Returns subscription details. GET /v2/notification/subscription/19df0eeb-75ff-46de-8b5a-dcf965f068c9 Permission: Merchant Response body { \"subscriptionId\" : \"19df0eeb-75ff-46de-8b5a-dcf965f068c9\" , \"topic\" : \"ORDER\" , \"createdAt\" : \"2020-03-03T10:22:20.592Z\" , \"updatedAt\" : \"2020-03-03T10:22:20.592Z\" , \"config\" : { \"url\" : \"https://localhost/onOrder\" , \"kind\" : \"Webhook\" , \"token\" : \"MY_R * * * OKEN\" , \"rootCertificate\" : \"-----BEGIN CERTIFICATE-----\\nMIIF * * * /8BQ=\\n-----END CERTIFICATE-----\\n\" } }","title":"Get subscription"},{"location":"api/#subscribe","text":"Subscribe on specific topic. POST /v2/notification/subscription Permission: Merchant Request body: { \"topic\" : \"DEPOSIT\" , \"config\" : { \"kind\" : \"Webhook\" , \"url\" : \"https://callback.mycompany.com/onDeposit\" , \"trustedCACertificate\" : \"-----BEGIN CERTIFICATE-----\\nMIIFDjCCAvagAwIBAgIITh0Z3zvTGzJty8FLnJAW/8BQ=\\n-----END CERTIFICATE-----\\n\" , \"headerToken\" : \"ANY_SECRET_TOKEN\" } } Warning Fields trustedCACertificate and headerToken are optional. Response body: { \"subscriptionId\" : \"35e0ed6d-ef65-4454-bf2f-041da5f97ded\" , \"topic\" : \"DEPOSIT\" , \"createdAt\" : \"2020-03-03T13:41:20.702Z\" , \"updatedAt\" : \"2020-03-03T13:41:20.702Z\" , \"config\" : { \"url\" : \"https://callback.mycompany.com/onDeposit\" , \"kind\" : \"Webhook\" , \"headerToken\" : \"ANY_ * * * OKEN\" , \"trustedCACertificate\" : \"-----BEGIN CERTIFICATE-----\\nMIIFDjCCAvagAwIBAgIITh0Z3zvTGzJty8FLnJAW/8BQ=\\n-----END CERTIFICATE-----\\n\" } }","title":"Subscribe"},{"location":"api/#delete-subscriber","text":"Remove subscription. DELETE /v2/notification/subscription/cf61596e-a39d-4989-849f-d779f6528b98 No request body Permission: Merchant Response body { \"deletedAt\" : \"2020-03-03T13:42:37.043Z\" }","title":"Delete subscriber"},{"location":"api/#v2order","text":"Order endpoint is available for order management. Every request must be signed using the described authentication scheme. Order statuses: PENDING - Order in progress. SLEEPING - Paused(sleeping). Wait for approve a breakpoint. See Resume breakpoint . ACCEPTED - Successfully completed REJECTED - Failure CANCELLED - Cancelled by user Order lifecycle: graph TD PENDING --> SLEEPING SLEEPING --> PENDING PENDING --> ACCEPTED PENDING --> REJECTED PENDING --> CANCELLED","title":"/v2/order"},{"location":"api/#list-orders","text":"Returns list of orders according filter defined by parameters GET /v2/order Permission: Order or View Parameters: Name Type Mandatory Description instrument STRING NO Instrument name (like: CRYPTO_BUY) startDate ISO 8601 NO Date of create order, from INCLUSIVE endDate ISO 8601 NO Date of create order, until EXCLUSIVE status STRING NO Status: PENDING, SLEEPING, ACCEPTED, CANCELLED or REJECTED beforeId STRING NO Request page before (newer) this pagination id. Pagination's param . afterId STRING NO Request page after (older) this pagination id. Pagination's param . limit INT NO Number of results per request. Default 500; max 1000. Pagination's param . Response body [ { \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"status\" : \"NEW\" , \"state\" : \"PENDING\" }, { \"orderId\" : \"CPO-6da1f03f748746588441e95e40ec429b\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" }, ... ]","title":"List orders"},{"location":"api/#create-order","text":"Register a new order POST /v2/order Note This is an idempotent POST. Any duplicate request will be completed with response of the first request within 24 hours from the first request. This behaviour in conclusion with clientOrderId prevents potential order duplicates. Note You are able to make dry-run call before creating real orders. Add header: CP-EXECUTE-MODE: dry-run when execute this method. Permission: Order Request/Response body: Generic --> { \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"instrument\" : \"<NAME>\" , ...instrument specific fields... } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"NEW\" , \"status\" : \"PENDING\" , \"instrument\" : \"<NAME>\" , ...instrument specific fields... } CRYPTO_BUY (1) --> { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.request.json\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , // optional \"from\" : { \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"currency\" : \"BTC\" }, \"withdrawal\" : { \"kind\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } CRYPTO_BUY (2) --> { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.request.json\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , // optional \"from\" : { \"currency\" : \"USD\" }, \"to\" : { \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"withdrawal\" : { \"kind\" : \"BTC\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } CRYPTO_SELL (1) --> { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.request.json\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , // optional \"from\" : { \"currency\" : \"BTC\" , \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" // optional , will create new if skipped }, \"to\" : { \"currency\" : \"USD\" , \"amount\" : \"150.42\" } } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } CRYPTO_SELL (2) --> { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.request.json\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , // optional \"from\" : { \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" , \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" // optional , will create new if skipped }, \"to\" : { \"currency\" : \"USD\" } } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } Note Instrument specific fields are described in JSON schemas","title":"Create order"},{"location":"api/#crypto_buy-details","text":"","title":"CRYPTO_BUY details"},{"location":"api/#withdrawal-exceptions","text":"Withdrawal section difference according kind selector Most of crytpo currencies provide just \"address\" as target for funds transfer. But some crypto currencies have extended fields. For example XRP, XLM and XMR has field \"destinationTag\". See this post to get knowledge. XRP (Ripple) { ... \"withdrawal\" : { \"kind\" : \"XRP\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } } XLM (Stellar) { ... \"withdrawal\" : { \"kind\" : \"XLM\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } } XMR (Monero) { ... \"withdrawal\" : { \"kind\" : \"XMR\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"destinationTag\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" } }","title":"Withdrawal exceptions"},{"location":"api/#crypto_sell-details","text":"","title":"CRYPTO_SELL details"},{"location":"api/#sunshine","text":"NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (NONE) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (PARTLY_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PARTLY_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.02\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } } EXCHANGING { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGING\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } EXCHANGED { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } COMPLETED { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" } ] } }","title":"Sunshine"},{"location":"api/#partly-paid","text":"NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (NONE) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (PARTLY_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"REJECTED\" , \"rejectReason\" : \"Expired. The order was not paid in appropriate time limit.\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PARTLY_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.02\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" } ] } } Flow of paidStatus field (while AWAIT_DEPOSIT state): graph LR NONE --> PARTLY_PAID PARTLY_PAID --> PAID PAID --> OVER_PAID NONE --> PAID NONE --> OVER_PAID PARTLY_PAID --> OVER_PAID","title":"Partly Paid"},{"location":"api/#over-paid","text":"NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (NONE) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (PARTLY_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PARTLY_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.02\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (OVER_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"REJECTED\" , \"rejectReason\" : \"Over paid. The order was rejected due received large amount.\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"OVER_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.07180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-3138b55160a54174ab6e8116cc533bfc\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } } Flow of paidStatus field (while AWAIT_DEPOSIT state): graph LR NONE --> PARTLY_PAID PARTLY_PAID --> PAID PAID --> OVER_PAID NONE --> PAID NONE --> OVER_PAID PARTLY_PAID --> OVER_PAID","title":"Over Paid"},{"location":"api/#cancel-order","text":"Cancel an execution process of the order (if possible) DELETE /v2/order/{{orderId}} Permission: Order Parameters: Name Type Mandatory Description orderId IDENTIFIER YES Identifier of the order Response body: --> { \"cancellationReason\" : \"A text message describes cancellation reason\" } <-- { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"CANCELLED\" , \"cancellationReason\" : \"A text message describes cancellation reason\" , \"state\" : \"NEW\" , \"instrument\" : \"<NAME>\" , ...instrument specific fields... }","title":"Cancel order"},{"location":"api/#fetch-order","text":"Fetch single order by ID GET /v2/order/{{orderId}} Permission: Order or View Parameters: Name Type Mandatory Description orderId IDENTIFIER YES Identifier of the order Response body CRYPTO_BUY (NEW) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } CRYPTO_BUY (EXCHANGING) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGING\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } CRYPTO_BUY (WITHDRAWALING) CRYPTO_BUY (COMPLETED) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [ { \"//\" : \"...transaction info (include blockchain info)\" } ] } } CRYPTO_SELL (NEW) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } CRYPTO_SELL (AWAIT_DEPOSIT) CRYPTO_SELL (EXCHANGING) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGING\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } CRYPTO_SELL (EXCHANGED) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } CRYPTO_SELL (COMPLETED) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" } ] } }","title":"Fetch order"},{"location":"api/#breakpoints","text":"Breakpoints allow to control processing execution flow.","title":"Breakpoints"},{"location":"api/#list-breakpoints","text":"Returns list of flow breakpoints GET /v2/order/{{orderId}}/breakpoint Permission: Order or View Response body { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.breakpoints.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"instrument\" : \"CRYPTO_SELL\" , \"breakpoints\" : { \"NEW\" : { \"description\" : \"Order was created. Ready start processing.\" , \"enabled\" : false }, \"AWAIT_DEPOSIT\" : { \"description\" : \"Order is waiting for deposit.\" }, \"READY_TO_EXCHANGE\" : { \"description\" : \"Order's balance enough to make exchange. Ready to exchange.\" , \"enabled\" : false } } }","title":"List breakpoints"},{"location":"api/#resume-breakpoint","text":"POST /v2/order/{{orderId}}/breakpoint/{{breakpointName}} Permission: Order No request body Note The method will return HTTP 403 if breakpoint in not signal state","title":"Resume breakpoint"},{"location":"api/#v2risk","text":"We uses screening tools that monitor illicit cryptocurrency addresses and tag addresses that interact with them. These tools can let us know with a high degree of certainty if cryptocurrency transactions we process have been linked to (or originated from) illicit activities online (terrorist funding, ML, dark marketplace activities, trafficking and so on). We take the data received with these tools very seriously as they help us monitor compliance with AML standards. Purpose of monitoring these transactions/addresses is, we do not want to process these funds, and neither do merchants. A level attribute that is available in callbacks that we send to a merchant's server regarding all transaction-related events dictates how close the transaction that was received was related to the illicit addresses (e.g. was it sent directly from a 'bad' address, or are there a few hops in between). Value Description LOW No red flags MEDIUM No red flags but we recommend to look closely at a user whom the transaction relates to and inform your Fraud Prevention / Transaction Monitoring teams HIGH Red flags. We Highly recommend to restrict the user's account and immediately inform your Fraud Prevention / Transaction Monitoring teams","title":"/v2/risk"},{"location":"api/#score","text":"POST /v2/risk/score TBD","title":"Score"},{"location":"api/#v2time","text":"Get the API server time. GET /v2/time Note This endpoint does not require authentication. Response body { \"iso8601\" : \"2020-02-20T15:39:14.285Z\" , \"epoch\" : 1582213154.285 } The epoch field represents decimal seconds since Unix Epoch .","title":"/v2/time"},{"location":"callbacks-webhooks/","text":"Webhooks Webhooks are \"user-defined HTTP callbacks\". When an event occurs, Notifier makes an HTTP request to the URI configured for the webhook. Warning Your endpoint should ALWAYS return a valid HTTP response with HTTP status 2XX. Any other response will be treated as failure, and callback will be retried in some time. Headers Notifier will include following headers to each request: Notifier headers NF-MSG_ID - Message identifier NF-TOKEN - Secret token (if set) Forwarded headers CP-TOPIC The name of topic from which notification delivered. CP-ACCESS-KEY The api key as a string. CP-ACCESS-CALLBACK-SIGN - The base64-encoded signature CP-ACCESS-TIMESTAMP - A timestamp that was used in signature calculation Security SSL verification SSL Verification enables automatically for URL scheme https: . No additional configuration required. Optional You can specify a CA Certificates (via API parameter rootCertificate ), and it will be used to verify the SSL certificate of the webhook endpoint. Otherwise the SSL certificate of the webhook endpoint is verified based on an internal list of Certificate Authorities. Secret token If you setup a secret token (via API parameter token ), it will be sent with the callback request in the NF-TOKEN HTTP header. Callback key-secret pair Key-secret pair used for singing callbacks. Only one pair can be active in the same time. You can refresh key-secret pair over API request . Node Initially you will receive callbacks signed with initially generated key-secrete pair, you need to request new pair to be able to check signature. Message signature Before processing a message you need to check signature: signature created using secret from callback key-secret pair ; signature algorithm is the same like for direct request , but string for signing is timestamp + body ; signature sent in CP-ACCESS-CALLBACK-SIGN header; key from key-secret pair sent in CP-ACCESS-KEY header. Subscribe To start receiving messaged, you need to subscribe a topic . Use appropriate methods from REST API . Topic ORDER Emit messages when Order 's status and/or state have been changed. Message body same as response of Fetch order Instrument CRYPTO_BUY Sunshine NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } EXCHANGING { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGING\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } WITHDRAWING { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"WITHDRAWING\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawalFeeLevel\" : \"AVERAGE\" , \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } COMPLETED { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [ { \"//\" : \"...transaction info (include blockchain info)\" } ] } } Instrument CRYPTO_SELL Sunshine NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (NONE) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (PARTLY_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PARTLY_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.02\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } } EXCHANGING { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGING\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } EXCHANGED { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } COMPLETED { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" } ] } } Over Paid NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (NONE) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (PARTLY_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PARTLY_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.02\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (OVER_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"REJECTED\" , \"rejectReason\" : \"Over paid. The order was rejected due received large amount.\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"OVER_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.07180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-3138b55160a54174ab6e8116cc533bfc\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } } Topic DEPOSIT Emit messages when deposit detected/updated. Message body same as response of Fetch deposit BTC Sunshine PENDING { \"depositId\" : \"CPD-10a6808f89d14ea49d2865a3e3f07221\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"status\" : \"PENDING\" , \"date\" : \"2020-04-03T07:23:06.864Z\" , \"amount\" : \"101\" , \"tag\" : null , \"confirmations\" : 0 , \"block\" : null , \"txHash\" : \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" } ACCEPTED { \"depositId\" : \"CPD-10a6808f89d14ea49d2865a3e3f07221\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-04-03T07:23:06.864Z\" , \"amount\" : \"101\" , \"tag\" : \"Approved deposit 101 TRX for merchant INTERMEDIATE by reach confirmations 6\" , \"confirmations\" : 21 , \"block\" : null , \"txHash\" : \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" } Topic WITHDRAWAL Emit messages when withdrawal created/updated. Message body same as response of Fetch withdrawal USD Sunshine PENDING { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-87d903426d9448a0ac5e8402a7973654\" , \"status\" : \"PENDING\" , \"amount\" : \"599.44\" , \"tag\" : \"Sent withdrawal to CEX:upXXXXXXXXXX according to processing instrument flow\" , \"currency\" : \"USD\" , \"//\" : \"...\" } ACCEPTED { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-87d903426d9448a0ac5e8402a7973654\" , \"status\" : \"ACCEPTED\" , \"amount\" : \"599.44\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"tag\" : \"Sent withdrawal to CEX:upXXXXXXXXXX according to processing instrument flow\" , \"currency\" : \"USD\" , \"//\" : \"...\" }","title":"Webhooks"},{"location":"callbacks-webhooks/#webhooks","text":"Webhooks are \"user-defined HTTP callbacks\". When an event occurs, Notifier makes an HTTP request to the URI configured for the webhook. Warning Your endpoint should ALWAYS return a valid HTTP response with HTTP status 2XX. Any other response will be treated as failure, and callback will be retried in some time.","title":"Webhooks"},{"location":"callbacks-webhooks/#headers","text":"Notifier will include following headers to each request:","title":"Headers"},{"location":"callbacks-webhooks/#notifier-headers","text":"NF-MSG_ID - Message identifier NF-TOKEN - Secret token (if set)","title":"Notifier headers"},{"location":"callbacks-webhooks/#forwarded-headers","text":"CP-TOPIC The name of topic from which notification delivered. CP-ACCESS-KEY The api key as a string. CP-ACCESS-CALLBACK-SIGN - The base64-encoded signature CP-ACCESS-TIMESTAMP - A timestamp that was used in signature calculation","title":"Forwarded headers"},{"location":"callbacks-webhooks/#security","text":"","title":"Security"},{"location":"callbacks-webhooks/#ssl-verification","text":"SSL Verification enables automatically for URL scheme https: . No additional configuration required. Optional You can specify a CA Certificates (via API parameter rootCertificate ), and it will be used to verify the SSL certificate of the webhook endpoint. Otherwise the SSL certificate of the webhook endpoint is verified based on an internal list of Certificate Authorities.","title":"SSL verification"},{"location":"callbacks-webhooks/#secret-token","text":"If you setup a secret token (via API parameter token ), it will be sent with the callback request in the NF-TOKEN HTTP header.","title":"Secret token"},{"location":"callbacks-webhooks/#callback-key-secret-pair","text":"Key-secret pair used for singing callbacks. Only one pair can be active in the same time. You can refresh key-secret pair over API request . Node Initially you will receive callbacks signed with initially generated key-secrete pair, you need to request new pair to be able to check signature.","title":"Callback key-secret pair"},{"location":"callbacks-webhooks/#message-signature","text":"Before processing a message you need to check signature: signature created using secret from callback key-secret pair ; signature algorithm is the same like for direct request , but string for signing is timestamp + body ; signature sent in CP-ACCESS-CALLBACK-SIGN header; key from key-secret pair sent in CP-ACCESS-KEY header.","title":"Message signature"},{"location":"callbacks-webhooks/#subscribe","text":"To start receiving messaged, you need to subscribe a topic . Use appropriate methods from REST API .","title":"Subscribe"},{"location":"callbacks-webhooks/#topic-order","text":"Emit messages when Order 's status and/or state have been changed. Message body same as response of Fetch order","title":"Topic ORDER"},{"location":"callbacks-webhooks/#instrument-crypto_buy","text":"","title":"Instrument CRYPTO_BUY"},{"location":"callbacks-webhooks/#sunshine","text":"NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } EXCHANGING { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGING\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } WITHDRAWING { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"WITHDRAWING\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawalFeeLevel\" : \"AVERAGE\" , \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [] } } COMPLETED { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_BUY.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" , \"instrument\" : \"CRYPTO_BUY\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"to\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"withdrawal\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"networkFeeLevel\" : \"AVERAGE\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"transactions\" : [ { \"//\" : \"...transaction info (include blockchain info)\" } ] } }","title":"Sunshine"},{"location":"callbacks-webhooks/#instrument-crypto_sell","text":"","title":"Instrument CRYPTO_SELL"},{"location":"callbacks-webhooks/#sunshine_1","text":"NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (NONE) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (PARTLY_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PARTLY_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.02\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } } EXCHANGING { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGING\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } EXCHANGED { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"EXCHANGED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 4 , \"status\" : \"PENDING\" } ] } } COMPLETED { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"ACCEPTED\" , \"state\" : \"COMPLETED\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : \"9403.20361578\" }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 6 , \"status\" : \"PENDING\" } ] } }","title":"Sunshine"},{"location":"callbacks-webhooks/#over-paid","text":"NEW { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"PENDING\" , \"state\" : \"NEW\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (NONE) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"NONE\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [] } } AWAIT_DEPOSIT (PARTLY_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PARTLY_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.02\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"SLEEPING\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.05180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } } AWAIT_DEPOSIT (OVER_PAID) { \"$schema\" : \"https://cexiolabs.github.io/cryptopay.schemas/v2/order.CRYPTO_SELL.json\" , \"orderId\" : \"CPO-b3987b14439543c0b7c3f627cb8d0e87\" , \"clientOrderId\" : \"1490548887804-XA-1112-TU\" , \"clientOrderTag\" : \"Any merchant's data\" , \"status\" : \"REJECTED\" , \"rejectReason\" : \"Over paid. The order was rejected due received large amount.\" , \"state\" : \"AWAIT_DEPOSIT\" , \"instrument\" : \"CRYPTO_SELL\" , \"model\" : \"DEFAULT\" , \"createdAt\" : \"2020-01-17T15:10:12.550Z\" , \"updatedAt\" : \"2020-01-17T15:10:19.128Z\" , \"expiredAt\" : \"2020-01-17T15:25:12.550Z\" , \"from\" : { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"currency\" : \"BTC\" , \"amount\" : \"0.05142111\" }, \"to\" : { \"accountId\" : \"CPA-67f28d8f27b0430f8ced612f678bc0c6\" , \"currency\" : \"USD\" , \"amount\" : \"150.42\" }, \"rate\" : { \"symbol\" : \"BTC/USD\" , \"initial\" : \"9403.12773947\" , \"exchange\" : null }, \"fees\" : [ { \"kind\" : \"EXCHANGE\" , \"amount\" : \"2.0\" , \"currency\" : \"USD\" } ], \"paidStatus\" : \"OVER_PAID\" , \"deposit\" : { \"kind\" : \"BTC\" , \"network\" : \"mainnet\" , \"address\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"amount\" : \"0.07180448\" , \"uri\" : \"bitcoin:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?amount=0.05142111&label=Sell%20some%20BTC%20for%20150.42\" , \"transactions\" : [ { \"depositId\" : \"CPD-3138b55160a54174ab6e8116cc533bfc\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-d57cb20a736b4703ba21d401e55c3d41\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 0 , \"status\" : \"PENDING\" }, { \"depositId\" : \"CPD-eabb9d8e575145fc9a05d778592c0e3d\" , \"txHash\" : \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" , \"confirmations\" : 2 , \"status\" : \"PENDING\" } ] } }","title":"Over Paid"},{"location":"callbacks-webhooks/#topic-deposit","text":"Emit messages when deposit detected/updated. Message body same as response of Fetch deposit","title":"Topic DEPOSIT"},{"location":"callbacks-webhooks/#btc","text":"","title":"BTC"},{"location":"callbacks-webhooks/#sunshine_2","text":"PENDING { \"depositId\" : \"CPD-10a6808f89d14ea49d2865a3e3f07221\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"status\" : \"PENDING\" , \"date\" : \"2020-04-03T07:23:06.864Z\" , \"amount\" : \"101\" , \"tag\" : null , \"confirmations\" : 0 , \"block\" : null , \"txHash\" : \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" } ACCEPTED { \"depositId\" : \"CPD-10a6808f89d14ea49d2865a3e3f07221\" , \"accountId\" : \"CPA-a64e2b0dbd4144cdab993d4f99c8030f\" , \"status\" : \"ACCEPTED\" , \"date\" : \"2020-04-03T07:23:06.864Z\" , \"amount\" : \"101\" , \"tag\" : \"Approved deposit 101 TRX for merchant INTERMEDIATE by reach confirmations 6\" , \"confirmations\" : 21 , \"block\" : null , \"txHash\" : \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" }","title":"Sunshine"},{"location":"callbacks-webhooks/#topic-withdrawal","text":"Emit messages when withdrawal created/updated. Message body same as response of Fetch withdrawal","title":"Topic WITHDRAWAL"},{"location":"callbacks-webhooks/#usd","text":"","title":"USD"},{"location":"callbacks-webhooks/#sunshine_3","text":"PENDING { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-87d903426d9448a0ac5e8402a7973654\" , \"status\" : \"PENDING\" , \"amount\" : \"599.44\" , \"tag\" : \"Sent withdrawal to CEX:upXXXXXXXXXX according to processing instrument flow\" , \"currency\" : \"USD\" , \"//\" : \"...\" } ACCEPTED { \"accountId\" : \"CPA-4bd95e67ddd842908b3225ba64950f7c\" , \"withdrawalId\" : \"CPW-87d903426d9448a0ac5e8402a7973654\" , \"status\" : \"ACCEPTED\" , \"amount\" : \"599.44\" , \"date\" : \"2020-01-16T12:56:07.111Z\" , \"tag\" : \"Sent withdrawal to CEX:upXXXXXXXXXX according to processing instrument flow\" , \"currency\" : \"USD\" , \"//\" : \"...\" }","title":"Sunshine"},{"location":"callbacks/","text":"Callbacks Callbacks are based on Publish\u2013Subscribe pattern via a Notifier service. The Notifier service's responsibility is to deliver callback messages via Webhooks and other messaging providers. Recommendation Although notification includes real and valid data, we recommend to use notifications just as notifications and retrieve data via appropriate method of Pull API ( REST API for example). In general, any notifications system by design may delay messages. Good practice for end-application is to check status via Pull API if expected message was not received in expected time frame. Topics Topic Name Description ORDER Emit messages when order 's status and/or state have been changed. Message body same as response of Fetch order DEPOSIT Emit messages when deposit detected/updated. Message body same as response of Fetch deposit WITHDRAWAL Emit messages when withdrawal created/updated. Message body same as response of Fetch withdrawal Use-case Client subscribe a desired topic Notifier deliver events Client unsubscribe the topic No delivery sequenceDiagram participant Subscriber1 participant Subscriber2 participant Notifier opt Event A Notifier->>Notifier: Skip, just audit end Subscriber2->>+Notifier: Subscribe \"ORDER\" topic Notifier-->>-Subscriber2: OK opt Event B Notifier->>Notifier: Schedule delivery Notifier->>+Subscriber2: Message B for \"ORDER\" Subscriber2-->>-Notifier: OK end Subscriber1->>+Notifier: Subscribe \"ORDER\" topic Notifier-->>-Subscriber1: OK opt Event C Notifier->>Notifier: Schedule delivery Notifier->>+Subscriber2: Message C for \"ORDER\" Subscriber2-->>-Notifier: OK Notifier->>+Subscriber1: Message C for \"ORDER\" Subscriber1-->>-Notifier: OK end Subscriber1->>+Notifier: Unsubscribe \"ORDER\" topic Notifier-->>-Subscriber1: OK opt Event D Notifier->>Notifier: Schedule delivery Notifier->>+Subscriber2: Message D for \"ORDER\" Subscriber2-->>-Notifier: OK end Delivery Messages are sent immediately after an operation was performed. Notifier records the fact of message delivery to your system after receiving the response from your system. In case of delivery fail the server retries delivery according to next law: First 100 attempts with delay increasing from 1.3 sec to 15 minutes (see curve belows); After 100 attempts each attempt with constant 15 minutes delay; Stop retrying if notification can't be delirived while 72 hours.","title":"Basics"},{"location":"callbacks/#callbacks","text":"Callbacks are based on Publish\u2013Subscribe pattern via a Notifier service. The Notifier service's responsibility is to deliver callback messages via Webhooks and other messaging providers. Recommendation Although notification includes real and valid data, we recommend to use notifications just as notifications and retrieve data via appropriate method of Pull API ( REST API for example). In general, any notifications system by design may delay messages. Good practice for end-application is to check status via Pull API if expected message was not received in expected time frame.","title":"Callbacks"},{"location":"callbacks/#topics","text":"Topic Name Description ORDER Emit messages when order 's status and/or state have been changed. Message body same as response of Fetch order DEPOSIT Emit messages when deposit detected/updated. Message body same as response of Fetch deposit WITHDRAWAL Emit messages when withdrawal created/updated. Message body same as response of Fetch withdrawal","title":"Topics"},{"location":"callbacks/#use-case","text":"Client subscribe a desired topic Notifier deliver events Client unsubscribe the topic No delivery sequenceDiagram participant Subscriber1 participant Subscriber2 participant Notifier opt Event A Notifier->>Notifier: Skip, just audit end Subscriber2->>+Notifier: Subscribe \"ORDER\" topic Notifier-->>-Subscriber2: OK opt Event B Notifier->>Notifier: Schedule delivery Notifier->>+Subscriber2: Message B for \"ORDER\" Subscriber2-->>-Notifier: OK end Subscriber1->>+Notifier: Subscribe \"ORDER\" topic Notifier-->>-Subscriber1: OK opt Event C Notifier->>Notifier: Schedule delivery Notifier->>+Subscriber2: Message C for \"ORDER\" Subscriber2-->>-Notifier: OK Notifier->>+Subscriber1: Message C for \"ORDER\" Subscriber1-->>-Notifier: OK end Subscriber1->>+Notifier: Unsubscribe \"ORDER\" topic Notifier-->>-Subscriber1: OK opt Event D Notifier->>Notifier: Schedule delivery Notifier->>+Subscriber2: Message D for \"ORDER\" Subscriber2-->>-Notifier: OK end","title":"Use-case"},{"location":"callbacks/#delivery","text":"Messages are sent immediately after an operation was performed. Notifier records the fact of message delivery to your system after receiving the response from your system. In case of delivery fail the server retries delivery according to next law: First 100 attempts with delay increasing from 1.3 sec to 15 minutes (see curve belows); After 100 attempts each attempt with constant 15 minutes delay; Stop retrying if notification can't be delirived while 72 hours.","title":"Delivery"},{"location":"devel-crypto-lib-component/","text":"@cexiolabs/\u0441rypto.component Crypto Wallet Component - High Level \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f Under Hood \u0422\u0430\u0431\u043b\u0438\u0446\u044b \u0432 \u0411\u0414 component - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u0430 CryptoWallet cex_wtf2pss - \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f CexCryptoWallet \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435. ( CexCryptoWallet - \u044d\u0442\u043e \u043d\u0430\u0431\u043e\u0440 \u0438\u0437 Wtf2Client-\u043e\u0432. \u0421\u0442\u0440\u043e\u043a\u0430\u0445 \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b = \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u0443 Wtf2Client) callback_unexpected_deposit - \u0437\u0434\u0435\u0441\u044c \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0438 \u043e \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0430\u0445, \u043f\u0440\u0438\u0448\u0435\u0434\u0448\u0438\u0435 \u043e\u0442 CryptoWallet \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0430\u0448\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u043c. \u0410\u0443\u0434\u0438\u0442 \u0440\u0430c\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0438\u0437\u0430\u0446\u0438\u0438. callback_unexpected_withdrawal - \u0437\u0434\u0435\u0441\u044c \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0438 \u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434, \u043f\u0440\u0438\u0448\u0435\u0434\u0448\u0438\u0435 \u043e\u0442 CryptoWallet \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0430\u0448\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u043c. \u0410\u0443\u0434\u0438\u0442 \u0440\u0430c\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0438\u0437\u0430\u0446\u0438\u0438. address_declaration - \u0437\u0430\u0433\u043e\u0442\u043e\u0432\u043a\u0430/\u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0446\u0438\u044f \u043d\u0430\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u043f\u043e\u0439\u0442\u0438 \u0432 CryptoWallet \u0437\u0430 \u043d\u043e\u0432\u044b\u043c \u0430\u0434\u0440\u0435\u0441\u043e\u043c. \u042d\u0442\u043e\u0442 guard \u043d\u0443\u0436\u0435\u043d \u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439 \u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043d\u043e \u0434\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u0438\u0437 CryptoWallet . \u041f\u043e-\u0441\u0443\u0442\u0438 \u0442\u0443\u0442 \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u043d\u0430\u0448 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 CryptoWallet . address_pool - \u0445\u0440\u0430\u043d\u0438\u0442 \u0430\u0434\u0440\u0435\u0441\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043c\u044b \u0432\u043b\u0430\u0434\u0435\u0435\u043c, \u044d\u0442\u043e \u0438 \u0435\u0441\u0442\u044c \u043f\u0443\u043b \u0430\u0434\u0440\u0435\u0441\u043e\u0432. address_bound - \u043f\u043e\u043c\u0435\u0447\u0430\u0435\u0442 \u0430\u0434\u0440\u0435\u0441 \u043a\u0430\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e addressClientId . \u0417\u0430\u043f\u0438\u0441\u044c \u0432 \u044d\u0442\u0443 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0430\u0434\u0440\u0435\u0441 \u0438\u0437 \u043f\u0443\u043b\u0430. deposit - \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0435 deposit_confirmation - \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u0432 \u043f\u043e \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0443 withdrawal - \u0431\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 withdrawal_peer - \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e peer \u0432\u0430\u043b\u044e\u0442\u0435 withdrawal_utxo - \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e utxo \u0432\u0430\u043b\u044e\u0442\u0435 withdrawal_utxo_io - \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0432\u043e\u0434\u043e\u043a \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 utxo-\u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e ( pss-provider-wtf2 \u043f\u043e\u043a\u0430 \u043d\u0435 \u043f\u043e\u043d\u044f\u0442\u043d\u043e \u043a\u0430\u043a \u0434\u0435\u043b\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u043e\u0432\u044b\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438) withdrawal_confirmation - \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u0432 \u043f\u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 \u0424\u0443\u043d\u043a\u0446\u0438\u0438(\u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b) \u0432 \u0411\u0414 sp_withdrawal_state - \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 (\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0443) \u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0430 \u0412\u044b\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433 PENDING - \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 pending_transaction_id ACCEPTED - \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 pending_transaction_id + \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u043d\u0430 INT \u0441\u0447\u0435\u0442 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u043a \u0430\u0434\u0440\u0435\u0441\u0443 REJECTED - \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 pending_transaction_id + \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u043d\u0430 EXT \u0441\u0447\u0435\u0442 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u043a \u0430\u0434\u0440\u0435\u0441\u0443 (\u0432\u0435\u0440\u043d\u0443\u043b\u0438\u0441\u044c \u0442\u0443\u0434\u0430, \u043e\u0442\u043a\u0443\u0434\u0430 \u043f\u0440\u0438\u0448\u043b\u0438) \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430 \u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u043d\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439: \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 generateNewAddress(...) \u0432 \u043b\u0438\u0447\u043d\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438. \u041f\u044b\u0442\u0430\u0435\u043c\u0441\u044f \u0432\u0437\u044f\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0438\u0437 \u043f\u0443\u043b\u0430 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u0448\u0435\u0434\u0443\u043b\u0435\u0440 _scheduleUpdateAddressPool , \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0436\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442 \u0440\u0435\u0430\u043b\u044c\u043d\u043e \u043d\u043e\u0432\u044b\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0443\u043b\u0430. \u0415\u0441\u043b\u0438 \u0430\u0434\u0440\u0435\u0441\u0430 \u0432 \u043f\u0443\u043b\u0435 \u043d\u0435\u0442, \u0442\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 CryptoWallet \u0432 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430. \u0422\u0443\u0442 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u044f\u0442 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438, \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0438 \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430, \u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0442\u0435\u0440\u044f\u043d, \u0430 \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u0432 \u043f\u0443\u043b \u0430\u0434\u0440\u0435\u0441\u043e\u0432. \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0431\u0438\u043d\u0434\u0438\u043c \u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u043c\u0443 addressClientId \u0437\u0430\u043f\u0438\u0441\u044c\u044e \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 own_address_bound (\u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0442\u043c\u0435\u043d\u0438\u0442 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e, \u0430\u0434\u0440\u0435\u0441 \"\u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f\" \u0432 \u043f\u0443\u043b) \u041c\u0435\u0442\u043e\u0434 _generateNewAddress(...) \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0440\u0435\u0430\u043b\u044c\u043d\u043e \u043d\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0432 CryptoWallet . \u0414\u0435\u043b\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 (\u0441 \u0437\u0430\u0449\u0438\u0442\u043e\u0439 \u043e\u0442 \u0434\u0430\u0431\u043b): \u0421\u043e\u0437\u0434\u0430\u0435\u0442 UUID \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a addressClientId \u0432 CryptoWallet \u0438 \u043a\u0430\u043a \u0431\u0443\u0434\u0443\u0449\u0438\u0439 accountUuid \u0412 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u044c \u043e \u043d\u0430\u043c\u0435\u0440\u0435\u043d\u0438\u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 address_declaration \u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442: \u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 address_declaration \u0447\u0435\u0440\u0435\u0437 SELECT ... FOR UPDATE \u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0434\u0432\u0430 asset -\u0430: EXT:${accountUuid} \u0438 INT:${accountUuid} (\u0431\u0443\u0434\u0443\u0449\u0438\u0435 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u044b \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 EXT:${accountUuid} -> INT:${accountUuid} ) \u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0443 CryptoWallet#generateNewAddress(...) \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u043e \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 address_pool \u0412 \u044d\u0442\u043e\u043c \u043c\u0435\u0441\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0432 \u043f\u0443\u043b \u0430\u0434\u0440\u0435\u0441\u043e\u0432. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0430\u0434\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438, \u0443 \u043d\u0430\u0441 \u043d\u0430 \u043f\u0430\u043c\u044f\u0442\u044c \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 address_declaration , \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0434\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u0430\u0434\u0440\u0435\u0441\u0435 \u0432 CryptoWallet (\u043d\u043e \u044d\u0442\u043e \u043f\u043e\u043a\u0430 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442\u0441\u044f) Deposit-\u044b \u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043f\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0443 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0435 CryptoWalletComponent -\u043e\u043c: EXT:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - C\u0447\u0435\u0442 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a, \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0440\u0430\u0441\u0445\u043e\u0434\u0443\u044e\u0442\u0441\u044f \u0434\u0435\u043d\u044c\u0433\u0438. \u042d\u0442\u043e\u0442 \u0441\u0447\u0435\u0442 \u0412\u0421\u0415\u0413\u0414\u0410 , \u0432 \u043c\u0438\u043d\u0443\u0441\u043e\u0432\u043e\u0439 \u043d\u043e\u0442\u0430\u0446\u0438\u0438, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u0420\u0415\u0410\u041b\u042c\u041d\u042b\u0419 \u0431\u0430\u043b\u0430\u043d\u0441 \u0430\u0434\u0440\u0435\u0441\u0430 \u0432 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u0435. \u0413\u0434\u0435 xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - UUID \u0430\u0434\u0440\u0435\u0441\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 address_declaration . DEPOSIT_PROCESSING:tx_hash - \u0441\u0447\u0435\u0442 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0445\u0440\u0430\u043d\u0438\u0442 \u0434\u0435\u043d\u044c\u0433\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0430 (\u043d\u0430\u0431\u043e\u0440 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0439 \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 isTrustedTransaction(...) ) INT:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - C\u0447\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u043a\u0443\u0434\u0430 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442 \u0434\u0435\u043d\u044c\u0433\u0438. \u042d\u0442\u043e \u0441\u0447\u0435\u0442 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430, \u0441 \u0412\u0418\u0420\u0422\u0423\u041b\u042c\u041d\u042b\u041c\u0418 \u0434\u0435\u043d\u044c\u0433\u0430\u043c\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u0435\u0440\u0447\u0430\u043d\u0442 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b. \u0413\u0434\u0435 xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - UUID \u0430\u0434\u0440\u0435\u0441\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 address_declaration . graph LR; EXT:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx -- pending --> DEPOSIT_PROCESSING:tx_hash; DEPOSIT_PROCESSING:tx_hash -- rejected --> EXT:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx; DEPOSIT_PROCESSING:tx_hash -- accepted --> INT:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx; xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - UUID \u0430\u0434\u0440\u0435\u0441\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 address_declaration tx_hash - \u044d\u0442\u043e \u0445\u0435\u0448 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u0430 (\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u0435\u043d \u043f\u043e\u0434 \u043a\u0430\u0436\u0434\u044b\u0439 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d, \u043f\u0440\u0438\u043c\u0435\u0440 \u0434\u043b\u044f TRX: 8C14FDDEF51E3545CF3AEEBBC08B7D7AA76F8924C2FAFD6F5890489FFBFCB2F6) \u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0432\u043e\u0434\u043e\u043a \u0412\u043e \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430\u0445 \u043f\u043e \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0443, \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430 name , \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f tx_hash . \u0421\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u043c \u0432 \u0431\u0430\u0437\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0430, \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 (\u0432\u0445\u043e\u0434 \u0438 \u0432\u044b\u0445\u043e\u0434 \u043f\u043e \u0441\u0447\u0435\u0442\u0443) \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 name , \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0440\u0430\u0437\u0440\u0435\u0437\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430 (\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u0432\u0430\u0436\u0434\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0435\u043f\u043e\u0437\u0438\u0442, \u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u0441\u0447\u0435\u0442\u0443, \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c tx_hash ). \u042d\u0442\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0434\u043b\u0438\u043d\u043d\u0443\u044e \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e \u043f\u043e \u0430\u043a\u043a\u0430\u043d\u0442\u0438\u043d\u0433\u0443, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0435\u0434\u0438\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440, \u0438 \u0437\u0430\u0449\u0438\u0449\u0430\u0435\u0442 \u043e\u0442 \u0440\u0430\u0437\u0432\u0435\u0442\u0432\u043b\u0435\u043d\u0438\u0439 (\u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u0430 \u0446\u0435\u043f\u043e\u0447\u043a\u0430 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f). \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 deposit-\u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u0432 \u043e\u0442 CryptoWallet \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u043e\u0442 CryptoWallet SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0418\u0449\u0435\u043c \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u043c \u0430\u0434\u0440\u0435\u0441 ( \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430, \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0430 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 callback_unexpected_deposit \u0434\u043b\u044f \u0431\u0443\u0434\u0443\u0449\u0435\u0433\u043e \u0440\u0430\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f) SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0418\u0449\u0435\u043c \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u0443\u044e \u0441 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u043c PENDING \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 \u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 \u043d\u0435\u0442, \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u0439 \u043a\u043e\u043b\u043b\u0431\u0435\u043a (\u043d\u043e \u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e 0-\u0439 \u043a\u043e\u043d\u0444\u0438\u0440\u043c\u0435\u0439\u0448\u0435\u043d) SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0421\u043e\u0437\u0434\u0430\u0435\u043c PENDING \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 deposit SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 deposit_confirmation \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - PENDING ( isFirstEvent: true ) \u0415\u0441\u043b\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043d\u0444\u0438\u0440\u043c\u0435\u0439\u0448\u0435\u043d\u043e\u0432 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u0435\u0442 \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f OR isTrustedTransaction(...) \u0432\u0435\u0440\u043d\u0443\u043b true SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0424\u0438\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u043c ACCEPTED \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - ACCEPTED \u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u0435\u0441\u0442\u044c, \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0441 \u043a\u043e\u043d\u0444\u0438\u0440\u043c\u0435\u0439\u0448\u0435\u043d\u043e\u043c SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 deposit_confirmation SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0415\u0441\u043b\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 == PENDING \u0415\u0441\u043b\u0438 \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043d\u0444\u0438\u0440\u043c\u0435\u0439\u0448\u0435\u043d\u043e\u0432 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u0435\u0442 \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f OR isTrustedTransaction(...) \u0432\u0435\u0440\u043d\u0443\u043b true SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0424\u0438\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u043c ACCEPTED \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - ACCEPTED \u0418\u043d\u0430\u0447\u0435, \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - PENDING SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : COMMIT \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u0432 Withdrawal-\u044b \u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043f\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0443 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0435 CryptoWalletComponent -\u043e\u043c, \u0433\u0434\u0435 xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - UUID withdrawal_uuid \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 withdrawal : WITHDRAWAL_SOURCE - \u0441\u0447\u0435\u0442 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a, \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0440\u0430\u0441\u0445\u043e\u0434\u0443\u044e\u0442\u0441\u044f \u0434\u0435\u043d\u044c\u0433\u0438 WITHDRAWAL_APPROVING:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - \u0441\u0447\u0435\u0442 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0445\u0440\u0430\u043d\u0438\u0442 \u0434\u0435\u043d\u044c\u0433\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c WITHDRAWAL_PROCESSING:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - \u0441\u0447\u0435\u0442 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0445\u0440\u0430\u043d\u0438\u0442 \u0434\u0435\u043d\u044c\u0433\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0432 \u0431\u044d\u043a\u0435\u043d\u0434\u0435 CryptoWallet WITHDRAWAL_TARGET - \u0441\u0447\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u043a\u0443\u0434\u0430 \u043f\u0440\u0438\u0445\u043e\u0434\u044f \u0434\u0435\u043d\u044c\u0433\u0438 \u043f\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u0439 \u0432\u044b\u043f\u043b\u0430\u0442\u0435 (\u0442\u0438\u043f\u043e \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d \u0441\u0447\u0435\u0442) WITHDRAWAL_FEE - \u0441\u0447\u0435\u0442 \u0434\u043b\u044f \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u0441\u0435\u0442\u0438. \u0420\u0430\u0437\u043c\u0435\u0440 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438, \u0432 \u0418\u041d\u0412\u0415\u0420\u0422\u0418\u0420\u041e\u0412\u0410\u041d\u041d\u041e\u041c \u0432\u0438\u0434\u0435, \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0441 \u044d\u0442\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430 \u043d\u0430 \u0441\u0447\u0435\u0442 WITHDRAWAL_SOURCE (\u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0435\u0434\u0438\u043d\u043e\u0433\u043e withdrawal_uuid \u0432 \u0438\u043c\u0435\u043d\u0430\u0445 \u043f\u0440\u043e\u0432\u043e\u0434\u043e\u043a, \u0442.\u043a. \u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u0442\u043e\u0440\u043e\u0439 \u0432\u044b\u0432\u043e\u0434 \u0438\u0437 WITHDRAWAL_SOURCE \u0441 \u0442\u0435\u043c \u0436\u0435 withdrawal_uuid ) graph LR; WITHDRAWAL_SOURCE -- pending-approve --> WITHDRAWAL_APPROVING; WITHDRAWAL_APPROVING -- user-cancel --> WITHDRAWAL_SOURCE; WITHDRAWAL_APPROVING -- pending-processing --> WITHDRAWAL_PROCESSING; WITHDRAWAL_PROCESSING -- rejected --> WITHDRAWAL_SOURCE; WITHDRAWAL_PROCESSING -- accepted --> WITHDRAWAL_TARGET; WITHDRAWAL_FEE -- accepted-fee --> WITHDRAWAL_SOURCE; \u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0432\u043e\u0434\u043e\u043a \u0412\u043e \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430\u0445 \u043f\u043e \u0432\u044b\u0432\u043e\u0434\u0443, \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430 name , \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0438 \u0442\u043e\u0442 \u0436\u0435 uuid (\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 ). \u0421\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u043c \u0432 \u0431\u0430\u0437\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0430, \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 (\u0432\u0445\u043e\u0434 \u0438 \u0432\u044b\u0445\u043e\u0434 \u043f\u043e \u0441\u0447\u0435\u0442\u0443) \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 name , \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0440\u0430\u0437\u0440\u0435\u0437\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430 (\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u0432\u0430\u0436\u0434\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u044b\u0432\u043e\u0434, \u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u0441\u0447\u0435\u0442\u0443, \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c uuid ). \u042d\u0442\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0434\u043b\u0438\u043d\u043d\u0443\u044e \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e \u043f\u043e \u0430\u043a\u043a\u0430\u043d\u0442\u0438\u043d\u0433\u0443, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0435\u0434\u0438\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440, \u0438 \u0437\u0430\u0449\u0438\u0449\u0430\u0435\u0442 \u043e\u0442 \u0440\u0430\u0437\u0432\u0435\u0442\u0432\u043b\u0435\u043d\u0438\u0439 (\u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u0430 \u0446\u0435\u043f\u043e\u0447\u043a\u0430 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f). UTXO Multi Address Withdrawal \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u0430\u043b\u044e\u0442\u044b utxo , \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0445(\u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432) \u0438 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439(\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435) \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u043d\u043e\u0433\u043e. \u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(\u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430) \u0435\u0441\u0442\u044c WITHDRAWAL_SOURCE \u0441\u0447\u0435\u0442, \u0438 \u0441\u0445\u0435\u043c\u0430 \u043d\u0430 \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0435 \u0440\u0430\u0437\u043c\u043d\u043e\u0436\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043c\u043d\u043e\u0433\u0438\u0435-\u043a\u043e-\u043c\u043d\u043e\u0433\u0438\u043c, \u043d\u043e \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u043e \u0432\u0441\u0435\u0445 \u0433\u0440\u0443\u043f\u043f\u043e\u0439. \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 registerTransactionUtxo / registerTransactionPeer \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u043c \u0441\u0432\u043e\u044e SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e . \u0412\u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u044f\u0442 \u0432 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u0430 . \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e \u0443 CryptoWallet \u0447\u0435\u0440\u0435\u0437 registerTransactionUtxo / registerTransactionPeer . CryptoWallet \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0448\u0430\u0433\u0430 \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 , \u0438 withdrawal_uuid . \u041f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043c \u0434\u0435\u043d\u044c\u0433\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0435, \u0441\u043e\u0437\u0434\u0430\u0435\u043c pending-approve -\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443(\u043a\u0438, \u0434\u043b\u044f utxo \u0438\u0445 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u043d\u043e\u0433\u043e) \u043d\u0430 \u0441\u0447\u0435\u0442 WITHDRAWAL_APPROVING . \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(-\u0449\u0438\u0445) \u0441\u0447\u0435\u0442\u0430(-\u043e\u0432) WITHDRAWAL_SOURCE , \u0447\u0442\u043e \u043e\u043d\u0438 \u043d\u0435 \u0443\u0448\u043b\u0438 \u0432 \u043c\u0438\u043d\u0443\u0441 (\u0431\u043e\u043b\u044c\u0448\u0435 \u0440\u0430\u0432\u043d\u043e \u043d\u0443\u043b\u044f). \u0417\u0434\u0435\u0441\u044c \u043e\u0432\u0435\u0440\u0434\u0440\u0430\u0444\u0442\u0430 \u0431\u044b\u0442\u044c \u041d\u0415 \u043c\u043e\u0436\u0435\u0442. \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c \u0432\u044b\u0432\u043e\u0434 \u043a\u0440\u0438\u043f\u0442\u044b \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 withdrawal \u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e pending-approve \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430\u043c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 withdrawal_peer \u0438\u043b\u0438 withdrawal_utxo + withdrawal_utxo_io \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u0430 \u0432\u0430\u043b\u044e\u0442\u044b. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u043c \u0432\u044b\u0432\u043e\u0434\u0435 \u043a\u0440\u0438\u043f\u0442\u044b. \u041a\u043e\u043d\u0435\u0446. \u0412\u0410\u0416\u041d\u041e: \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u041d\u0415 \u0434\u043e\u043b\u0436\u0435\u043d \u0437\u043d\u0430\u0442\u044c \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u0442 CryptoWallet , \u044d\u0442\u043e \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f CryptoWalletComponent -\u0430. \u041f\u0430\u0434\u0435\u043d\u0438\u0435 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u0430 \u041f\u0430\u0434\u0435\u043d\u0438\u0435 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u0430 \u043d\u0435 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432 \u0432 \u0431\u0430\u0437\u0435, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0431\u0430\u043b\u0430\u043d\u0441 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u0446\u0438\u0444\u0440\u044b. \u0412 \u0431\u044d\u043a\u0435\u043d\u0434\u0435 CryptoWallet \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043f\u0430\u043c\u044f\u0442\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f, \u043d\u043e \u043e\u043d\u0430 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430, \u0442.\u043a. \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u0442 CryptoWallet , \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e \u0443\u0442\u0435\u0440\u044f\u043d. \u041f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442\u0441\u044f, \u0447\u0442\u043e \u0431\u044d\u043a\u0435\u043d\u0434 CryptoWallet -\u0442\u0430 \u0441\u043f\u0443\u0441\u0442\u044f \u0442\u0430\u0439\u043c\u0430\u0443\u0442, \u0443\u0434\u0430\u043b\u0438\u0442(\u0438\u043b\u0438 \u043f\u043e\u043c\u0435\u0442\u0438\u0442 \u043a\u0430\u043a expired) \u044d\u0442\u0443 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e \u043d\u0430 \u0441\u0432\u043e\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435. CexCryptoWallet/pss-provider-wtf2 \u0418\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f CexCryptoWallet/pss-provider-wtf2 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442, \u0442. \u043a. pss-provider-wtf2 \u0434\u0435\u043b\u0430\u0435\u0442 \u0432\u044b\u0432\u043e\u0434 \u043a\u0440\u0438\u043f\u0442\u044b \u0432 \u043e\u0434\u043d\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0431\u0435\u0437 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043c\u0435\u0442\u043e\u0434\u0438\u043a\u0443 \u0441 Client ID . \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 confirmTransactionUtxo / confirmTransactionPeer . \u0412\u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u044f\u0442 \u0432 \u043b\u0438\u0447\u043d\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 (\u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438). SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043d\u0430 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0447\u0442\u043e \u0441\u0447\u0435\u0442 WITHDRAWAL_PROCESSING \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d. \u0415\u0441\u043b\u0438 \u0434\u0435\u043d\u044c\u0433\u0438 \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u0438\u043b\u0438, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c: \u0421\u043e\u0437\u0434\u0430\u0435\u043c pending-processing -\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443(\u043a\u0438, \u0434\u043b\u044f utxo \u0438\u0445 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u043d\u043e\u0433\u043e) \u043d\u0430 \u0441\u0447\u0435\u0442 WITHDRAWAL_PROCESSING . \u0412\u0410\u0416\u041d\u041e: \u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u044d\u0442\u043e\u0439 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 \u0434\u0435\u043b\u0430\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u043c \u041e\u0442\u043c\u0435\u043d\u0430 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 . \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(-\u0449\u0438\u0445) \u0441\u0447\u0435\u0442\u0430(-\u043e\u0432) WITHDRAWAL_APPROVING , \u0447\u0442\u043e \u043e\u043d\u0438 \u0440\u0430\u0432\u043d\u044b \u043d\u0443\u043b\u044e. COMMIT SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f . \u0412\u0410\u0416\u041d\u041e: \u0415\u0441\u043b\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c COMMIT \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u0432\u043e\u0439\u043d\u043e\u0439 \u0442\u0440\u0430\u0442\u044b (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441 \u0443\u0448\u0435\u043b \u0432 CryptoWallet , \u043d\u043e \u043e\u0431\u043e\u0440\u0432\u0430\u043b\u0441\u044f \u043d\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u043c \u043f\u0443\u0442\u0438, \u0434\u0435\u043d\u044c\u0433\u0438 \u0443\u0448\u043b\u0438 \u0432 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d \u0438 \u0432\u0435\u0440\u043d\u0443\u043b\u0438\u0441\u044c \u043d\u0430\u0437\u0430\u0434 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443 \u043f\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0443) \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u043c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e \u0443 CryptoWallet \u0447\u0435\u0440\u0435\u0437 confirmTransactionUtxo / confirmTransactionPeer \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u043d\u0430 \u0448\u0430\u0433\u0435 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 . \u0422\u0443\u0442 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043a\u0430\u043a\u0430\u044f \u043d\u0438\u0431\u0443\u0434\u044c retry-\u0439\u043b\u043a\u0430. \u041f\u043e\u0432\u0442\u043e\u0440\u044b/\u0438\u0434\u0435\u043c\u043f\u043e\u0442\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u044c \u042d\u0442\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u0430 \u043e\u0442 \u043c\u043d\u043e\u0433\u043e\u043a\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. \u0414\u0435\u043d\u044c\u0433\u0438 \u0431\u0443\u0434\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u043f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441. \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0432 \u0431\u044d\u043a\u0435\u043d\u0434 CryptoWallet \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0424\u043e\u043d\u043e\u0432\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u041f\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f\u043c(\u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0430\u043c) \u043e\u0442 CryptoWallet \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0431\u044d\u043a\u0435\u043d\u0434\u0435 CryptoWallet -\u0430. \u041f\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u043c \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u0430\u043c\u0438 - \u0444\u0438\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u043c accepted -\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443(\u043a\u0438, \u0434\u043b\u044f utxo \u0438\u0445 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u043d\u043e\u0433\u043e) \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043d\u0430 \u0441\u0447\u0435\u0442 WITHDRAWAL_TARGET . \u0415\u0441\u043b\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u0431\u044b\u043b\u0430 \u043e\u0442\u0440\u0435\u0434\u0436\u0435\u043a\u0447\u0435\u043d\u0430 \u043d\u0430 \u0431\u044d\u043a\u0435\u043d\u0434\u0435 CryptoWallet -\u0430, \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u043c \u043f\u043e\u043b\u043d\u044b\u0439 \u0440\u0435\u0434\u0436\u0435\u043a\u0442 \u043f\u043e \u043d\u0430\u0448\u0435\u043c\u0443 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0443 \u0447\u0435\u0440\u0435\u0437 rejected -\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443(-\u043a\u0438), \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u043d\u0430 WITHDRAWAL_SOURCE . \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 withdrawal-\u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u0432 \u043e\u0442 CryptoWallet \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u043e\u0442 CryptoWallet SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : BEGIN \u0415\u0441\u043b\u0438 CryptoWalletComponent \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d, \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u043c \u043d\u0430 \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u043e\u0448\u0438\u0431\u043a\u043e\u0439. \u041a\u041e\u041d\u0415\u0426 \u0418\u0449\u0435\u043c \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u043c withdrawal_uuid ( \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0433\u043e withdrawal_uuid , \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0430 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 callback_unexpected_withdrawal \u0434\u043b\u044f \u0431\u0443\u0434\u0443\u0449\u0435\u0433\u043e \u0440\u0430\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f). \u041a\u041e\u041d\u0415\u0426 \u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 withdrawal_confirmation \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 Status.REJECTED \u0438\u043b\u0438 Status.CANCELLED \u0415\u0441\u043b\u0438 accepted \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u0435\u0441\u0442\u044c \u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430: CRITIAL_ALERT (\u0432\u0437\u043b\u043e\u043c \u0431\u044d\u043a\u0435\u043d\u0434\u0430 CryptoWallet ?) \u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 (\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430) CryptoWalletComponent \u0432\u044b\u0437\u043e\u0432\u043e\u043c SQL \u0444\u0443\u043d\u043a\u0446\u0438\u0438 sp_block_component(...) \u0418\u043d\u0430\u0447\u0435 \u0415\u0441\u043b\u0438 reject \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0421\u043e\u0437\u0434\u0430\u0435\u043c rejected \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443, c \u043f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435\u043c Cancel/Reject by CryptoWallet (\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0434\u0435\u043d\u0435\u0433 WITHDRAWAL_PROCESSING -> WITHDRAWAL_SOURCE ) \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(-\u0449\u0438\u0445) \u0441\u0447\u0435\u0442\u0430(-\u043e\u0432) WITHDRAWAL_PROCESSING , \u0447\u0442\u043e \u043e\u043d\u0438 \u0440\u0430\u0432\u043d\u044b \u043d\u0443\u043b\u044e. \u0417\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - REJECTED \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 Status.ACCEPTED \u0415\u0441\u043b\u0438 rejected \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u0435\u0441\u0442\u044c \u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430: CRITIAL_ALERT (\u0432\u0437\u043b\u043e\u043c \u0431\u044d\u043a\u0435\u043d\u0434\u0430 CryptoWallet ?) \u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 (\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430) CryptoWalletComponent \u0432\u044b\u0437\u043e\u0432\u043e\u043c SQL \u0444\u0443\u043d\u043a\u0446\u0438\u0438 sp_block_component(...) \u0418\u043d\u0430\u0447\u0435 \u0415\u0441\u043b\u0438 accepted \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0421\u043e\u0437\u0434\u0430\u0435\u043c accepted \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 (\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0434\u0435\u043d\u0435\u0433 WITHDRAWAL_PROCESSING -> WITHDRAWAL_TARGET ) \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(-\u0449\u0438\u0445) \u0441\u0447\u0435\u0442\u0430(-\u043e\u0432) WITHDRAWAL_PROCESSING , \u0447\u0442\u043e \u043e\u043d\u0438 \u0440\u0430\u0432\u043d\u044b \u043d\u0443\u043b\u044e. \u0421\u043e\u0437\u0434\u0430\u0435\u043c accepted-fee \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 \u0412 \u0438\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043d\u043e\u0442\u0430\u0446\u0438\u0438 (\u0441 \u043c\u0438\u043d\u0443\u0441\u043e\u043c) (\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0434\u0435\u043d\u0435\u0433 WITHDRAWAL_FEE -> WITHDRAWAL_SOURCE ) \u0417\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - ACCEPTED SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : COMMIT \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043a\u043e\u043b\u043b\u0431\u0435\u043a (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c) \u041e\u0442\u043c\u0435\u043d\u0430 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 confirmTransactionUtxo / confirmTransactionPeer . \u0412\u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u044f\u0442 \u0432 \u043b\u0438\u0447\u043d\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 (\u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438). SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0447\u0442\u043e \u0441\u0447\u0435\u0442 WITHDRAWAL_APPROVING \u0435\u0449\u0435 \u043d\u0435 \u0438\u0437\u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432\u0430\u043d \u0432 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 WITHDRAWAL_PROCESSING . \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e user-cancel -\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443(-\u043a\u0438). \u0414\u0435\u043d\u044c\u0433\u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u0441\u0447\u0435\u0442(-\u0430) WITHDRAWAL_SOURCE . \u0412\u0410\u0416\u041d\u041e: \u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u044d\u0442\u043e\u0439 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 \u0434\u0435\u043b\u0430\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 . \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(-\u0449\u0438\u0445) \u0441\u0447\u0435\u0442\u0430(-\u043e\u0432) WITHDRAWAL_APPROVING , \u0447\u0442\u043e \u043e\u043d\u0438 \u0440\u0430\u0432\u043d\u044b \u043d\u0443\u043b\u044e.","title":"[@cexiolabs/\u0441rypto.component](https://nexus.infra.kube/#browse/browse:npm:%40cexiolabs%2F\u0441rypto.component)"},{"location":"devel-crypto-lib-component/#cexiolabsryptocomponent","text":"Crypto Wallet Component - High Level \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f","title":"@cexiolabs/\u0441rypto.component"},{"location":"devel-crypto-lib-component/#under-hood","text":"","title":"Under Hood"},{"location":"devel-crypto-lib-component/#_1","text":"component - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u0430 CryptoWallet cex_wtf2pss - \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f CexCryptoWallet \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435. ( CexCryptoWallet - \u044d\u0442\u043e \u043d\u0430\u0431\u043e\u0440 \u0438\u0437 Wtf2Client-\u043e\u0432. \u0421\u0442\u0440\u043e\u043a\u0430\u0445 \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b = \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u0443 Wtf2Client) callback_unexpected_deposit - \u0437\u0434\u0435\u0441\u044c \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0438 \u043e \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0430\u0445, \u043f\u0440\u0438\u0448\u0435\u0434\u0448\u0438\u0435 \u043e\u0442 CryptoWallet \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0430\u0448\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u043c. \u0410\u0443\u0434\u0438\u0442 \u0440\u0430c\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0438\u0437\u0430\u0446\u0438\u0438. callback_unexpected_withdrawal - \u0437\u0434\u0435\u0441\u044c \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0438 \u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434, \u043f\u0440\u0438\u0448\u0435\u0434\u0448\u0438\u0435 \u043e\u0442 CryptoWallet \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0430\u0448\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u043c. \u0410\u0443\u0434\u0438\u0442 \u0440\u0430c\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0438\u0437\u0430\u0446\u0438\u0438. address_declaration - \u0437\u0430\u0433\u043e\u0442\u043e\u0432\u043a\u0430/\u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0446\u0438\u044f \u043d\u0430\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u043f\u043e\u0439\u0442\u0438 \u0432 CryptoWallet \u0437\u0430 \u043d\u043e\u0432\u044b\u043c \u0430\u0434\u0440\u0435\u0441\u043e\u043c. \u042d\u0442\u043e\u0442 guard \u043d\u0443\u0436\u0435\u043d \u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439 \u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043d\u043e \u0434\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u0438\u0437 CryptoWallet . \u041f\u043e-\u0441\u0443\u0442\u0438 \u0442\u0443\u0442 \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u043d\u0430\u0448 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 CryptoWallet . address_pool - \u0445\u0440\u0430\u043d\u0438\u0442 \u0430\u0434\u0440\u0435\u0441\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043c\u044b \u0432\u043b\u0430\u0434\u0435\u0435\u043c, \u044d\u0442\u043e \u0438 \u0435\u0441\u0442\u044c \u043f\u0443\u043b \u0430\u0434\u0440\u0435\u0441\u043e\u0432. address_bound - \u043f\u043e\u043c\u0435\u0447\u0430\u0435\u0442 \u0430\u0434\u0440\u0435\u0441 \u043a\u0430\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e addressClientId . \u0417\u0430\u043f\u0438\u0441\u044c \u0432 \u044d\u0442\u0443 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0430\u0434\u0440\u0435\u0441 \u0438\u0437 \u043f\u0443\u043b\u0430. deposit - \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0435 deposit_confirmation - \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u0432 \u043f\u043e \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0443 withdrawal - \u0431\u0430\u0437\u043e\u0432\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 withdrawal_peer - \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e peer \u0432\u0430\u043b\u044e\u0442\u0435 withdrawal_utxo - \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e utxo \u0432\u0430\u043b\u044e\u0442\u0435 withdrawal_utxo_io - \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0432\u043e\u0434\u043e\u043a \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 utxo-\u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e ( pss-provider-wtf2 \u043f\u043e\u043a\u0430 \u043d\u0435 \u043f\u043e\u043d\u044f\u0442\u043d\u043e \u043a\u0430\u043a \u0434\u0435\u043b\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u043e\u0432\u044b\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438) withdrawal_confirmation - \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u0432 \u043f\u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434","title":"\u0422\u0430\u0431\u043b\u0438\u0446\u044b \u0432 \u0411\u0414"},{"location":"devel-crypto-lib-component/#_2","text":"sp_withdrawal_state - \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 (\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0443)","title":"\u0424\u0443\u043d\u043a\u0446\u0438\u0438(\u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b) \u0432 \u0411\u0414"},{"location":"devel-crypto-lib-component/#_3","text":"\u0412\u044b\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433 PENDING - \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 pending_transaction_id ACCEPTED - \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 pending_transaction_id + \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u043d\u0430 INT \u0441\u0447\u0435\u0442 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u043a \u0430\u0434\u0440\u0435\u0441\u0443 REJECTED - \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 pending_transaction_id + \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u043d\u0430 EXT \u0441\u0447\u0435\u0442 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u043a \u0430\u0434\u0440\u0435\u0441\u0443 (\u0432\u0435\u0440\u043d\u0443\u043b\u0438\u0441\u044c \u0442\u0443\u0434\u0430, \u043e\u0442\u043a\u0443\u0434\u0430 \u043f\u0440\u0438\u0448\u043b\u0438)","title":"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0430"},{"location":"devel-crypto-lib-component/#_4","text":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u043d\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439: \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 generateNewAddress(...) \u0432 \u043b\u0438\u0447\u043d\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438. \u041f\u044b\u0442\u0430\u0435\u043c\u0441\u044f \u0432\u0437\u044f\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0438\u0437 \u043f\u0443\u043b\u0430 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0439 \u0448\u0435\u0434\u0443\u043b\u0435\u0440 _scheduleUpdateAddressPool , \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0436\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442 \u0440\u0435\u0430\u043b\u044c\u043d\u043e \u043d\u043e\u0432\u044b\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0443\u043b\u0430. \u0415\u0441\u043b\u0438 \u0430\u0434\u0440\u0435\u0441\u0430 \u0432 \u043f\u0443\u043b\u0435 \u043d\u0435\u0442, \u0442\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 CryptoWallet \u0432 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430. \u0422\u0443\u0442 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u044f\u0442 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438, \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0438 \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430, \u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0442\u0435\u0440\u044f\u043d, \u0430 \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u0432 \u043f\u0443\u043b \u0430\u0434\u0440\u0435\u0441\u043e\u0432. \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0431\u0438\u043d\u0434\u0438\u043c \u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u043c\u0443 addressClientId \u0437\u0430\u043f\u0438\u0441\u044c\u044e \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 own_address_bound (\u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0442\u043c\u0435\u043d\u0438\u0442 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e, \u0430\u0434\u0440\u0435\u0441 \"\u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f\" \u0432 \u043f\u0443\u043b) \u041c\u0435\u0442\u043e\u0434 _generateNewAddress(...) \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0440\u0435\u0430\u043b\u044c\u043d\u043e \u043d\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0432 CryptoWallet . \u0414\u0435\u043b\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 (\u0441 \u0437\u0430\u0449\u0438\u0442\u043e\u0439 \u043e\u0442 \u0434\u0430\u0431\u043b): \u0421\u043e\u0437\u0434\u0430\u0435\u0442 UUID \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a addressClientId \u0432 CryptoWallet \u0438 \u043a\u0430\u043a \u0431\u0443\u0434\u0443\u0449\u0438\u0439 accountUuid \u0412 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u044c \u043e \u043d\u0430\u043c\u0435\u0440\u0435\u043d\u0438\u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 address_declaration \u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442: \u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 address_declaration \u0447\u0435\u0440\u0435\u0437 SELECT ... FOR UPDATE \u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0434\u0432\u0430 asset -\u0430: EXT:${accountUuid} \u0438 INT:${accountUuid} (\u0431\u0443\u0434\u0443\u0449\u0438\u0435 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u044b \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 EXT:${accountUuid} -> INT:${accountUuid} ) \u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0443 CryptoWallet#generateNewAddress(...) \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u043e \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 address_pool \u0412 \u044d\u0442\u043e\u043c \u043c\u0435\u0441\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0432 \u043f\u0443\u043b \u0430\u0434\u0440\u0435\u0441\u043e\u0432. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0430\u0434\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438, \u0443 \u043d\u0430\u0441 \u043d\u0430 \u043f\u0430\u043c\u044f\u0442\u044c \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 address_declaration , \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0434\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u0430\u0434\u0440\u0435\u0441\u0435 \u0432 CryptoWallet (\u043d\u043e \u044d\u0442\u043e \u043f\u043e\u043a\u0430 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442\u0441\u044f)","title":"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430"},{"location":"devel-crypto-lib-component/#deposit-","text":"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043f\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0443 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0435 CryptoWalletComponent -\u043e\u043c: EXT:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - C\u0447\u0435\u0442 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a, \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0440\u0430\u0441\u0445\u043e\u0434\u0443\u044e\u0442\u0441\u044f \u0434\u0435\u043d\u044c\u0433\u0438. \u042d\u0442\u043e\u0442 \u0441\u0447\u0435\u0442 \u0412\u0421\u0415\u0413\u0414\u0410 , \u0432 \u043c\u0438\u043d\u0443\u0441\u043e\u0432\u043e\u0439 \u043d\u043e\u0442\u0430\u0446\u0438\u0438, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u0420\u0415\u0410\u041b\u042c\u041d\u042b\u0419 \u0431\u0430\u043b\u0430\u043d\u0441 \u0430\u0434\u0440\u0435\u0441\u0430 \u0432 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u0435. \u0413\u0434\u0435 xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - UUID \u0430\u0434\u0440\u0435\u0441\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 address_declaration . DEPOSIT_PROCESSING:tx_hash - \u0441\u0447\u0435\u0442 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0445\u0440\u0430\u043d\u0438\u0442 \u0434\u0435\u043d\u044c\u0433\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0430 (\u043d\u0430\u0431\u043e\u0440 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0439 \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 isTrustedTransaction(...) ) INT:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - C\u0447\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u043a\u0443\u0434\u0430 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442 \u0434\u0435\u043d\u044c\u0433\u0438. \u042d\u0442\u043e \u0441\u0447\u0435\u0442 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430, \u0441 \u0412\u0418\u0420\u0422\u0423\u041b\u042c\u041d\u042b\u041c\u0418 \u0434\u0435\u043d\u044c\u0433\u0430\u043c\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u0435\u0440\u0447\u0430\u043d\u0442 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b. \u0413\u0434\u0435 xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - UUID \u0430\u0434\u0440\u0435\u0441\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 address_declaration . graph LR; EXT:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx -- pending --> DEPOSIT_PROCESSING:tx_hash; DEPOSIT_PROCESSING:tx_hash -- rejected --> EXT:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx; DEPOSIT_PROCESSING:tx_hash -- accepted --> INT:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx; xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - UUID \u0430\u0434\u0440\u0435\u0441\u0430 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 address_declaration tx_hash - \u044d\u0442\u043e \u0445\u0435\u0448 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u0430 (\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u0435\u043d \u043f\u043e\u0434 \u043a\u0430\u0436\u0434\u044b\u0439 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d, \u043f\u0440\u0438\u043c\u0435\u0440 \u0434\u043b\u044f TRX: 8C14FDDEF51E3545CF3AEEBBC08B7D7AA76F8924C2FAFD6F5890489FFBFCB2F6) \u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0432\u043e\u0434\u043e\u043a \u0412\u043e \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430\u0445 \u043f\u043e \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0443, \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430 name , \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f tx_hash . \u0421\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u043c \u0432 \u0431\u0430\u0437\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0430, \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 (\u0432\u0445\u043e\u0434 \u0438 \u0432\u044b\u0445\u043e\u0434 \u043f\u043e \u0441\u0447\u0435\u0442\u0443) \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 name , \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0440\u0430\u0437\u0440\u0435\u0437\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430 (\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u0432\u0430\u0436\u0434\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0435\u043f\u043e\u0437\u0438\u0442, \u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u0441\u0447\u0435\u0442\u0443, \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c tx_hash ). \u042d\u0442\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0434\u043b\u0438\u043d\u043d\u0443\u044e \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e \u043f\u043e \u0430\u043a\u043a\u0430\u043d\u0442\u0438\u043d\u0433\u0443, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0435\u0434\u0438\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440, \u0438 \u0437\u0430\u0449\u0438\u0449\u0430\u0435\u0442 \u043e\u0442 \u0440\u0430\u0437\u0432\u0435\u0442\u0432\u043b\u0435\u043d\u0438\u0439 (\u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u0430 \u0446\u0435\u043f\u043e\u0447\u043a\u0430 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f).","title":"Deposit-\u044b"},{"location":"devel-crypto-lib-component/#deposit-cryptowallet","text":"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u043e\u0442 CryptoWallet SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0418\u0449\u0435\u043c \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u043c \u0430\u0434\u0440\u0435\u0441 ( \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430, \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0430 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 callback_unexpected_deposit \u0434\u043b\u044f \u0431\u0443\u0434\u0443\u0449\u0435\u0433\u043e \u0440\u0430\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f) SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0418\u0449\u0435\u043c \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u0443\u044e \u0441 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u043c PENDING \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 \u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 \u043d\u0435\u0442, \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u0439 \u043a\u043e\u043b\u043b\u0431\u0435\u043a (\u043d\u043e \u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e 0-\u0439 \u043a\u043e\u043d\u0444\u0438\u0440\u043c\u0435\u0439\u0448\u0435\u043d) SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0421\u043e\u0437\u0434\u0430\u0435\u043c PENDING \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 deposit SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 deposit_confirmation \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - PENDING ( isFirstEvent: true ) \u0415\u0441\u043b\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043d\u0444\u0438\u0440\u043c\u0435\u0439\u0448\u0435\u043d\u043e\u0432 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u0435\u0442 \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f OR isTrustedTransaction(...) \u0432\u0435\u0440\u043d\u0443\u043b true SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0424\u0438\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u043c ACCEPTED \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - ACCEPTED \u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u0435\u0441\u0442\u044c, \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0441 \u043a\u043e\u043d\u0444\u0438\u0440\u043c\u0435\u0439\u0448\u0435\u043d\u043e\u043c SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 deposit_confirmation SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0415\u0441\u043b\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 == PENDING \u0415\u0441\u043b\u0438 \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043d\u0444\u0438\u0440\u043c\u0435\u0439\u0448\u0435\u043d\u043e\u0432 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u0435\u0442 \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f OR isTrustedTransaction(...) \u0432\u0435\u0440\u043d\u0443\u043b true SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : \u0424\u0438\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u043c ACCEPTED \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - ACCEPTED \u0418\u043d\u0430\u0447\u0435, \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - PENDING SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : COMMIT \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u0432","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 deposit-\u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u0432 \u043e\u0442 CryptoWallet"},{"location":"devel-crypto-lib-component/#withdrawal-","text":"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043f\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0443 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0435 CryptoWalletComponent -\u043e\u043c, \u0433\u0434\u0435 xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - UUID withdrawal_uuid \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 withdrawal : WITHDRAWAL_SOURCE - \u0441\u0447\u0435\u0442 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a, \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0440\u0430\u0441\u0445\u043e\u0434\u0443\u044e\u0442\u0441\u044f \u0434\u0435\u043d\u044c\u0433\u0438 WITHDRAWAL_APPROVING:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - \u0441\u0447\u0435\u0442 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0445\u0440\u0430\u043d\u0438\u0442 \u0434\u0435\u043d\u044c\u0433\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c WITHDRAWAL_PROCESSING:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - \u0441\u0447\u0435\u0442 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0445\u0440\u0430\u043d\u0438\u0442 \u0434\u0435\u043d\u044c\u0433\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0432 \u0431\u044d\u043a\u0435\u043d\u0434\u0435 CryptoWallet WITHDRAWAL_TARGET - \u0441\u0447\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u043a\u0443\u0434\u0430 \u043f\u0440\u0438\u0445\u043e\u0434\u044f \u0434\u0435\u043d\u044c\u0433\u0438 \u043f\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u0439 \u0432\u044b\u043f\u043b\u0430\u0442\u0435 (\u0442\u0438\u043f\u043e \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d \u0441\u0447\u0435\u0442) WITHDRAWAL_FEE - \u0441\u0447\u0435\u0442 \u0434\u043b\u044f \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u0441\u0435\u0442\u0438. \u0420\u0430\u0437\u043c\u0435\u0440 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438, \u0432 \u0418\u041d\u0412\u0415\u0420\u0422\u0418\u0420\u041e\u0412\u0410\u041d\u041d\u041e\u041c \u0432\u0438\u0434\u0435, \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0441 \u044d\u0442\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430 \u043d\u0430 \u0441\u0447\u0435\u0442 WITHDRAWAL_SOURCE (\u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0435\u0434\u0438\u043d\u043e\u0433\u043e withdrawal_uuid \u0432 \u0438\u043c\u0435\u043d\u0430\u0445 \u043f\u0440\u043e\u0432\u043e\u0434\u043e\u043a, \u0442.\u043a. \u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u0442\u043e\u0440\u043e\u0439 \u0432\u044b\u0432\u043e\u0434 \u0438\u0437 WITHDRAWAL_SOURCE \u0441 \u0442\u0435\u043c \u0436\u0435 withdrawal_uuid ) graph LR; WITHDRAWAL_SOURCE -- pending-approve --> WITHDRAWAL_APPROVING; WITHDRAWAL_APPROVING -- user-cancel --> WITHDRAWAL_SOURCE; WITHDRAWAL_APPROVING -- pending-processing --> WITHDRAWAL_PROCESSING; WITHDRAWAL_PROCESSING -- rejected --> WITHDRAWAL_SOURCE; WITHDRAWAL_PROCESSING -- accepted --> WITHDRAWAL_TARGET; WITHDRAWAL_FEE -- accepted-fee --> WITHDRAWAL_SOURCE; \u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0432\u043e\u0434\u043e\u043a \u0412\u043e \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430\u0445 \u043f\u043e \u0432\u044b\u0432\u043e\u0434\u0443, \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430 name , \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0438 \u0442\u043e\u0442 \u0436\u0435 uuid (\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 ). \u0421\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u043c \u0432 \u0431\u0430\u0437\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0430, \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 (\u0432\u0445\u043e\u0434 \u0438 \u0432\u044b\u0445\u043e\u0434 \u043f\u043e \u0441\u0447\u0435\u0442\u0443) \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 name , \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0440\u0430\u0437\u0440\u0435\u0437\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430 (\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u0432\u0430\u0436\u0434\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u044b\u0432\u043e\u0434, \u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u0441\u0447\u0435\u0442\u0443, \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c uuid ). \u042d\u0442\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0434\u043b\u0438\u043d\u043d\u0443\u044e \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e \u043f\u043e \u0430\u043a\u043a\u0430\u043d\u0442\u0438\u043d\u0433\u0443, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0435\u0434\u0438\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440, \u0438 \u0437\u0430\u0449\u0438\u0449\u0430\u0435\u0442 \u043e\u0442 \u0440\u0430\u0437\u0432\u0435\u0442\u0432\u043b\u0435\u043d\u0438\u0439 (\u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u0430 \u0446\u0435\u043f\u043e\u0447\u043a\u0430 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f). UTXO Multi Address Withdrawal \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u0430\u043b\u044e\u0442\u044b utxo , \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0445(\u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432) \u0438 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439(\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435) \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u043d\u043e\u0433\u043e. \u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(\u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430) \u0435\u0441\u0442\u044c WITHDRAWAL_SOURCE \u0441\u0447\u0435\u0442, \u0438 \u0441\u0445\u0435\u043c\u0430 \u043d\u0430 \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0435 \u0440\u0430\u0437\u043c\u043d\u043e\u0436\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043c\u043d\u043e\u0433\u0438\u0435-\u043a\u043e-\u043c\u043d\u043e\u0433\u0438\u043c, \u043d\u043e \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u043e \u0432\u0441\u0435\u0445 \u0433\u0440\u0443\u043f\u043f\u043e\u0439.","title":"Withdrawal-\u044b"},{"location":"devel-crypto-lib-component/#_5","text":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 registerTransactionUtxo / registerTransactionPeer \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u043c \u0441\u0432\u043e\u044e SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e . \u0412\u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u044f\u0442 \u0432 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u0430 . \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e \u0443 CryptoWallet \u0447\u0435\u0440\u0435\u0437 registerTransactionUtxo / registerTransactionPeer . CryptoWallet \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0448\u0430\u0433\u0430 \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 , \u0438 withdrawal_uuid . \u041f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043c \u0434\u0435\u043d\u044c\u0433\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0435, \u0441\u043e\u0437\u0434\u0430\u0435\u043c pending-approve -\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443(\u043a\u0438, \u0434\u043b\u044f utxo \u0438\u0445 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u043d\u043e\u0433\u043e) \u043d\u0430 \u0441\u0447\u0435\u0442 WITHDRAWAL_APPROVING . \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(-\u0449\u0438\u0445) \u0441\u0447\u0435\u0442\u0430(-\u043e\u0432) WITHDRAWAL_SOURCE , \u0447\u0442\u043e \u043e\u043d\u0438 \u043d\u0435 \u0443\u0448\u043b\u0438 \u0432 \u043c\u0438\u043d\u0443\u0441 (\u0431\u043e\u043b\u044c\u0448\u0435 \u0440\u0430\u0432\u043d\u043e \u043d\u0443\u043b\u044f). \u0417\u0434\u0435\u0441\u044c \u043e\u0432\u0435\u0440\u0434\u0440\u0430\u0444\u0442\u0430 \u0431\u044b\u0442\u044c \u041d\u0415 \u043c\u043e\u0436\u0435\u0442. \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c \u0432\u044b\u0432\u043e\u0434 \u043a\u0440\u0438\u043f\u0442\u044b \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 withdrawal \u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e pending-approve \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430\u043c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 withdrawal_peer \u0438\u043b\u0438 withdrawal_utxo + withdrawal_utxo_io \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u0430 \u0432\u0430\u043b\u044e\u0442\u044b. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u043c \u0432\u044b\u0432\u043e\u0434\u0435 \u043a\u0440\u0438\u043f\u0442\u044b. \u041a\u043e\u043d\u0435\u0446. \u0412\u0410\u0416\u041d\u041e: \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u041d\u0415 \u0434\u043e\u043b\u0436\u0435\u043d \u0437\u043d\u0430\u0442\u044c \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u0442 CryptoWallet , \u044d\u0442\u043e \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f CryptoWalletComponent -\u0430. \u041f\u0430\u0434\u0435\u043d\u0438\u0435 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u0430 \u041f\u0430\u0434\u0435\u043d\u0438\u0435 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u0430 \u043d\u0435 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432 \u0432 \u0431\u0430\u0437\u0435, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0431\u0430\u043b\u0430\u043d\u0441 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u0446\u0438\u0444\u0440\u044b. \u0412 \u0431\u044d\u043a\u0435\u043d\u0434\u0435 CryptoWallet \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043f\u0430\u043c\u044f\u0442\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f, \u043d\u043e \u043e\u043d\u0430 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430, \u0442.\u043a. \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u0442 CryptoWallet , \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e \u0443\u0442\u0435\u0440\u044f\u043d. \u041f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442\u0441\u044f, \u0447\u0442\u043e \u0431\u044d\u043a\u0435\u043d\u0434 CryptoWallet -\u0442\u0430 \u0441\u043f\u0443\u0441\u0442\u044f \u0442\u0430\u0439\u043c\u0430\u0443\u0442, \u0443\u0434\u0430\u043b\u0438\u0442(\u0438\u043b\u0438 \u043f\u043e\u043c\u0435\u0442\u0438\u0442 \u043a\u0430\u043a expired) \u044d\u0442\u0443 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e \u043d\u0430 \u0441\u0432\u043e\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435. CexCryptoWallet/pss-provider-wtf2 \u0418\u043c\u043f\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f CexCryptoWallet/pss-provider-wtf2 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442, \u0442. \u043a. pss-provider-wtf2 \u0434\u0435\u043b\u0430\u0435\u0442 \u0432\u044b\u0432\u043e\u0434 \u043a\u0440\u0438\u043f\u0442\u044b \u0432 \u043e\u0434\u043d\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0431\u0435\u0437 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043c\u0435\u0442\u043e\u0434\u0438\u043a\u0443 \u0441 Client ID .","title":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434"},{"location":"devel-crypto-lib-component/#_6","text":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 confirmTransactionUtxo / confirmTransactionPeer . \u0412\u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u044f\u0442 \u0432 \u043b\u0438\u0447\u043d\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 (\u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438). SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043d\u0430 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0447\u0442\u043e \u0441\u0447\u0435\u0442 WITHDRAWAL_PROCESSING \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d. \u0415\u0441\u043b\u0438 \u0434\u0435\u043d\u044c\u0433\u0438 \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u0438\u043b\u0438, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c: \u0421\u043e\u0437\u0434\u0430\u0435\u043c pending-processing -\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443(\u043a\u0438, \u0434\u043b\u044f utxo \u0438\u0445 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u043d\u043e\u0433\u043e) \u043d\u0430 \u0441\u0447\u0435\u0442 WITHDRAWAL_PROCESSING . \u0412\u0410\u0416\u041d\u041e: \u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u044d\u0442\u043e\u0439 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 \u0434\u0435\u043b\u0430\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u043c \u041e\u0442\u043c\u0435\u043d\u0430 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 . \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(-\u0449\u0438\u0445) \u0441\u0447\u0435\u0442\u0430(-\u043e\u0432) WITHDRAWAL_APPROVING , \u0447\u0442\u043e \u043e\u043d\u0438 \u0440\u0430\u0432\u043d\u044b \u043d\u0443\u043b\u044e. COMMIT SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f . \u0412\u0410\u0416\u041d\u041e: \u0415\u0441\u043b\u0438 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c COMMIT \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u0432\u043e\u0439\u043d\u043e\u0439 \u0442\u0440\u0430\u0442\u044b (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441 \u0443\u0448\u0435\u043b \u0432 CryptoWallet , \u043d\u043e \u043e\u0431\u043e\u0440\u0432\u0430\u043b\u0441\u044f \u043d\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u043c \u043f\u0443\u0442\u0438, \u0434\u0435\u043d\u044c\u0433\u0438 \u0443\u0448\u043b\u0438 \u0432 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d \u0438 \u0432\u0435\u0440\u043d\u0443\u043b\u0438\u0441\u044c \u043d\u0430\u0437\u0430\u0434 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443 \u043f\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0443) \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u043c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e \u0443 CryptoWallet \u0447\u0435\u0440\u0435\u0437 confirmTransactionUtxo / confirmTransactionPeer \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u043d\u0430 \u0448\u0430\u0433\u0435 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 . \u0422\u0443\u0442 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043a\u0430\u043a\u0430\u044f \u043d\u0438\u0431\u0443\u0434\u044c retry-\u0439\u043b\u043a\u0430. \u041f\u043e\u0432\u0442\u043e\u0440\u044b/\u0438\u0434\u0435\u043c\u043f\u043e\u0442\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u044c \u042d\u0442\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u0430 \u043e\u0442 \u043c\u043d\u043e\u0433\u043e\u043a\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. \u0414\u0435\u043d\u044c\u0433\u0438 \u0431\u0443\u0434\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u043f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441. \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0432 \u0431\u044d\u043a\u0435\u043d\u0434 CryptoWallet \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0424\u043e\u043d\u043e\u0432\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u041f\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f\u043c(\u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0430\u043c) \u043e\u0442 CryptoWallet \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0431\u044d\u043a\u0435\u043d\u0434\u0435 CryptoWallet -\u0430. \u041f\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u043c \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u0430\u043c\u0438 - \u0444\u0438\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u043c accepted -\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443(\u043a\u0438, \u0434\u043b\u044f utxo \u0438\u0445 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u043d\u043e\u0433\u043e) \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043d\u0430 \u0441\u0447\u0435\u0442 WITHDRAWAL_TARGET . \u0415\u0441\u043b\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u0431\u044b\u043b\u0430 \u043e\u0442\u0440\u0435\u0434\u0436\u0435\u043a\u0447\u0435\u043d\u0430 \u043d\u0430 \u0431\u044d\u043a\u0435\u043d\u0434\u0435 CryptoWallet -\u0430, \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u043c \u043f\u043e\u043b\u043d\u044b\u0439 \u0440\u0435\u0434\u0436\u0435\u043a\u0442 \u043f\u043e \u043d\u0430\u0448\u0435\u043c\u0443 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433\u0443 \u0447\u0435\u0440\u0435\u0437 rejected -\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443(-\u043a\u0438), \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u043d\u0430 WITHDRAWAL_SOURCE .","title":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434"},{"location":"devel-crypto-lib-component/#withdrawal-cryptowallet","text":"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u043e\u0442 CryptoWallet SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : BEGIN \u0415\u0441\u043b\u0438 CryptoWalletComponent \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d, \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u043c \u043d\u0430 \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u043e\u0448\u0438\u0431\u043a\u043e\u0439. \u041a\u041e\u041d\u0415\u0426 \u0418\u0449\u0435\u043c \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u043c withdrawal_uuid ( \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0433\u043e withdrawal_uuid , \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0430 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 callback_unexpected_withdrawal \u0434\u043b\u044f \u0431\u0443\u0434\u0443\u0449\u0435\u0433\u043e \u0440\u0430\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f). \u041a\u041e\u041d\u0415\u0426 \u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u043e\u043b\u043b\u0431\u0435\u043a\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 withdrawal_confirmation \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 Status.REJECTED \u0438\u043b\u0438 Status.CANCELLED \u0415\u0441\u043b\u0438 accepted \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u0435\u0441\u0442\u044c \u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430: CRITIAL_ALERT (\u0432\u0437\u043b\u043e\u043c \u0431\u044d\u043a\u0435\u043d\u0434\u0430 CryptoWallet ?) \u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 (\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430) CryptoWalletComponent \u0432\u044b\u0437\u043e\u0432\u043e\u043c SQL \u0444\u0443\u043d\u043a\u0446\u0438\u0438 sp_block_component(...) \u0418\u043d\u0430\u0447\u0435 \u0415\u0441\u043b\u0438 reject \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0421\u043e\u0437\u0434\u0430\u0435\u043c rejected \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443, c \u043f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435\u043c Cancel/Reject by CryptoWallet (\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0434\u0435\u043d\u0435\u0433 WITHDRAWAL_PROCESSING -> WITHDRAWAL_SOURCE ) \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(-\u0449\u0438\u0445) \u0441\u0447\u0435\u0442\u0430(-\u043e\u0432) WITHDRAWAL_PROCESSING , \u0447\u0442\u043e \u043e\u043d\u0438 \u0440\u0430\u0432\u043d\u044b \u043d\u0443\u043b\u044e. \u0417\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - REJECTED \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 Status.ACCEPTED \u0415\u0441\u043b\u0438 rejected \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u0435\u0441\u0442\u044c \u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430: CRITIAL_ALERT (\u0432\u0437\u043b\u043e\u043c \u0431\u044d\u043a\u0435\u043d\u0434\u0430 CryptoWallet ?) \u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 (\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430) CryptoWalletComponent \u0432\u044b\u0437\u043e\u0432\u043e\u043c SQL \u0444\u0443\u043d\u043a\u0446\u0438\u0438 sp_block_component(...) \u0418\u043d\u0430\u0447\u0435 \u0415\u0441\u043b\u0438 accepted \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0430 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0421\u043e\u0437\u0434\u0430\u0435\u043c accepted \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 (\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0434\u0435\u043d\u0435\u0433 WITHDRAWAL_PROCESSING -> WITHDRAWAL_TARGET ) \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(-\u0449\u0438\u0445) \u0441\u0447\u0435\u0442\u0430(-\u043e\u0432) WITHDRAWAL_PROCESSING , \u0447\u0442\u043e \u043e\u043d\u0438 \u0440\u0430\u0432\u043d\u044b \u043d\u0443\u043b\u044e. \u0421\u043e\u0437\u0434\u0430\u0435\u043c accepted-fee \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433-\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443 \u0412 \u0438\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043d\u043e\u0442\u0430\u0446\u0438\u0438 (\u0441 \u043c\u0438\u043d\u0443\u0441\u043e\u043c) (\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0434\u0435\u043d\u0435\u0433 WITHDRAWAL_FEE -> WITHDRAWAL_SOURCE ) \u0417\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0431\u0435\u043a \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - ACCEPTED SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f : COMMIT \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043a\u043e\u043b\u043b\u0431\u0435\u043a (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 withdrawal-\u043a\u043e\u043b\u043b\u0431\u0435\u043a\u043e\u0432 \u043e\u0442 CryptoWallet"},{"location":"devel-crypto-lib-component/#_7","text":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 confirmTransactionUtxo / confirmTransactionPeer . \u0412\u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u044f\u0442 \u0432 \u043b\u0438\u0447\u043d\u043e\u0439 SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 (\u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438). SQL \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0447\u0442\u043e \u0441\u0447\u0435\u0442 WITHDRAWAL_APPROVING \u0435\u0449\u0435 \u043d\u0435 \u0438\u0437\u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432\u0430\u043d \u0432 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 WITHDRAWAL_PROCESSING . \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e user-cancel -\u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0443(-\u043a\u0438). \u0414\u0435\u043d\u044c\u0433\u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u0441\u0447\u0435\u0442(-\u0430) WITHDRAWAL_SOURCE . \u0412\u0410\u0416\u041d\u041e: \u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u044d\u0442\u043e\u0439 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438 \u0434\u0435\u043b\u0430\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434 . \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e(-\u0449\u0438\u0445) \u0441\u0447\u0435\u0442\u0430(-\u043e\u0432) WITHDRAWAL_APPROVING , \u0447\u0442\u043e \u043e\u043d\u0438 \u0440\u0430\u0432\u043d\u044b \u043d\u0443\u043b\u044e.","title":"\u041e\u0442\u043c\u0435\u043d\u0430 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0432\u044b\u0432\u043e\u0434"},{"location":"devel-crypto-lib-crypto-cex/","text":"@cexiolabs/\u0441rypto.cex CEX Crytpo Wallet - \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 CrytpoWallet \u0447\u0435\u0440\u0435\u0437 WTF2/pss-provider-wtf2 Configuration \u042d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u043e \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 CEX Crypto Wallet (WTF2 \u0438 pss-provider-wtf2). \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f: \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u043a\u0440\u0438\u043f\u0442\u043e\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432 \u0438 \u0445\u043e\u0442-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043d\u0430\u0431\u043e\u0440 \u0432\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 (\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043b\u044e\u0447\u0435\u0439 PSSES, \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043b\u044e\u0447\u0435\u0439 \u0432 PSSES, etc.) \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043b\u044e\u0447\u0435\u0439 \u0432 PSS ES \u0447\u0435\u0440\u0435\u0437 Pipeline \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 TBD \u041d\u0435\u043c\u043d\u043e\u0433\u043e \u0442\u0435\u043e\u0440\u0438\u0438 \u0412 \u043a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u0435 \u043a\u0430\u0436\u0434\u043e\u043c\u0443 wallet (\u0433\u0440\u0443\u043f\u043f\u0430 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d \u0430\u0434\u0440\u0435\u0441\u043e\u0432) \u0435\u0441\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447, \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c(\u042d\u0426\u041f) \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043f\u0435\u0440\u0435\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439 \u0432 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d. \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u043d\u0438\u0433-\u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u0437\u043d\u0430\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u043c \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u043e\u043c, \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0440\u0430\u0431\u043e\u0442\u044b \u0434\u0435\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d \u0432\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c: wtf2 - \u0444\u0430\u0441\u0430\u0434 \u0432 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d pss-es - \u042d\u043a\u0441\u043f\u0435\u0440\u0442\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439 (\u0434\u043e\u043b\u0436\u043d\u0430 \u0437\u043d\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u043e\u0442 wallet ) pss-provider-wtf2 - \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0432, \u0432\u0438\u0437\u0434\u0430\u0432\u0430\u043b\u043e\u0432, \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0430\u0434\u0440\u0435\u0441\u043e\u0432. \u042d\u0442\u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441 \u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0434 \u0441\u043e\u0431\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 wtf2 \u0438 pss-es \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043a\u043b\u044e\u0447\u0435\u0439 \u0432 PSS ES \u041e\u0434\u043d\u0430 \u0438\u0437 \u0437\u0430\u0434\u0430\u0447 \u0441\u0438\u0441\u0442\u0435\u043c\u044b PSS ES - \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439 \u0434\u043b\u044f \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u043e\u0432. \u0414\u043b\u044f \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, PSS ES \u0434\u043e\u043b\u0436\u043d\u0430 \u0437\u043d\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430. PSS ES \u043d\u0435 \u0445\u0440\u0430\u043d\u0438\u0442 \u043a\u043b\u044e\u0447\u0438 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 (\u0430 \u043b\u0438\u0448\u044c \u0432 \u043f\u0430\u043c\u044f\u0442\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430) \u0438 \u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0442\u0435\u0440\u044f\u0435\u0442 \u0438\u0445 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430. \u041a\u043b\u044e\u0447\u0438 \u043e\u0442 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432 \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0432 PSS ES \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0433\u043e PSS ES API. \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0445\u0440\u0430\u043d\u0438\u0442 \u043b\u0438\u0448\u044c \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u0443\u044e \u0444\u0440\u0430\u0437\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u044b\u043b\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0430 \u0434\u043b\u044f \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c (\u043d\u0430\u043c\u0438). \u041d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430, \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 PSS ES \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 d1dev-test:/app/conf/psses/dev/config-processing.json . \u041f\u043e\u0441\u043b\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u043c\u043e\u0449\u044c \u043a\u043e\u043b\u043b\u0435\u0433 \u0438\u0437 PSS Team, \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 PSS ES. \u041f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 wallet -\u0430 \u0434\u043b\u044f \u043c\u043e\u043d\u0435\u0442\u044b ADA: { ... \"rma\" : ... , \"ccw\" : { ..., \"merchants\" : { \"cex\" : ... , \"aggr\" : ... , \"aggrTHR\" : ... , \"bundcexd\" : ... , \"cpwtf\" : { \"ADA\" : { \"secret\" : \"DaPribudetSNamiSila\" , \"keychainId\" : \"2cWKMJemoBaksXqTdsWG8rXZTCBuZ1jX8yv3ienS5JE9WF3xLKvH5cNv2ANAeUjzmkHSC\" , \"publicKey\" : \"31b3a2773045381f2978cd7ef89883670a06984c6de2af22e0f5e510f1770c874bc4bd65b9ef8805133362ceeb6213cf781fa6be0d966373b5797564bac04fd0\" , \"blockchain\" : \"cardano\" , \"confirmations\" : { \"merchant\" : -1 , \"user\" : -1 } }, \"BTC\" : ... , \"BCH\" : ... , \"LTC\" : ... , \"MHC\" : ... , \"TRX\" : ... , }, \"cpwtf-demo\" : ... , } }, \"hunter\" : ... , ... } \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u043c\u0441\u044f, PSS ES \u0434\u043e\u043b\u0436\u043d\u0430 \u0437\u043d\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u043a\u043b\u044e\u0447\u0438 \u043e\u0442 wallet -\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 (\u0432\u0438\u0437\u0434\u0440\u0430\u0432\u0430\u043b\u044b) \u0414\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043a\u043b\u044e\u0447\u0435\u0439, \u0438\u043c\u0435\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435: \u043a\u043e\u043d\u0444\u0438\u0433-\u0444\u0430\u0439\u043b ./keys-upload-config.json - \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043a\u043b\u044e\u0447\u0435\u0439 (\u043c\u0430\u0441\u0441\u0438\u0432 keys ) \u0441\u043a\u0440\u0438\u043f\u0442 ./bin/keys-upload.js - \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0430\u044f \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0430 \u0432 PSS ES \u0441\u043a\u0440\u0438\u043f\u0442 ./bin/encode_ccw_key.js - \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 (\u0432 PSS ES \u043a\u043b\u044e\u0447\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0432 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435) \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 keys-upload.js \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043e \u0432 GitLab CI (Pipeline) keys-upload-config.json \u041c\u0435\u0440\u0447\u0430\u043d\u0442\u0443 PSS (\u0442.\u0435. \u043d\u0430\u043c CryptoPay), \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435, \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f 1+ \u044d\u043b\u0435\u043c\u0435\u043d\u0442(\u043e\u0432) \u0432 \u043c\u0430\u0441\u0441\u0438\u0432\u0435 keys (\u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439): { \"mid\" : \"cpwtf\" , \"currency\" : \"BTC\" , \"es\" : \"psse\" , \"key\" : \"76b72284db5a5ddf361cde01113ce3098a4e292ccb2411385bf6859d53984fcf4f27ffac011de67aae604c8745d89ecbb17020072542f09eea6536879309f4f7b5f587e9be53c81766956bfb1bb969b8afabfd5ae6182ae16154cbf12c7eeb6026acf1f542fe9242c5ea1957ce2a549c\" } \u0413\u0434\u0435: mid - \u0438\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0432 PSS. \u041c\u044b, CryptoPay, \u0438\u043c\u0435\u0435\u043c \u0434\u0432\u0430 \u0438\u043c\u0435\u043d\u0438 cpwtf \u0438 cpwtf-demo \u0434\u043b\u044f evolution \u0438 presentation \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0439 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e currency - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043a\u0440\u0438\u043f\u0442\u043e-\u0432\u0430\u043b\u044e\u0442\u044b es - \u0438\u043c\u044f \u044d\u043a\u0441\u043f\u0435\u0440\u0442\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043a\u0443\u0434\u0430 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043a\u043b\u044e\u0447 key - \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u043a\u0440\u0438\u043f\u0442\u043e-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u0444\u0440\u0430\u0437\u043e\u0439 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e aes-128-cbc keys-upload.js $ ./bin/keys-upload.js encode_ccw_key.js $ ./bin/encode_ccw_key.js <keychains/privateKey> [ PSSES shared secret ] Note: \u0415\u0441\u043b\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 PSSES shared secret \u0443\u043f\u0443\u0441\u0442\u0438\u0442\u044c, \u0441\u043a\u0440\u0438\u043f\u0442 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043f\u0430\u0440\u043e\u043b\u044c \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043b\u044e\u0447 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 keys-upload-config.json . \u041f\u0430\u0440\u043e\u043b\u044c PSSES shared secret \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0441\u044f \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e PSS ES (\u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u043a\u043e\u043b\u043b\u0435\u0433 \u0438\u0437 PSS Team) \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e wallet Get list of supported currencies: GET /currencies. See swagger: https://pss-provider-wtf2.dev.kube/api/#/currencies/CurrencyController_getCurrencies curl -X GET \"https://pss-provider-wtf2.dev.kube/currencies\" -H \"accept: application/json\" Create new wallets for supported currencies: POST /wallets. See swagger: https://pss-provider-wtf2.dev.kube/api/#/wallets/WalletController_generateWallet { \"currency\" : \"ATOM\" , \"keychainOwners\" : [ \"psses\" ] , \"name\" : \"cryptopay-evolution-atom\" , \"processingUrl\" : \"https://evolution-cryptopay.dev.kube/v2/callback/cryptoproviders/cex/wtf2pss/ATOM/c8f93cc5-4c6f-44b7-9db4-bf089a7fc7f7\" , \"encrypt\" : true } If \"multiSign\": true - use this body: { \"currency\" : \"ONT\" , \"keychainOwners\" : [ \"psses\" , \"faes\" ] , \"name\" : \"cryptopay-evolution-ont\" , \"processingUrl\" : \"https://evolution-cryptopay.dev.kube/v2/callback/cryptoproviders/cex/wtf2pss/ONT/04398c66-94e3-4b66-9c97-ab45d9b1d446\" , \"encrypt\" : true } \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e HOT -address After create wallet execute POST /addresses. Use a unique key \"name\". See swagger: https://pss-provider-wtf2.dev.kube/api/#/addresses/AddressController_getOrCreateAddress { \"currency\" : \"ADA\" , \"type\" : \"hot\" , \"walletId\" : \"0b5eef1e-c83f-409b-8c79-51ca6e49a983\" , \"chain\" : 0 , \"name\" : \"cryptopay-evolution-ada-intermediate-merchant-hot\" , \"info\" : {} } { \"name\" : \"cryptopay-evolution-ada-intermediate-merchant-hot\" , \"type\" : \"hot\" , \"walletId\" : 53 , \"info\" : {} , \"address\" : \"2cWKMJemoBajB4bxUnQnGveCN3BWpoFeVKt7UgBAY2kypfSHuRTHmxb87mdZqhxnY1etS\" , \"version\" : null, \"options\" : {} , \"id\" : 6905 , \"createdAt\" : \"2020-04-21T09:56:05.717Z\" , \"updatedAt\" : \"2020-04-21T09:56:05.717Z\" } For edit wallet copy id from request GET /addresses. After execute PUT /wallets/{id}. See swagger: https://pss-provider-wtf2.dev.kube/api/#/wallets/WalletController_update","title":"[@cexiolabs/\u0441rypto.cex](https://nexus.infra.kube/#browse/browse:npm:%40cexiolabs%2F\u0441rypto.cex)"},{"location":"devel-crypto-lib-crypto-cex/#cexiolabsryptocex","text":"CEX Crytpo Wallet - \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 CrytpoWallet \u0447\u0435\u0440\u0435\u0437 WTF2/pss-provider-wtf2","title":"@cexiolabs/\u0441rypto.cex"},{"location":"devel-crypto-lib-crypto-cex/#configuration","text":"\u042d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u043e \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 CEX Crypto Wallet (WTF2 \u0438 pss-provider-wtf2). \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f: \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u043a\u0440\u0438\u043f\u0442\u043e\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432 \u0438 \u0445\u043e\u0442-\u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043d\u0430\u0431\u043e\u0440 \u0432\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 (\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043b\u044e\u0447\u0435\u0439 PSSES, \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043b\u044e\u0447\u0435\u0439 \u0432 PSSES, etc.) \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043b\u044e\u0447\u0435\u0439 \u0432 PSS ES \u0447\u0435\u0440\u0435\u0437 Pipeline","title":"Configuration"},{"location":"devel-crypto-lib-crypto-cex/#_1","text":"TBD","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"},{"location":"devel-crypto-lib-crypto-cex/#_2","text":"\u0412 \u043a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u0435 \u043a\u0430\u0436\u0434\u043e\u043c\u0443 wallet (\u0433\u0440\u0443\u043f\u043f\u0430 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d \u0430\u0434\u0440\u0435\u0441\u043e\u0432) \u0435\u0441\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447, \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c(\u042d\u0426\u041f) \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043f\u0435\u0440\u0435\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439 \u0432 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d. \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u043d\u0438\u0433-\u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u0437\u043d\u0430\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u043c \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u043e\u043c, \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0440\u0430\u0431\u043e\u0442\u044b \u0434\u0435\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d \u0432\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c: wtf2 - \u0444\u0430\u0441\u0430\u0434 \u0432 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d pss-es - \u042d\u043a\u0441\u043f\u0435\u0440\u0442\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439 (\u0434\u043e\u043b\u0436\u043d\u0430 \u0437\u043d\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u043e\u0442 wallet ) pss-provider-wtf2 - \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0432, \u0432\u0438\u0437\u0434\u0430\u0432\u0430\u043b\u043e\u0432, \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0430\u0434\u0440\u0435\u0441\u043e\u0432. \u042d\u0442\u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441 \u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0434 \u0441\u043e\u0431\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 wtf2 \u0438 pss-es","title":"\u041d\u0435\u043c\u043d\u043e\u0433\u043e \u0442\u0435\u043e\u0440\u0438\u0438"},{"location":"devel-crypto-lib-crypto-cex/#pss-es","text":"\u041e\u0434\u043d\u0430 \u0438\u0437 \u0437\u0430\u0434\u0430\u0447 \u0441\u0438\u0441\u0442\u0435\u043c\u044b PSS ES - \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439 \u0434\u043b\u044f \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u043e\u0432. \u0414\u043b\u044f \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, PSS ES \u0434\u043e\u043b\u0436\u043d\u0430 \u0437\u043d\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430. PSS ES \u043d\u0435 \u0445\u0440\u0430\u043d\u0438\u0442 \u043a\u043b\u044e\u0447\u0438 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 (\u0430 \u043b\u0438\u0448\u044c \u0432 \u043f\u0430\u043c\u044f\u0442\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430) \u0438 \u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0442\u0435\u0440\u044f\u0435\u0442 \u0438\u0445 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430. \u041a\u043b\u044e\u0447\u0438 \u043e\u0442 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u043e\u0432 \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0432 PSS ES \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0433\u043e PSS ES API. \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0445\u0440\u0430\u043d\u0438\u0442 \u043b\u0438\u0448\u044c \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u0443\u044e \u0444\u0440\u0430\u0437\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u044b\u043b\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0430 \u0434\u043b\u044f \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c (\u043d\u0430\u043c\u0438). \u041d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430, \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 PSS ES \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 d1dev-test:/app/conf/psses/dev/config-processing.json . \u041f\u043e\u0441\u043b\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u043c\u043e\u0449\u044c \u043a\u043e\u043b\u043b\u0435\u0433 \u0438\u0437 PSS Team, \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 PSS ES. \u041f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 wallet -\u0430 \u0434\u043b\u044f \u043c\u043e\u043d\u0435\u0442\u044b ADA: { ... \"rma\" : ... , \"ccw\" : { ..., \"merchants\" : { \"cex\" : ... , \"aggr\" : ... , \"aggrTHR\" : ... , \"bundcexd\" : ... , \"cpwtf\" : { \"ADA\" : { \"secret\" : \"DaPribudetSNamiSila\" , \"keychainId\" : \"2cWKMJemoBaksXqTdsWG8rXZTCBuZ1jX8yv3ienS5JE9WF3xLKvH5cNv2ANAeUjzmkHSC\" , \"publicKey\" : \"31b3a2773045381f2978cd7ef89883670a06984c6de2af22e0f5e510f1770c874bc4bd65b9ef8805133362ceeb6213cf781fa6be0d966373b5797564bac04fd0\" , \"blockchain\" : \"cardano\" , \"confirmations\" : { \"merchant\" : -1 , \"user\" : -1 } }, \"BTC\" : ... , \"BCH\" : ... , \"LTC\" : ... , \"MHC\" : ... , \"TRX\" : ... , }, \"cpwtf-demo\" : ... , } }, \"hunter\" : ... , ... } \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u043c\u0441\u044f, PSS ES \u0434\u043e\u043b\u0436\u043d\u0430 \u0437\u043d\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u043a\u043b\u044e\u0447\u0438 \u043e\u0442 wallet -\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 (\u0432\u0438\u0437\u0434\u0440\u0430\u0432\u0430\u043b\u044b) \u0414\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043a\u043b\u044e\u0447\u0435\u0439, \u0438\u043c\u0435\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435: \u043a\u043e\u043d\u0444\u0438\u0433-\u0444\u0430\u0439\u043b ./keys-upload-config.json - \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043a\u043b\u044e\u0447\u0435\u0439 (\u043c\u0430\u0441\u0441\u0438\u0432 keys ) \u0441\u043a\u0440\u0438\u043f\u0442 ./bin/keys-upload.js - \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0430\u044f \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0430 \u0432 PSS ES \u0441\u043a\u0440\u0438\u043f\u0442 ./bin/encode_ccw_key.js - \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 (\u0432 PSS ES \u043a\u043b\u044e\u0447\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0432 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435) \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 keys-upload.js \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043e \u0432 GitLab CI (Pipeline)","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043a\u043b\u044e\u0447\u0435\u0439 \u0432 PSS ES"},{"location":"devel-crypto-lib-crypto-cex/#keys-upload-configjson","text":"\u041c\u0435\u0440\u0447\u0430\u043d\u0442\u0443 PSS (\u0442.\u0435. \u043d\u0430\u043c CryptoPay), \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435, \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f 1+ \u044d\u043b\u0435\u043c\u0435\u043d\u0442(\u043e\u0432) \u0432 \u043c\u0430\u0441\u0441\u0438\u0432\u0435 keys (\u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439): { \"mid\" : \"cpwtf\" , \"currency\" : \"BTC\" , \"es\" : \"psse\" , \"key\" : \"76b72284db5a5ddf361cde01113ce3098a4e292ccb2411385bf6859d53984fcf4f27ffac011de67aae604c8745d89ecbb17020072542f09eea6536879309f4f7b5f587e9be53c81766956bfb1bb969b8afabfd5ae6182ae16154cbf12c7eeb6026acf1f542fe9242c5ea1957ce2a549c\" } \u0413\u0434\u0435: mid - \u0438\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0432 PSS. \u041c\u044b, CryptoPay, \u0438\u043c\u0435\u0435\u043c \u0434\u0432\u0430 \u0438\u043c\u0435\u043d\u0438 cpwtf \u0438 cpwtf-demo \u0434\u043b\u044f evolution \u0438 presentation \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0439 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e currency - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043a\u0440\u0438\u043f\u0442\u043e-\u0432\u0430\u043b\u044e\u0442\u044b es - \u0438\u043c\u044f \u044d\u043a\u0441\u043f\u0435\u0440\u0442\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043a\u0443\u0434\u0430 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043a\u043b\u044e\u0447 key - \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u043a\u0440\u0438\u043f\u0442\u043e-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u0444\u0440\u0430\u0437\u043e\u0439 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e aes-128-cbc","title":"keys-upload-config.json"},{"location":"devel-crypto-lib-crypto-cex/#keys-uploadjs","text":"$ ./bin/keys-upload.js","title":"keys-upload.js"},{"location":"devel-crypto-lib-crypto-cex/#encode_ccw_keyjs","text":"$ ./bin/encode_ccw_key.js <keychains/privateKey> [ PSSES shared secret ] Note: \u0415\u0441\u043b\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 PSSES shared secret \u0443\u043f\u0443\u0441\u0442\u0438\u0442\u044c, \u0441\u043a\u0440\u0438\u043f\u0442 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043f\u0430\u0440\u043e\u043b\u044c \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043b\u044e\u0447 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 keys-upload-config.json . \u041f\u0430\u0440\u043e\u043b\u044c PSSES shared secret \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0441\u044f \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e PSS ES (\u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u043a\u043e\u043b\u043b\u0435\u0433 \u0438\u0437 PSS Team)","title":"encode_ccw_key.js"},{"location":"devel-crypto-lib-crypto-cex/#wallet","text":"Get list of supported currencies: GET /currencies. See swagger: https://pss-provider-wtf2.dev.kube/api/#/currencies/CurrencyController_getCurrencies curl -X GET \"https://pss-provider-wtf2.dev.kube/currencies\" -H \"accept: application/json\" Create new wallets for supported currencies: POST /wallets. See swagger: https://pss-provider-wtf2.dev.kube/api/#/wallets/WalletController_generateWallet { \"currency\" : \"ATOM\" , \"keychainOwners\" : [ \"psses\" ] , \"name\" : \"cryptopay-evolution-atom\" , \"processingUrl\" : \"https://evolution-cryptopay.dev.kube/v2/callback/cryptoproviders/cex/wtf2pss/ATOM/c8f93cc5-4c6f-44b7-9db4-bf089a7fc7f7\" , \"encrypt\" : true } If \"multiSign\": true - use this body: { \"currency\" : \"ONT\" , \"keychainOwners\" : [ \"psses\" , \"faes\" ] , \"name\" : \"cryptopay-evolution-ont\" , \"processingUrl\" : \"https://evolution-cryptopay.dev.kube/v2/callback/cryptoproviders/cex/wtf2pss/ONT/04398c66-94e3-4b66-9c97-ab45d9b1d446\" , \"encrypt\" : true }","title":"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e wallet"},{"location":"devel-crypto-lib-crypto-cex/#hot-address","text":"After create wallet execute POST /addresses. Use a unique key \"name\". See swagger: https://pss-provider-wtf2.dev.kube/api/#/addresses/AddressController_getOrCreateAddress { \"currency\" : \"ADA\" , \"type\" : \"hot\" , \"walletId\" : \"0b5eef1e-c83f-409b-8c79-51ca6e49a983\" , \"chain\" : 0 , \"name\" : \"cryptopay-evolution-ada-intermediate-merchant-hot\" , \"info\" : {} } { \"name\" : \"cryptopay-evolution-ada-intermediate-merchant-hot\" , \"type\" : \"hot\" , \"walletId\" : 53 , \"info\" : {} , \"address\" : \"2cWKMJemoBajB4bxUnQnGveCN3BWpoFeVKt7UgBAY2kypfSHuRTHmxb87mdZqhxnY1etS\" , \"version\" : null, \"options\" : {} , \"id\" : 6905 , \"createdAt\" : \"2020-04-21T09:56:05.717Z\" , \"updatedAt\" : \"2020-04-21T09:56:05.717Z\" } For edit wallet copy id from request GET /addresses. After execute PUT /wallets/{id}. See swagger: https://pss-provider-wtf2.dev.kube/api/#/wallets/WalletController_update","title":"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e HOT-address"},{"location":"devel-crypto-lib-crypto/","text":"@cexiolabs/\u0441rypto \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u0430 CryptoWallet - interface \u041d\u0438\u0437\u043a\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0433\u043e \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430. makePaymentUri - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URI \u0434\u043b\u044f \u043e\u043f\u043b\u0430\u0442\u044b (\u043e\u0431\u044b\u0447\u043d\u043e \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0432 QR \u043a\u043e\u0434). makeAddressUrl - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URL \u043d\u0430 \u043a\u0440\u0438\u043f\u0442\u043e-\u0430\u0434\u0440\u0435\u0441 \u0432 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 Blockchain Explorer. makeTransactionUrl - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URL \u043d\u0430 \u043a\u0440\u0438\u043f\u0442\u043e-\u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e \u0432 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 Blockchain Explorer.","title":"[@cexiolabs/\u0441rypto](https://nexus.infra.kube/#browse/browse:npm:%40cexiolabs%2F\u0441rypto)"},{"location":"devel-crypto-lib-crypto/#cexiolabsrypto","text":"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u0430 CryptoWallet - interface \u041d\u0438\u0437\u043a\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0433\u043e \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430. makePaymentUri - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URI \u0434\u043b\u044f \u043e\u043f\u043b\u0430\u0442\u044b (\u043e\u0431\u044b\u0447\u043d\u043e \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0432 QR \u043a\u043e\u0434). makeAddressUrl - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URL \u043d\u0430 \u043a\u0440\u0438\u043f\u0442\u043e-\u0430\u0434\u0440\u0435\u0441 \u0432 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 Blockchain Explorer. makeTransactionUrl - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URL \u043d\u0430 \u043a\u0440\u0438\u043f\u0442\u043e-\u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e \u0432 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 Blockchain Explorer.","title":"@cexiolabs/\u0441rypto"},{"location":"devel-crypto-lib-devel/","text":"@cexiolabs/\u0441rypto.devel \u041e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435 \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u043e\u0442\u043b\u0430\u0434\u043a\u0430 \u0431\u0438\u0437\u043d\u0435\u0441 \u043b\u043e\u0433\u0438\u043a\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0447\u0435\u0440\u0435\u0437 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u044b \u043e\u0447\u0435\u043d\u044c \u043d\u0435\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0430 \u0432 \u043f\u043b\u0430\u043d\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u0442\u0440\u0430\u0442. \u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0439 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d, \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0444\u0430\u0443\u0441\u0435\u0442\u043e\u0432, \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439 \u0432 \u0431\u043b\u043e\u043a - \u0432\u0441\u0435 \u044d\u0442\u043e \u043f\u0443\u0441\u0442\u0430\u044f \u0442\u0440\u0430\u0442\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430. \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043d\u0430\u0431\u043e\u0440 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u043c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438. \u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u0440\u0438\u043f\u0442\u043e-deposit-\u044b, \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\u043c \u043a\u0440\u0438\u043f\u0442\u043e-withdrawal-\u0430, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 \u0432\u0441\u0435\u0433\u043e \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043b\u0438\u043a\u043e\u0432, \u043d\u0435 \u0442\u0435\u0440\u044f\u044f \u0444\u043e\u043a\u0443\u0441\u0430 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c\u043e\u0439 \u0431\u0438\u0437\u043d\u0435\u0441 \u043b\u043e\u0433\u0438\u043a\u0435. \u0421\u043e\u0441\u0442\u0430\u0432: CryptoWalletCurrencyReMapper - class \u043e\u0431\u0432\u0435\u0440\u0442\u043a\u0430 \u0432\u043e\u043a\u0440\u0443\u0433 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 CryptoWallet \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0430\u044f \u0440\u0435-\u043c\u0430\u043f\u0438\u043d\u0433 \u0432\u0430\u043b\u044e\u0442\u044b. \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441 \u043b\u043e\u0433\u0438\u043a\u0443 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u0432\u0430\u043b\u044e\u0442\u0443. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u0440\u0434\u0435\u0440\u0430 \u0432 ETH, \u0430 \u043f\u043e \u0444\u0430\u043a\u0442\u0443 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 TRX \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u043e\u043c. VirtualCryptoWallet - class \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 CryptoWallet \u0432 \u0432\u0438\u0434\u0435 \u044d\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u0430 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442. \u0420\u0435\u0448\u0430\u0435\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0431\u0438\u0437\u043d\u0435\u0441 \u043b\u043e\u0433\u0438\u043a\u0438 (\u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0444\u0435\u0439\u043a\u043e\u0432\u043e\u0439 \u043a\u0440\u0438\u043f\u0442\u043e\u0439). serve - variable Express Middleware \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0432\u0430\u0448 Express Application . \u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438 VirtualCryptoWallet . \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 \u0441\u0435\u0431\u044f: /api - API \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u0440\u0438\u043f\u0442\u043e\u0439 (\u0444\u0435\u0439\u043a\u043e\u0432\u044b\u0435 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u044b, \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432, \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u0430\u0434\u0440\u0435\u0441\u043e\u0432). \u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 /web \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. /web - Web-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0440\u0443\u0447\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f (\u0444\u0435\u0439\u043a\u043e\u0432\u044b\u0435 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u044b, \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432, \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u0430\u0434\u0440\u0435\u0441\u043e\u0432). CryptoWalletCurrencyReMapper TBD VirtualCryptoWallet TDB serve Express Middleware \u0434\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0432\u0430\u0448 Express Application \u0432\u0435\u0431-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430\u043c\u0438 (\u0438\u043d\u0441\u0442\u0430\u043d\u0441\u0430\u043c\u0438 VirtualCryptoWallet ). import { serve } from \"@cexiolabs/\u0441rypto.devel\" ; const virtualCryptoWallet0 : VirtualCryptoWallet = ... const virtualCryptoWallet1 : VirtualCryptoWallet = ... const virtualCryptoWallet2 : VirtualCryptoWallet = ... expressApp . use ( \"/some-path\" , serve ( virtualCryptoWallet0 , virtualCryptoWallet1 , virtualCryptoWallet2 )); // Open browser: http://your_express_app/some-path/web // Or use API: http://your_express_app/some-path/api /api List of wallets GET /api No parameters: Response body [ { \"walletId\" : 1 , \"name\" : \"WALLET 1\" }, { \"walletId\" : 4 , \"name\" : \"WALLET 2\" }, { \"walletId\" : 42 , \"name\" : \"WALLET 3\" }, ... ] List of addresses GET /api/{{walletId}}/address Parameters: Name Type Mandatory Description walletId INTEGER YES Wallet identifier currency STRING NO Filter by currency . Comma separated combination of currencies like BTC, ETH, etc. startDate ISO 8601 NO Date of create account, from INCLUSIVE endDate ISO 8601 NO Date of create account, until EXCLUSIVE includeZero BOOLEAN NO Include zero balance accounts. Default: false. limit INT NO Number of results per request. Default 500; max 1000. Response body [ { \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"balance\" : \"10000\" , \"currency\" : \"TRX\" , \"createdAt\" : \"2020-05-06T09:08:39.537Z\" , \"deposits\" : [ \"c0ce2b86c6d02baac4053acaf745fcd7459f74a9cb424491f9adffbde1eb3ea3\" , \"6d61ce6d7b09d0f4f1bababbc23a647703f7a4d8a89b77fd08d9f98886e80adc\" , \"e3559cc0cf3bf26c74608d17541a79ce1ddfe5bc9e7a599629e4dee9ce38af89\" ], \"withdrawals\" : [ \"6d61ce6d7b09d0f4f1bababbc23a647703f7a4d8a89b77fd08d9f98886e80adc\" , \"e3559cc0cf3bf26c74608d17541a79ce1ddfe5bc9e7a599629e4dee9ce38af89\" ] }, { \"address\" : \"TRXemulatorGzbnyumoFScyevjDggu3BPq\" , \"balance\" : \"42\" , \"currency\" : \"TRX\" , \"createdAt\" : \"2020-05-01T08:00:00.000Z\" , \"deposits\" : [ \"e3559cc0cf3bf26c74608d17541a79ce1ddfe5bc9e7a599629e4dee9ce38af89\" ], \"withdrawals\" : [] } ... ] Create a new address POST /api/{{walletId}}/address Request body: { \"clientAddressId\" : \"unique client's identifier\" , \"currency\" : \"TRX\" , \"tag\" : \"Address for auto-test XXX\" } Response body: { \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"balance\" : \"0\" , \"currency\" : \"TRX\" , \"createdAt\" : \"2020-05-06T09:08:39.537Z\" } List of deposits GET /api/{{walletId}}/deposit Parameters: Name Type Mandatory Description walletId INTEGER YES Wallet identifier address STRING NO Filter by address . Comma separated combination of addresses. startDate ISO 8601 NO Date of create deposit, from INCLUSIVE endDate ISO 8601 NO Date of create deposit, until EXCLUSIVE includeZero BOOLEAN NO Include zero balance accounts. Default: false. limit INT NO Number of results per request. Default 500; max 1000. Response body [ { \"tx\" : \"c0ce2b86c6d02baac4053acaf745fcd7459f74a9cb424491f9adffbde1eb3ea3\" , \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"amount\" : \"1200\" , \"currency\" : \"TRX\" , \"confirmations\" : 21 , \"blockIndex\" : null , // or integer number > 0, like 4407539 \"blockHash\" : null , // or string, like \"00000000004340f3813671cdcbb5692d4722dece53db74f7b6fa11c96a5a7714\" \"createdAt\" : \"2020-05-06T09:08:39.537Z\" }, ... ] Get deposit GET /api/{{walletId}}/deposit/{{currency}}/{{address}}/{{tx}} Parameters: Name Type Mandatory Description walletId INTEGER YES Wallet identifier currency STRING YES address STRING YES tx STRING YES TX Hash, like \"c0ce2b86c6d02baac4053acaf745fcd7459f74a9cb424491f9adffbde1eb3ea3\" Response body { \"tx\" : \"c0ce2b86c6d02baac4053acaf745fcd7459f74a9cb424491f9adffbde1eb3ea3\" , \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"amount\" : \"1200\" , \"currency\" : \"TRX\" , \"confirmations\" : 21 , \"blockIndex\" : null , // or integer number > 0, like 4407539 \"blockHash\" : null , // or string, like \"00000000004340f3813671cdcbb5692d4722dece53db74f7b6fa11c96a5a7714\" \"createdAt\" : \"2020-05-06T09:08:39.537Z\" } Create deposit POST /api/{{walletId}}/deposit Request body: { \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"currency\" : \"TRX\" , \"amount\" : \"123.123456\" , \"split\" : 5 , \"isTrusted\" : false } split and isTrusted are optional Response body { \"tx\" : \"c0ce2b86c6d02baac4053acaf745fcd7459f74a9cb424491f9adffbde1eb3ea3\" , \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"amount\" : \"123.123456\" , \"currency\" : \"TRX\" , \"confirmations\" : 0 , \"blockIndex\" : null , // or integer number > 0, like 4407539 \"blockHash\" : null , // or string, like \"00000000004340f3813671cdcbb5692d4722dece53db74f7b6fa11c96a5a7714\" \"createdAt\" : \"2020-05-06T09:08:39.537Z\" } /web Web - \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430\u043c\u0438 (\u0438\u043d\u0441\u0442\u0430\u043d\u0441\u0430\u043c\u0438 VirtualCryptoWallet ): \u041f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u041f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a deposit-\u043e\u0432 \u041f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a withdrawal-\u043e\u0432 \u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c deposit (\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432 \u043e\u043f\u043b\u0430\u0442\u044b, \u043f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u044b, \u043d\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u044b) \u0424\u0438\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 withdrawal-\u0430 (\u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432 \u043e\u0442\u043a\u0430\u0437\u0430 \u0432 \u0432\u044b\u0432\u043e\u0434\u0435) \u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c withdrawal (\u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0445 withdrawal) \u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441 (\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f \u0441 \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u043c \u0430\u0434\u0440\u0435\u0441\u043e\u043c)","title":"[@cexiolabs/\u0441rypto.devel](https://nexus.infra.kube/#browse/browse:npm:%40cexiolabs%2F\u0441rypto.devel)"},{"location":"devel-crypto-lib-devel/#cexiolabsryptodevel","text":"\u041e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435 \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u043e\u0442\u043b\u0430\u0434\u043a\u0430 \u0431\u0438\u0437\u043d\u0435\u0441 \u043b\u043e\u0433\u0438\u043a\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0447\u0435\u0440\u0435\u0437 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u044b \u043e\u0447\u0435\u043d\u044c \u043d\u0435\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0430 \u0432 \u043f\u043b\u0430\u043d\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u0442\u0440\u0430\u0442. \u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0439 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d, \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0444\u0430\u0443\u0441\u0435\u0442\u043e\u0432, \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439 \u0432 \u0431\u043b\u043e\u043a - \u0432\u0441\u0435 \u044d\u0442\u043e \u043f\u0443\u0441\u0442\u0430\u044f \u0442\u0440\u0430\u0442\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430. \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043d\u0430\u0431\u043e\u0440 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u043c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438. \u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u0440\u0438\u043f\u0442\u043e-deposit-\u044b, \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\u043c \u043a\u0440\u0438\u043f\u0442\u043e-withdrawal-\u0430, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 \u0432\u0441\u0435\u0433\u043e \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043b\u0438\u043a\u043e\u0432, \u043d\u0435 \u0442\u0435\u0440\u044f\u044f \u0444\u043e\u043a\u0443\u0441\u0430 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c\u043e\u0439 \u0431\u0438\u0437\u043d\u0435\u0441 \u043b\u043e\u0433\u0438\u043a\u0435. \u0421\u043e\u0441\u0442\u0430\u0432: CryptoWalletCurrencyReMapper - class \u043e\u0431\u0432\u0435\u0440\u0442\u043a\u0430 \u0432\u043e\u043a\u0440\u0443\u0433 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 CryptoWallet \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0430\u044f \u0440\u0435-\u043c\u0430\u043f\u0438\u043d\u0433 \u0432\u0430\u043b\u044e\u0442\u044b. \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441 \u043b\u043e\u0433\u0438\u043a\u0443 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u0432\u0430\u043b\u044e\u0442\u0443. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u0440\u0434\u0435\u0440\u0430 \u0432 ETH, \u0430 \u043f\u043e \u0444\u0430\u043a\u0442\u0443 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 TRX \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u043e\u043c. VirtualCryptoWallet - class \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 CryptoWallet \u0432 \u0432\u0438\u0434\u0435 \u044d\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u0430 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442. \u0420\u0435\u0448\u0430\u0435\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0431\u0438\u0437\u043d\u0435\u0441 \u043b\u043e\u0433\u0438\u043a\u0438 (\u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0444\u0435\u0439\u043a\u043e\u0432\u043e\u0439 \u043a\u0440\u0438\u043f\u0442\u043e\u0439). serve - variable Express Middleware \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0432\u0430\u0448 Express Application . \u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438 VirtualCryptoWallet . \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 \u0441\u0435\u0431\u044f: /api - API \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u0440\u0438\u043f\u0442\u043e\u0439 (\u0444\u0435\u0439\u043a\u043e\u0432\u044b\u0435 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u044b, \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432, \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u0430\u0434\u0440\u0435\u0441\u043e\u0432). \u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 /web \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. /web - Web-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0440\u0443\u0447\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f (\u0444\u0435\u0439\u043a\u043e\u0432\u044b\u0435 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u044b, \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432, \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u0430\u0434\u0440\u0435\u0441\u043e\u0432).","title":"@cexiolabs/\u0441rypto.devel"},{"location":"devel-crypto-lib-devel/#cryptowalletcurrencyremapper","text":"TBD","title":"CryptoWalletCurrencyReMapper"},{"location":"devel-crypto-lib-devel/#virtualcryptowallet","text":"TDB","title":"VirtualCryptoWallet"},{"location":"devel-crypto-lib-devel/#serve","text":"Express Middleware \u0434\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0432\u0430\u0448 Express Application \u0432\u0435\u0431-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430\u043c\u0438 (\u0438\u043d\u0441\u0442\u0430\u043d\u0441\u0430\u043c\u0438 VirtualCryptoWallet ). import { serve } from \"@cexiolabs/\u0441rypto.devel\" ; const virtualCryptoWallet0 : VirtualCryptoWallet = ... const virtualCryptoWallet1 : VirtualCryptoWallet = ... const virtualCryptoWallet2 : VirtualCryptoWallet = ... expressApp . use ( \"/some-path\" , serve ( virtualCryptoWallet0 , virtualCryptoWallet1 , virtualCryptoWallet2 )); // Open browser: http://your_express_app/some-path/web // Or use API: http://your_express_app/some-path/api","title":"serve"},{"location":"devel-crypto-lib-devel/#api","text":"","title":"/api"},{"location":"devel-crypto-lib-devel/#list-of-wallets","text":"GET /api No parameters: Response body [ { \"walletId\" : 1 , \"name\" : \"WALLET 1\" }, { \"walletId\" : 4 , \"name\" : \"WALLET 2\" }, { \"walletId\" : 42 , \"name\" : \"WALLET 3\" }, ... ]","title":"List of wallets"},{"location":"devel-crypto-lib-devel/#list-of-addresses","text":"GET /api/{{walletId}}/address Parameters: Name Type Mandatory Description walletId INTEGER YES Wallet identifier currency STRING NO Filter by currency . Comma separated combination of currencies like BTC, ETH, etc. startDate ISO 8601 NO Date of create account, from INCLUSIVE endDate ISO 8601 NO Date of create account, until EXCLUSIVE includeZero BOOLEAN NO Include zero balance accounts. Default: false. limit INT NO Number of results per request. Default 500; max 1000. Response body [ { \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"balance\" : \"10000\" , \"currency\" : \"TRX\" , \"createdAt\" : \"2020-05-06T09:08:39.537Z\" , \"deposits\" : [ \"c0ce2b86c6d02baac4053acaf745fcd7459f74a9cb424491f9adffbde1eb3ea3\" , \"6d61ce6d7b09d0f4f1bababbc23a647703f7a4d8a89b77fd08d9f98886e80adc\" , \"e3559cc0cf3bf26c74608d17541a79ce1ddfe5bc9e7a599629e4dee9ce38af89\" ], \"withdrawals\" : [ \"6d61ce6d7b09d0f4f1bababbc23a647703f7a4d8a89b77fd08d9f98886e80adc\" , \"e3559cc0cf3bf26c74608d17541a79ce1ddfe5bc9e7a599629e4dee9ce38af89\" ] }, { \"address\" : \"TRXemulatorGzbnyumoFScyevjDggu3BPq\" , \"balance\" : \"42\" , \"currency\" : \"TRX\" , \"createdAt\" : \"2020-05-01T08:00:00.000Z\" , \"deposits\" : [ \"e3559cc0cf3bf26c74608d17541a79ce1ddfe5bc9e7a599629e4dee9ce38af89\" ], \"withdrawals\" : [] } ... ]","title":"List of addresses"},{"location":"devel-crypto-lib-devel/#create-a-new-address","text":"POST /api/{{walletId}}/address Request body: { \"clientAddressId\" : \"unique client's identifier\" , \"currency\" : \"TRX\" , \"tag\" : \"Address for auto-test XXX\" } Response body: { \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"balance\" : \"0\" , \"currency\" : \"TRX\" , \"createdAt\" : \"2020-05-06T09:08:39.537Z\" }","title":"Create a new address"},{"location":"devel-crypto-lib-devel/#list-of-deposits","text":"GET /api/{{walletId}}/deposit Parameters: Name Type Mandatory Description walletId INTEGER YES Wallet identifier address STRING NO Filter by address . Comma separated combination of addresses. startDate ISO 8601 NO Date of create deposit, from INCLUSIVE endDate ISO 8601 NO Date of create deposit, until EXCLUSIVE includeZero BOOLEAN NO Include zero balance accounts. Default: false. limit INT NO Number of results per request. Default 500; max 1000. Response body [ { \"tx\" : \"c0ce2b86c6d02baac4053acaf745fcd7459f74a9cb424491f9adffbde1eb3ea3\" , \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"amount\" : \"1200\" , \"currency\" : \"TRX\" , \"confirmations\" : 21 , \"blockIndex\" : null , // or integer number > 0, like 4407539 \"blockHash\" : null , // or string, like \"00000000004340f3813671cdcbb5692d4722dece53db74f7b6fa11c96a5a7714\" \"createdAt\" : \"2020-05-06T09:08:39.537Z\" }, ... ]","title":"List of deposits"},{"location":"devel-crypto-lib-devel/#get-deposit","text":"GET /api/{{walletId}}/deposit/{{currency}}/{{address}}/{{tx}} Parameters: Name Type Mandatory Description walletId INTEGER YES Wallet identifier currency STRING YES address STRING YES tx STRING YES TX Hash, like \"c0ce2b86c6d02baac4053acaf745fcd7459f74a9cb424491f9adffbde1eb3ea3\" Response body { \"tx\" : \"c0ce2b86c6d02baac4053acaf745fcd7459f74a9cb424491f9adffbde1eb3ea3\" , \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"amount\" : \"1200\" , \"currency\" : \"TRX\" , \"confirmations\" : 21 , \"blockIndex\" : null , // or integer number > 0, like 4407539 \"blockHash\" : null , // or string, like \"00000000004340f3813671cdcbb5692d4722dece53db74f7b6fa11c96a5a7714\" \"createdAt\" : \"2020-05-06T09:08:39.537Z\" }","title":"Get deposit"},{"location":"devel-crypto-lib-devel/#create-deposit","text":"POST /api/{{walletId}}/deposit Request body: { \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"currency\" : \"TRX\" , \"amount\" : \"123.123456\" , \"split\" : 5 , \"isTrusted\" : false } split and isTrusted are optional Response body { \"tx\" : \"c0ce2b86c6d02baac4053acaf745fcd7459f74a9cb424491f9adffbde1eb3ea3\" , \"address\" : \"TRXemulatorUqcqbCwAtkS8pAxYCw2kNgv\" , \"amount\" : \"123.123456\" , \"currency\" : \"TRX\" , \"confirmations\" : 0 , \"blockIndex\" : null , // or integer number > 0, like 4407539 \"blockHash\" : null , // or string, like \"00000000004340f3813671cdcbb5692d4722dece53db74f7b6fa11c96a5a7714\" \"createdAt\" : \"2020-05-06T09:08:39.537Z\" }","title":"Create deposit"},{"location":"devel-crypto-lib-devel/#web","text":"Web - \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430\u043c\u0438 (\u0438\u043d\u0441\u0442\u0430\u043d\u0441\u0430\u043c\u0438 VirtualCryptoWallet ): \u041f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u041f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a deposit-\u043e\u0432 \u041f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a withdrawal-\u043e\u0432 \u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c deposit (\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432 \u043e\u043f\u043b\u0430\u0442\u044b, \u043f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u044b, \u043d\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u044b) \u0424\u0438\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 withdrawal-\u0430 (\u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432 \u043e\u0442\u043a\u0430\u0437\u0430 \u0432 \u0432\u044b\u0432\u043e\u0434\u0435) \u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c withdrawal (\u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0445 withdrawal) \u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441 (\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f \u0441 \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u043c \u0430\u0434\u0440\u0435\u0441\u043e\u043c)","title":"/web"},{"location":"devel-crypto-overview/","text":"Crypto - set of libraries \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 @cexiolabs/\u0441rypto* - \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0442 Bussness Layer API \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u043a\u0440\u0438\u043f\u0442\u043e\u0439. NPM \u043c\u043e\u0434\u0443\u043b\u0438 @cexiolabs/\u0441rypto CryptoWallet - interface \u041d\u0438\u0437\u043a\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0433\u043e \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430. makePaymentUri - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URI \u0434\u043b\u044f \u043e\u043f\u043b\u0430\u0442\u044b (\u043e\u0431\u044b\u0447\u043d\u043e \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0432 QR \u043a\u043e\u0434). makeAddressUrl - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URL \u043d\u0430 \u043a\u0440\u0438\u043f\u0442\u043e-\u0430\u0434\u0440\u0435\u0441 \u0432 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 Blockchain Explorer. makeTransactionUrl - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URL \u043d\u0430 \u043a\u0440\u0438\u043f\u0442\u043e-\u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e \u0432 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 Blockchain Explorer. @cexiolabs/\u0441rypto.cex CexCryptoWallet - class \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 CryptoWallet \u0447\u0435\u0440\u0435\u0437 ~~WTF1~~ \u0438 pss-provider-wtf2 . @cexiolabs/\u0441rypto.devel CryptoWalletCurrencyReMapper - class \u041e\u0431\u0432\u0435\u0440\u0442\u043a\u0430 \u0432\u043e\u043a\u0440\u0443\u0433 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 CryptoWallet \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0430\u044f \u0440\u0435-\u043c\u0430\u043f\u0438\u043d\u0433 \u0432\u0430\u043b\u044e\u0442\u044b. \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441 \u043b\u043e\u0433\u0438\u043a\u0443 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u0432\u0430\u043b\u044e\u0442\u0443. (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u0440\u0434\u0435\u0440\u0430 \u0432 ETH, \u0430 \u043f\u043e \u0444\u0430\u043a\u0442\u0443 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c TRX \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u043e\u043c) VirtualCryptoWallet - class \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 CryptoWallet \u0432 \u0432\u0438\u0434\u0435 \u044d\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u0430. \u0420\u0435\u0448\u0430\u0435\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 (\u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0444\u0435\u0439\u043a\u043e\u0432\u043e\u0439 \u043a\u0440\u0438\u043f\u0442\u043e\u0439). serve - variable Express Middleware \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0432\u0430\u0448\u0435 Express App. \u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442: /api - API \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u0440\u0438\u043f\u0442\u043e\u0439 (\u0444\u0435\u0439\u043a\u043e\u0432\u044b\u0435 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u044b, \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432, \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u0430\u0434\u0440\u0435\u0441\u043e\u0432). \u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. /web - Web-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0440\u0443\u0447\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f (\u0444\u0435\u0439\u043a\u043e\u0432\u044b\u0435 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u044b, \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432, \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u0430\u0434\u0440\u0435\u0441\u043e\u0432). @cexiolabs/\u0441rypto.component CryptoWalletComponent - class \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442, \u043d\u0430 \u0431\u0430\u0437\u0435 PostgreSQL, \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433, \u043f\u0443\u043b \u043d\u043e\u0432\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e \u043a\u0440\u0438\u043f\u0442\u043e\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430\u043c. \u0412\u0440\u0430\u043f\u043f\u0435\u0440 \u043d\u0430\u0434 \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u043e\u043c CryptoWallet . Bussness Layer \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442. \u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f Low Level Usage \u0414\u0430\u043d\u043d\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0431\u0449\u0435\u043d\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 CryptoWallet \u0438 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u044b\u0431\u043e\u0440\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 CryptoWallet \u0432 \u0441\u0432\u043e\u0435\u043c \u043a\u043e\u0434\u0435, \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0441\u0440\u0435\u0434\u0443 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\u043c\u0438 \u0442\u0430\u043a\u0438\u043c\u0438 \u043a\u0430\u043a CexCryptoWallet \u0438 VirtualCryptoWallet . \u041c\u0438\u043d\u0438\u043c\u0443\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0410\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433 \u043d\u0443\u0436\u043d\u043e \u0438\u043c\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0442\u044c \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e High Level Usage \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u044d\u0442\u043e\u0442 \u0432\u0430\u0440\u0438\u0430\u043d\u0442, \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0410\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a CryptoWallet \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u041f\u0443\u043b \u043d\u043e\u0432\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 - \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u043f\u0440\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 CryptoWallet \u0421\u043b\u043e\u0436\u043d\u0435\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f (\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0411\u0414) \u0414\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0430 \u043a\u043b\u0430\u0441\u0441\u043e\u0432 Crypto deposit events flow graph TB; DEPOSIT_PROCESSING -- confirmation+1 --> DEPOSIT_PROCESSING; DEPOSIT_PROCESSING --> DEPOSIT_ACCEPTED; DEPOSIT_PROCESSING --> DEPOSIT_REJECTED; DEPOSIT_ACCEPTED -- confirmation+1 --> DEPOSIT_ACCEPTED; Crypto withdrawal events flow graph TB; WITHDRAWAL_NEW --> WITHDRAWAL_PROCESSING; WITHDRAWAL_NEW --> WITHDRAWAL_CANCELLED; WITHDRAWAL_PROCESSING --> WITHDRAWAL_PROCESSING; WITHDRAWAL_PROCESSING --> WITHDRAWAL_ACCEPTED; WITHDRAWAL_PROCESSING --> WITHDRAWAL_REJECTED; WITHDRAWAL_ACCEPTED -- confirmation+1 --> WITHDRAWAL_ACCEPTED;","title":"Crypto - set of libraries"},{"location":"devel-crypto-overview/#crypto-set-of-libraries","text":"\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 @cexiolabs/\u0441rypto* - \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0442 Bussness Layer API \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u043a\u0440\u0438\u043f\u0442\u043e\u0439.","title":"Crypto - set of libraries"},{"location":"devel-crypto-overview/#npm","text":"@cexiolabs/\u0441rypto CryptoWallet - interface \u041d\u0438\u0437\u043a\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0433\u043e \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430. makePaymentUri - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URI \u0434\u043b\u044f \u043e\u043f\u043b\u0430\u0442\u044b (\u043e\u0431\u044b\u0447\u043d\u043e \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0432 QR \u043a\u043e\u0434). makeAddressUrl - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URL \u043d\u0430 \u043a\u0440\u0438\u043f\u0442\u043e-\u0430\u0434\u0440\u0435\u0441 \u0432 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 Blockchain Explorer. makeTransactionUrl - function \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 URL \u043d\u0430 \u043a\u0440\u0438\u043f\u0442\u043e-\u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e \u0432 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 Blockchain Explorer. @cexiolabs/\u0441rypto.cex CexCryptoWallet - class \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 CryptoWallet \u0447\u0435\u0440\u0435\u0437 ~~WTF1~~ \u0438 pss-provider-wtf2 . @cexiolabs/\u0441rypto.devel CryptoWalletCurrencyReMapper - class \u041e\u0431\u0432\u0435\u0440\u0442\u043a\u0430 \u0432\u043e\u043a\u0440\u0443\u0433 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 CryptoWallet \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0430\u044f \u0440\u0435-\u043c\u0430\u043f\u0438\u043d\u0433 \u0432\u0430\u043b\u044e\u0442\u044b. \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441 \u043b\u043e\u0433\u0438\u043a\u0443 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u0432\u0430\u043b\u044e\u0442\u0443. (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u0440\u0434\u0435\u0440\u0430 \u0432 ETH, \u0430 \u043f\u043e \u0444\u0430\u043a\u0442\u0443 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c TRX \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u043e\u043c) VirtualCryptoWallet - class \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 CryptoWallet \u0432 \u0432\u0438\u0434\u0435 \u044d\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u0430. \u0420\u0435\u0448\u0430\u0435\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 (\u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0444\u0435\u0439\u043a\u043e\u0432\u043e\u0439 \u043a\u0440\u0438\u043f\u0442\u043e\u0439). serve - variable Express Middleware \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0432\u0430\u0448\u0435 Express App. \u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442: /api - API \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u0440\u0438\u043f\u0442\u043e\u0439 (\u0444\u0435\u0439\u043a\u043e\u0432\u044b\u0435 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u044b, \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432, \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u0430\u0434\u0440\u0435\u0441\u043e\u0432). \u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. /web - Web-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0440\u0443\u0447\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f (\u0444\u0435\u0439\u043a\u043e\u0432\u044b\u0435 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u044b, \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432, \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u0430\u0434\u0440\u0435\u0441\u043e\u0432). @cexiolabs/\u0441rypto.component CryptoWalletComponent - class \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442, \u043d\u0430 \u0431\u0430\u0437\u0435 PostgreSQL, \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433, \u043f\u0443\u043b \u043d\u043e\u0432\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e \u043a\u0440\u0438\u043f\u0442\u043e\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430\u043c. \u0412\u0440\u0430\u043f\u043f\u0435\u0440 \u043d\u0430\u0434 \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u043e\u043c CryptoWallet . Bussness Layer \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442.","title":"NPM \u043c\u043e\u0434\u0443\u043b\u0438"},{"location":"devel-crypto-overview/#_1","text":"","title":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"},{"location":"devel-crypto-overview/#low-level-usage","text":"\u0414\u0430\u043d\u043d\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0431\u0449\u0435\u043d\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 CryptoWallet \u0438 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u044b\u0431\u043e\u0440\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 CryptoWallet \u0432 \u0441\u0432\u043e\u0435\u043c \u043a\u043e\u0434\u0435, \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0441\u0440\u0435\u0434\u0443 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\u043c\u0438 \u0442\u0430\u043a\u0438\u043c\u0438 \u043a\u0430\u043a CexCryptoWallet \u0438 VirtualCryptoWallet . \u041c\u0438\u043d\u0438\u043c\u0443\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0410\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433 \u043d\u0443\u0436\u043d\u043e \u0438\u043c\u043b\u0435\u043c\u0435\u043d\u0442\u0438\u0442\u044c \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e","title":"Low Level Usage"},{"location":"devel-crypto-overview/#high-level-usage","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u044d\u0442\u043e\u0442 \u0432\u0430\u0440\u0438\u0430\u043d\u0442, \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0410\u043a\u043a\u0430\u0443\u043d\u0442\u0438\u043d\u0433 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a CryptoWallet \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u041f\u0443\u043b \u043d\u043e\u0432\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 - \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u043f\u0440\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 CryptoWallet \u0421\u043b\u043e\u0436\u043d\u0435\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f (\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0411\u0414)","title":"High Level Usage"},{"location":"devel-crypto-overview/#_2","text":"","title":"\u0414\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0430 \u043a\u043b\u0430\u0441\u0441\u043e\u0432"},{"location":"devel-crypto-overview/#crypto-deposit-events-flow","text":"graph TB; DEPOSIT_PROCESSING -- confirmation+1 --> DEPOSIT_PROCESSING; DEPOSIT_PROCESSING --> DEPOSIT_ACCEPTED; DEPOSIT_PROCESSING --> DEPOSIT_REJECTED; DEPOSIT_ACCEPTED -- confirmation+1 --> DEPOSIT_ACCEPTED;","title":"Crypto deposit events flow"},{"location":"devel-crypto-overview/#crypto-withdrawal-events-flow","text":"graph TB; WITHDRAWAL_NEW --> WITHDRAWAL_PROCESSING; WITHDRAWAL_NEW --> WITHDRAWAL_CANCELLED; WITHDRAWAL_PROCESSING --> WITHDRAWAL_PROCESSING; WITHDRAWAL_PROCESSING --> WITHDRAWAL_ACCEPTED; WITHDRAWAL_PROCESSING --> WITHDRAWAL_REJECTED; WITHDRAWAL_ACCEPTED -- confirmation+1 --> WITHDRAWAL_ACCEPTED;","title":"Crypto withdrawal events flow"},{"location":"devel-database/","text":"Database \u041f\u0440\u043e\u0435\u043a\u0442 /cryptopay/database \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438 PostgreSQL \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 Cryptopay. \u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0418\u0437\u0431\u0435\u0433\u0430\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 UPDATE (INSERT as much as possible) \u0418\u0437\u0431\u0435\u0433\u0430\u0442\u044c \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 (\u0441\u0432\u044f\u0437\u044c \u0447\u0435\u0440\u0435\u0437 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b) \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 . \u251c\u2500\u2500 bin \u2502 \u2514\u2500\u2500 build.js \u0421\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 SQL \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u251c\u2500\u2500 docker \u2502 \u2514\u2500\u2500 Dockerfile \u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u043e\u0431\u0440\u0430\u0437\u0430 \u0441 \u0440\u0435\u043b\u0438\u0437\u043e\u043c \u0432\u0435\u0440\u0441\u0438\u0438 \u251c\u2500\u2500 database-devel.config \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 (\u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 database.config) \u251c\u2500\u2500 database-evolution.config \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f Evolution (\u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 database.config) \u251c\u2500\u2500 database-presentation.config \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f Presentation (\u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 database.config) \u251c\u2500\u2500 database-preproduction.config \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f Pre-Production (\u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 database.config) \u251c\u2500\u2500 database-production.config \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f Production (\u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 database.config) \u251c\u2500\u2500 database.config \u0411\u0430\u0437\u043e\u0432\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u251c\u2500\u2500 sql \u0425\u0440\u0430\u043d\u0438\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 Production (READONLY \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432) \u2514\u2500\u2500 updates \u0412\u0435\u0440\u0441\u0438\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u251c\u2500\u2500 v02.00 \u2502 \u251c\u2500\u2500 install \u041d\u0430\u0431\u043e\u0440 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0434\u043b\u044f \u0438\u043d\u0441\u0442\u0430\u043b\u044f\u0446\u0438\u0438 \u0432\u0435\u0440\u0441\u0438\u0438 \u0431\u0430\u0437\u044b v02.00 \u2502 \u2502 \u251c\u2500\u2500 00-begin.js \u2502 \u2502 \u251c\u2500\u2500 10-create-table1.sql \u2502 \u2502 \u251c\u2500\u2500 20-create-table2.sql \u2502 \u2502 \u251c\u2500\u2500 30-create-table3.sql \u2502 \u2502 \u2514\u2500\u2500 99-end.js \u2502 \u2514\u2500\u2500 rollback \u041d\u0430\u0431\u043e\u0440 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b \u0432\u0435\u0440\u0441\u0438\u0438 \u0431\u0430\u0437\u044b v02.00 (\u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0439 \u0432\u0435\u0440\u0441\u0438\u0438) \u2502 \u251c\u2500\u2500 00-begin.js \u2502 \u251c\u2500\u2500 10-drop-table3.sql \u2502 \u251c\u2500\u2500 20-drop-table2.sql \u2502 \u251c\u2500\u2500 30-drop-table1.sql \u2502 \u2514\u2500\u2500 99-end.js \u251c\u2500\u2500 v02.01 \u251c\u2500\u2500 ...... \u2514\u2500\u2500 vXX.XX \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0435 updates \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0430\u0442\u043e\u0440 Mustache . \u0428\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0430\u0442\u043e\u0440 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0438\u043c\u0435\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u0438\u043c\u0435\u043d \u0441\u0445\u0435\u043c, \u0438\u043c\u0435\u043d tablespace, etc. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 Mustache + \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0445 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 database*.config \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0447\u0438\u0441\u0442\u044b\u0439 SQL \u0441 \u043d\u0443\u0436\u043d\u044b\u043c\u0438 \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\u043c\u0438. [!] Mustache \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u044e, \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u043d\u043e\u0433\u043e INSERT-\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0440\u043e\u043a \u0448\u0430\u0431\u043b\u043e\u043d\u0430. \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e ./bin/build.js . \u0412 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435 \u0434\u043b\u044f Mustache \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043c\u0435\u0440\u0436\u0438\u043d\u0433 database.config + \u0444\u0430\u0439\u043b\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e\u0433\u043e \u0432 --envConfigurationFile + \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f. \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0432\u0441\u0435\u0445 \u0432\u0435\u0440\u0441\u0438\u0439: $ ./bin/build.js --envConfigurationFile = database-devel.config [ 2020 -04-13T09:27:17.370 ] [ INFO ] install - Cryptopay Database Migration [ Build ] : v0.0.1 [ 2020 -04-13T09:27:17.376 ] [ INFO ] main.config-loader - Loading configuration environment variables... [ 2020 -04-13T09:27:17.376 ] [ INFO ] main.config-loader - Loading configuration from file database-devel.config... [ 2020 -04-13T09:27:17.383 ] [ INFO ] main.config-loader - Loading configuration from file /Users/m.anurin/work/cryptopay/database/database.config... [ 2020 -04-13T09:27:17.385 ] [ INFO ] main - Loading migration scripts... [ 2020 -04-13T09:27:17.392 ] [ INFO ] main - Cleaning target directory /Users/m.anurin/work/cryptopay/database/.dist... [ 2020 -04-13T09:27:17.392 ] [ INFO ] main - Building Mustache templates... [ 2020 -04-13T09:27:17.396 ] [ INFO ] main - Saving compiled scripts to /Users/m.anurin/work/cryptopay/database/.dist... [ 2020 -04-13T09:27:17.403 ] [ INFO ] main - Done in 0 .027 seconds. \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430 \u0432\u0435\u0440\u0441\u0438\u0439: $ ./bin/build.js --envConfigurationFile = database-devel.config --versionFrom = v02.01 --versionTo = v02.02 \u0414\u0435\u043f\u043b\u043e\u0439 \u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438, \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u044d\u0442\u043e \u0447\u0438\u0441\u0442\u044b\u0439 SQL \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0435\u043d \u0440\u0443\u043a\u0430\u043c\u0438 DBA. \u0414\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f MigrationManager (\u0438\u0437 @cexiolabs/cryptopay.sql ), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c install / rollback \u0434\u043e \u043d\u0443\u0436\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u0431\u0430\u0437\u044b. \u041a\u043e\u043d\u0441\u043e\u043b\u044c\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f MigrationManager \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 \u0434\u043e\u043a\u0435\u0440-\u043e\u0431\u0440\u0430\u0437 (\u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0431\u0430\u0437\u043e\u0432\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u0440\u0435\u043b\u0438\u0437\u0430). Note: --env TARGET_VERSION=\"vXX.XX\" \u0434\u043b\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u0438 Install $ docker run --rm --tty --interactive --volume ${PWD}/.dist:/var/local/cexiolabs/migration --env POSTGRES_URL=\"postgres://postgres@host.docker.internal:5432/cryptopay-devel\" --env TARGET_VERSION=\"v02.01\" cexiolabs/migration-postgres:latest install {\"startTime\":\"2020-04-13T06:45:50.844Z\",\"categoryName\":\"install\",\"level\":\"INFO\",\"data\":\"Database Migration Install: v0.0.2\"} {\"startTime\":\"2020-04-13T06:45:50.860Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Establishing database connection...\"} {\"startTime\":\"2020-04-13T06:45:50.863Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Loading migration scripts from /var/local/cexiolabs/migration...\"} {\"startTime\":\"2020-04-13T06:45:50.998Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Obtaining current database version...\"} {\"startTime\":\"2020-04-13T06:45:51.111Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Current database version is 'null'.\"} {\"startTime\":\"2020-04-13T06:45:51.112Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Target version 'v02.01' to install.\"} {\"startTime\":\"2020-04-13T06:45:51.112Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Sleep a little bit before install scripts (you are able to cancel the process yet)...\"} {\"startTime\":\"2020-04-13T06:45:56.120Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Installing migration scripts to target version 'v02.01'...\"} {\"startTime\":\"2020-04-13T06:45:56.257Z\",\"categoryName\":\"install.main.migration.v02.01\",\"level\":\"INFO\",\"data\":\"Execute JS script: 00-begin.js\"} {\"startTime\":\"2020-04-13T06:45:56.267Z\",\"categoryName\":\"install.main.migration.v02.01\",\"level\":\"INFO\",\"data\":\"BEGIN INSTALL: /var/local/cexiolabs/migration/v02.01/install/00-begin.js\"} {\"startTime\":\"2020-04-13T06:45:56.267Z\",\"categoryName\":\"install.main.migration.v02.01\",\"level\":\"INFO\",\"data\":\"Execute SQL script: 20-schemas-install.sql\"} {\"startTime\":\"2020-04-13T06:45:56.293Z\",\"categoryName\":\"install.main.migration.v02.01\",\"level\":\"INFO\",\"data\":\"Execute JS script: 99-end.js\"} {\"startTime\":\"2020-04-13T06:45:56.300Z\",\"categoryName\":\"install.main.migration.v02.01\",\"level\":\"INFO\",\"data\":\"END INSTALL: /var/local/cexiolabs/migration/v02.01/install/99-end.js\"} {\"startTime\":\"2020-04-13T06:45:56.316Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Closing database connection...\"} {\"startTime\":\"2020-04-13T06:45:56.319Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Done in 5.466 seconds.\"} Rollback $ docker run --rm --tty --interactive --volume ${PWD}/.dist:/var/local/cexiolabs/migration --env POSTGRES_URL=\"postgres://postgres@host.docker.internal:5432/cryptopay-devel\" cexiolabs/migration-postgres:latest rollback {\"startTime\":\"2020-04-13T06:46:46.729Z\",\"categoryName\":\"install\",\"level\":\"INFO\",\"data\":\"Database Migration Rollback: v0.0.2\"} {\"startTime\":\"2020-04-13T06:46:46.747Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Establishing database connection...\"} {\"startTime\":\"2020-04-13T06:46:46.752Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Loading migration scripts from /var/local/cexiolabs/migration...\"} {\"startTime\":\"2020-04-13T06:46:46.797Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Obtaining current database version...\"} {\"startTime\":\"2020-04-13T06:46:46.849Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Current database version is 'v02.01'.\"} {\"startTime\":\"2020-04-13T06:46:46.849Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Target version 'v02.00' to rollback.\"} {\"startTime\":\"2020-04-13T06:46:46.849Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Sleep a little bit before rollback scripts (you are able to cancel the process yet)...\"} {\"startTime\":\"2020-04-13T06:46:51.854Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Rollbacking migration scripts to target version 'v02.00'...\"} {\"startTime\":\"2020-04-13T06:46:51.891Z\",\"categoryName\":\"install.main.migration\",\"level\":\"INFO\",\"data\":\"Execute SQL script: 20-schemas-rollback.sql\"} {\"startTime\":\"2020-04-13T06:46:51.907Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Closing database connection...\"} {\"startTime\":\"2020-04-13T06:46:51.909Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Done in 5.17 seconds.\"} \u0420\u0435\u043b\u0438\u0437\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437 \u0420\u0435\u043b\u0438\u0437 \u0432\u0435\u0440\u0441\u0438\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u0434\u043e\u043a\u0435\u0440-\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430. \u0420\u0435\u043b\u0438\u0437\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0432\u044b\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0434\u043e\u043a\u0435\u0440 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439. \u0417\u0430\u043f\u0443\u0441\u043a \u0440\u0435\u043b\u0438\u0437\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Kubertenes Job (\u0441\u043c. devops pipelines ). \u0421\u0431\u043e\u0440\u043a\u0430 \u0440\u0435\u043b\u0438\u0437\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u041f\u0440\u0438\u043c\u0435\u0440 \u0441\u0431\u043e\u0440\u043a\u0438 \u0440\u0435\u043b\u0438\u0437\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f \u0432\u0435\u0440\u0441\u0438\u0438 \u0438\u0437 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430 v02.00 - v02.05 docker build --tag devdocker.infra.kube/cryptopay/database-devel --file docker/Dockerfile --build-arg ENV = devel --build-arg VERSION_FROM = v02.00 --build-arg VERSION_TO = v02.05 . \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u043b\u0438\u0437\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u041e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e: --env TARGET_VERSION=\"vXX.XX\" Install docker run --rm --tty --interactive --env POSTGRES_URL = \"postgres://postgres@host.docker.internal:5432/cryptopay-devel\" devdocker.infra.kube/cryptopay/database-devel install Rollback docker run --rm --tty --interactive --env POSTGRES_URL = \"postgres://postgres@host.docker.internal:5432/cryptopay-devel\" devdocker.infra.kube/cryptopay/database-devel rollback","title":"Database"},{"location":"devel-database/#database","text":"\u041f\u0440\u043e\u0435\u043a\u0442 /cryptopay/database \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438 PostgreSQL \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 Cryptopay.","title":"Database"},{"location":"devel-database/#_1","text":"\u0418\u0437\u0431\u0435\u0433\u0430\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 UPDATE (INSERT as much as possible) \u0418\u0437\u0431\u0435\u0433\u0430\u0442\u044c \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 (\u0441\u0432\u044f\u0437\u044c \u0447\u0435\u0440\u0435\u0437 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b)","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430"},{"location":"devel-database/#_2","text":". \u251c\u2500\u2500 bin \u2502 \u2514\u2500\u2500 build.js \u0421\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 SQL \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u251c\u2500\u2500 docker \u2502 \u2514\u2500\u2500 Dockerfile \u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u043e\u0431\u0440\u0430\u0437\u0430 \u0441 \u0440\u0435\u043b\u0438\u0437\u043e\u043c \u0432\u0435\u0440\u0441\u0438\u0438 \u251c\u2500\u2500 database-devel.config \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 (\u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 database.config) \u251c\u2500\u2500 database-evolution.config \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f Evolution (\u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 database.config) \u251c\u2500\u2500 database-presentation.config \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f Presentation (\u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 database.config) \u251c\u2500\u2500 database-preproduction.config \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f Pre-Production (\u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 database.config) \u251c\u2500\u2500 database-production.config \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f Production (\u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 database.config) \u251c\u2500\u2500 database.config \u0411\u0430\u0437\u043e\u0432\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u251c\u2500\u2500 sql \u0425\u0440\u0430\u043d\u0438\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 Production (READONLY \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432) \u2514\u2500\u2500 updates \u0412\u0435\u0440\u0441\u0438\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u251c\u2500\u2500 v02.00 \u2502 \u251c\u2500\u2500 install \u041d\u0430\u0431\u043e\u0440 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0434\u043b\u044f \u0438\u043d\u0441\u0442\u0430\u043b\u044f\u0446\u0438\u0438 \u0432\u0435\u0440\u0441\u0438\u0438 \u0431\u0430\u0437\u044b v02.00 \u2502 \u2502 \u251c\u2500\u2500 00-begin.js \u2502 \u2502 \u251c\u2500\u2500 10-create-table1.sql \u2502 \u2502 \u251c\u2500\u2500 20-create-table2.sql \u2502 \u2502 \u251c\u2500\u2500 30-create-table3.sql \u2502 \u2502 \u2514\u2500\u2500 99-end.js \u2502 \u2514\u2500\u2500 rollback \u041d\u0430\u0431\u043e\u0440 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b \u0432\u0435\u0440\u0441\u0438\u0438 \u0431\u0430\u0437\u044b v02.00 (\u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0439 \u0432\u0435\u0440\u0441\u0438\u0438) \u2502 \u251c\u2500\u2500 00-begin.js \u2502 \u251c\u2500\u2500 10-drop-table3.sql \u2502 \u251c\u2500\u2500 20-drop-table2.sql \u2502 \u251c\u2500\u2500 30-drop-table1.sql \u2502 \u2514\u2500\u2500 99-end.js \u251c\u2500\u2500 v02.01 \u251c\u2500\u2500 ...... \u2514\u2500\u2500 vXX.XX","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"},{"location":"devel-database/#_3","text":"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0435 updates \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0430\u0442\u043e\u0440 Mustache . \u0428\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0430\u0442\u043e\u0440 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0438\u043c\u0435\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u0438\u043c\u0435\u043d \u0441\u0445\u0435\u043c, \u0438\u043c\u0435\u043d tablespace, etc. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 Mustache + \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0445 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 database*.config \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0447\u0438\u0441\u0442\u044b\u0439 SQL \u0441 \u043d\u0443\u0436\u043d\u044b\u043c\u0438 \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\u043c\u0438. [!] Mustache \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u044e, \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u043d\u043e\u0433\u043e INSERT-\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0440\u043e\u043a \u0448\u0430\u0431\u043b\u043e\u043d\u0430. \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e ./bin/build.js . \u0412 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435 \u0434\u043b\u044f Mustache \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043c\u0435\u0440\u0436\u0438\u043d\u0433 database.config + \u0444\u0430\u0439\u043b\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e\u0433\u043e \u0432 --envConfigurationFile + \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f. \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0432\u0441\u0435\u0445 \u0432\u0435\u0440\u0441\u0438\u0439: $ ./bin/build.js --envConfigurationFile = database-devel.config [ 2020 -04-13T09:27:17.370 ] [ INFO ] install - Cryptopay Database Migration [ Build ] : v0.0.1 [ 2020 -04-13T09:27:17.376 ] [ INFO ] main.config-loader - Loading configuration environment variables... [ 2020 -04-13T09:27:17.376 ] [ INFO ] main.config-loader - Loading configuration from file database-devel.config... [ 2020 -04-13T09:27:17.383 ] [ INFO ] main.config-loader - Loading configuration from file /Users/m.anurin/work/cryptopay/database/database.config... [ 2020 -04-13T09:27:17.385 ] [ INFO ] main - Loading migration scripts... [ 2020 -04-13T09:27:17.392 ] [ INFO ] main - Cleaning target directory /Users/m.anurin/work/cryptopay/database/.dist... [ 2020 -04-13T09:27:17.392 ] [ INFO ] main - Building Mustache templates... [ 2020 -04-13T09:27:17.396 ] [ INFO ] main - Saving compiled scripts to /Users/m.anurin/work/cryptopay/database/.dist... [ 2020 -04-13T09:27:17.403 ] [ INFO ] main - Done in 0 .027 seconds. \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430 \u0432\u0435\u0440\u0441\u0438\u0439: $ ./bin/build.js --envConfigurationFile = database-devel.config --versionFrom = v02.01 --versionTo = v02.02","title":"\u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f"},{"location":"devel-database/#_4","text":"\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438, \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u044d\u0442\u043e \u0447\u0438\u0441\u0442\u044b\u0439 SQL \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0435\u043d \u0440\u0443\u043a\u0430\u043c\u0438 DBA. \u0414\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f MigrationManager (\u0438\u0437 @cexiolabs/cryptopay.sql ), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c install / rollback \u0434\u043e \u043d\u0443\u0436\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u0431\u0430\u0437\u044b. \u041a\u043e\u043d\u0441\u043e\u043b\u044c\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f MigrationManager \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 \u0434\u043e\u043a\u0435\u0440-\u043e\u0431\u0440\u0430\u0437 (\u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0431\u0430\u0437\u043e\u0432\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u0440\u0435\u043b\u0438\u0437\u0430). Note: --env TARGET_VERSION=\"vXX.XX\" \u0434\u043b\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u0441\u0438\u0438","title":"\u0414\u0435\u043f\u043b\u043e\u0439"},{"location":"devel-database/#install","text":"$ docker run --rm --tty --interactive --volume ${PWD}/.dist:/var/local/cexiolabs/migration --env POSTGRES_URL=\"postgres://postgres@host.docker.internal:5432/cryptopay-devel\" --env TARGET_VERSION=\"v02.01\" cexiolabs/migration-postgres:latest install {\"startTime\":\"2020-04-13T06:45:50.844Z\",\"categoryName\":\"install\",\"level\":\"INFO\",\"data\":\"Database Migration Install: v0.0.2\"} {\"startTime\":\"2020-04-13T06:45:50.860Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Establishing database connection...\"} {\"startTime\":\"2020-04-13T06:45:50.863Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Loading migration scripts from /var/local/cexiolabs/migration...\"} {\"startTime\":\"2020-04-13T06:45:50.998Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Obtaining current database version...\"} {\"startTime\":\"2020-04-13T06:45:51.111Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Current database version is 'null'.\"} {\"startTime\":\"2020-04-13T06:45:51.112Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Target version 'v02.01' to install.\"} {\"startTime\":\"2020-04-13T06:45:51.112Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Sleep a little bit before install scripts (you are able to cancel the process yet)...\"} {\"startTime\":\"2020-04-13T06:45:56.120Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Installing migration scripts to target version 'v02.01'...\"} {\"startTime\":\"2020-04-13T06:45:56.257Z\",\"categoryName\":\"install.main.migration.v02.01\",\"level\":\"INFO\",\"data\":\"Execute JS script: 00-begin.js\"} {\"startTime\":\"2020-04-13T06:45:56.267Z\",\"categoryName\":\"install.main.migration.v02.01\",\"level\":\"INFO\",\"data\":\"BEGIN INSTALL: /var/local/cexiolabs/migration/v02.01/install/00-begin.js\"} {\"startTime\":\"2020-04-13T06:45:56.267Z\",\"categoryName\":\"install.main.migration.v02.01\",\"level\":\"INFO\",\"data\":\"Execute SQL script: 20-schemas-install.sql\"} {\"startTime\":\"2020-04-13T06:45:56.293Z\",\"categoryName\":\"install.main.migration.v02.01\",\"level\":\"INFO\",\"data\":\"Execute JS script: 99-end.js\"} {\"startTime\":\"2020-04-13T06:45:56.300Z\",\"categoryName\":\"install.main.migration.v02.01\",\"level\":\"INFO\",\"data\":\"END INSTALL: /var/local/cexiolabs/migration/v02.01/install/99-end.js\"} {\"startTime\":\"2020-04-13T06:45:56.316Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Closing database connection...\"} {\"startTime\":\"2020-04-13T06:45:56.319Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Done in 5.466 seconds.\"}","title":"Install"},{"location":"devel-database/#rollback","text":"$ docker run --rm --tty --interactive --volume ${PWD}/.dist:/var/local/cexiolabs/migration --env POSTGRES_URL=\"postgres://postgres@host.docker.internal:5432/cryptopay-devel\" cexiolabs/migration-postgres:latest rollback {\"startTime\":\"2020-04-13T06:46:46.729Z\",\"categoryName\":\"install\",\"level\":\"INFO\",\"data\":\"Database Migration Rollback: v0.0.2\"} {\"startTime\":\"2020-04-13T06:46:46.747Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Establishing database connection...\"} {\"startTime\":\"2020-04-13T06:46:46.752Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Loading migration scripts from /var/local/cexiolabs/migration...\"} {\"startTime\":\"2020-04-13T06:46:46.797Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Obtaining current database version...\"} {\"startTime\":\"2020-04-13T06:46:46.849Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Current database version is 'v02.01'.\"} {\"startTime\":\"2020-04-13T06:46:46.849Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Target version 'v02.00' to rollback.\"} {\"startTime\":\"2020-04-13T06:46:46.849Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Sleep a little bit before rollback scripts (you are able to cancel the process yet)...\"} {\"startTime\":\"2020-04-13T06:46:51.854Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Rollbacking migration scripts to target version 'v02.00'...\"} {\"startTime\":\"2020-04-13T06:46:51.891Z\",\"categoryName\":\"install.main.migration\",\"level\":\"INFO\",\"data\":\"Execute SQL script: 20-schemas-rollback.sql\"} {\"startTime\":\"2020-04-13T06:46:51.907Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Closing database connection...\"} {\"startTime\":\"2020-04-13T06:46:51.909Z\",\"categoryName\":\"install.main\",\"level\":\"INFO\",\"data\":\"Done in 5.17 seconds.\"}","title":"Rollback"},{"location":"devel-database/#_5","text":"\u0420\u0435\u043b\u0438\u0437 \u0432\u0435\u0440\u0441\u0438\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u0434\u043e\u043a\u0435\u0440-\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430. \u0420\u0435\u043b\u0438\u0437\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0432\u044b\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0434\u043e\u043a\u0435\u0440 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439. \u0417\u0430\u043f\u0443\u0441\u043a \u0440\u0435\u043b\u0438\u0437\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Kubertenes Job (\u0441\u043c. devops pipelines ).","title":"\u0420\u0435\u043b\u0438\u0437\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437"},{"location":"devel-database/#_6","text":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0441\u0431\u043e\u0440\u043a\u0438 \u0440\u0435\u043b\u0438\u0437\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f \u0432\u0435\u0440\u0441\u0438\u0438 \u0438\u0437 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430 v02.00 - v02.05 docker build --tag devdocker.infra.kube/cryptopay/database-devel --file docker/Dockerfile --build-arg ENV = devel --build-arg VERSION_FROM = v02.00 --build-arg VERSION_TO = v02.05 .","title":"\u0421\u0431\u043e\u0440\u043a\u0430 \u0440\u0435\u043b\u0438\u0437\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430"},{"location":"devel-database/#_7","text":"\u041e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e: --env TARGET_VERSION=\"vXX.XX\"","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u043b\u0438\u0437\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430"},{"location":"devel-database/#install_1","text":"docker run --rm --tty --interactive --env POSTGRES_URL = \"postgres://postgres@host.docker.internal:5432/cryptopay-devel\" devdocker.infra.kube/cryptopay/database-devel install","title":"Install"},{"location":"devel-database/#rollback_1","text":"docker run --rm --tty --interactive --env POSTGRES_URL = \"postgres://postgres@host.docker.internal:5432/cryptopay-devel\" devdocker.infra.kube/cryptopay/database-devel rollback","title":"Rollback"},{"location":"devel-env-evolution/","text":"Evolution \u0417\u0434\u0435\u0441\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u044b \u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 Evolution \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f Evolution \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 - \u044d\u0442\u043e \u0441\u0440\u0435\u0434\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 (\u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438 dev ). \u041b\u044e\u0431\u0430\u044f \u043d\u043e\u0432\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442 \u0436\u0438\u0437\u043d\u044c \u0432 \u044d\u0442\u043e\u043c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438. \u0427\u0430\u0441\u0442\u0438 \u044d\u0442\u043e\u0433\u043e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430\u043c\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0445\u043e\u0442-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u043e\u0442 INTERMEDIATE \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430, \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438/\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u044b\u043f\u043b\u0430\u0442\u044b/\u0441\u0435\u0442\u0442\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432. Hot-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u0412\u0430\u043b\u044e\u0442\u0430 \u0410\u0434\u0440\u0435\u0441 \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0414\u0435\u0442\u0430\u043b\u0438 ADA 2cWKMJemoBajB4bxUnQnGveCN3BWpoFeVKt7UgBAY2kypfSHuRTHmxb87mdZqhxnY1etS pss-provider-wtf2 Address Raw Data Wallet Raw Data ATOM cosmos1z6zr3v47g53sqzdpxzlhnvr44nvvmmdl4uckfv pss-provider-wtf2 Address Raw Data Wallet Raw Data ETH ??? pss-provider-wtf2 Address Raw Data Wallet Raw Data NEO AdN4MGouXjTmhkzYbV36Ud4X8xLxCdA8bs pss-provider-wtf2 Address Raw Data Wallet Raw Data TRX TVmK1i9qhPgVzTx5NzDNGfr61fymQcofvm pss-provider-wtf2 Address Raw Data Wallet Raw Data","title":"Evolution"},{"location":"devel-env-evolution/#evolution","text":"\u0417\u0434\u0435\u0441\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u044b \u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 Evolution \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","title":"Evolution"},{"location":"devel-env-evolution/#_1","text":"Evolution \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 - \u044d\u0442\u043e \u0441\u0440\u0435\u0434\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 (\u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438 dev ). \u041b\u044e\u0431\u0430\u044f \u043d\u043e\u0432\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442 \u0436\u0438\u0437\u043d\u044c \u0432 \u044d\u0442\u043e\u043c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438. \u0427\u0430\u0441\u0442\u0438 \u044d\u0442\u043e\u0433\u043e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430\u043c\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0445\u043e\u0442-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u043e\u0442 INTERMEDIATE \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430, \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438/\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u044b\u043f\u043b\u0430\u0442\u044b/\u0441\u0435\u0442\u0442\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432.","title":"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f"},{"location":"devel-env-evolution/#hot-","text":"\u0412\u0430\u043b\u044e\u0442\u0430 \u0410\u0434\u0440\u0435\u0441 \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0414\u0435\u0442\u0430\u043b\u0438 ADA 2cWKMJemoBajB4bxUnQnGveCN3BWpoFeVKt7UgBAY2kypfSHuRTHmxb87mdZqhxnY1etS pss-provider-wtf2 Address Raw Data Wallet Raw Data ATOM cosmos1z6zr3v47g53sqzdpxzlhnvr44nvvmmdl4uckfv pss-provider-wtf2 Address Raw Data Wallet Raw Data ETH ??? pss-provider-wtf2 Address Raw Data Wallet Raw Data NEO AdN4MGouXjTmhkzYbV36Ud4X8xLxCdA8bs pss-provider-wtf2 Address Raw Data Wallet Raw Data TRX TVmK1i9qhPgVzTx5NzDNGfr61fymQcofvm pss-provider-wtf2 Address Raw Data Wallet Raw Data","title":"Hot-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},{"location":"devel-env-preproduction/","text":"","title":"Devel env preproduction"},{"location":"devel-env-presentation/","text":"Presentation \u0417\u0434\u0435\u0441\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u044b \u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 Presentation \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f Presentation \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 - \u044d\u0442\u043e \u0441\u0440\u0435\u0434\u0430 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u043e\u0432 (\u043c\u0435\u0440\u0447\u0430\u043d\u0442\u044b \u0435\u0435 \u043d\u0430\u0437\u044b\u0432\u0430\u044e\u0442 Testnet (\u200borange\u200b) ). \u041b\u044e\u0431\u0430\u044f \u043d\u043e\u0432\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442 \u0436\u0438\u0437\u043d\u044c \u0432 \u044d\u0442\u043e\u043c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438 \u043f\u043e\u0441\u043b\u0435 Evolution . \u0412\u044b\u043a\u043b\u044e\u0447\u0430\u0442\u044c/\u041b\u043e\u043c\u0430\u0442\u044c \u044d\u0442\u043e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u0435\u0448\u0435\u043d\u043e, \u0442.\u043a. \u043e\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0430\u043d\u043e\u043d\u0438\u043c\u043d\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043b\u0435\u043d\u0434\u0438\u043d\u0433\u0430. Hot-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u0412\u0430\u043b\u044e\u0442\u0430 \u0410\u0434\u0440\u0435\u0441 \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0414\u0435\u0442\u0430\u043b\u0438 ATOM cosmos1tdlcvywgyx27sm5pm7qk5y9c983hvutmj6kz9t pss-provider-wtf2 { \"currency\":\"ATOM\", \"type\":\"hot\", \"walletId\":\"64459625-70ff-49cf-8f2a-4c3ebb20f4db\", \"chain\":0, name\":\"cryptopay-presentation-atom-intermediate-merchant-hot\", \"info\":{} } { \"name\":\"cryptopay-presentation-atom-intermediate-merchant-hot\", \"type\":\"hot\", \"walletId\":59, \"info\":{}, \"address\":\"cosmos1tdlcvywgyx27sm5pm7qk5y9c983hvutmj6kz9t\", \"version\":null, \"options\":{}, \"id\":6824, \"createdAt\":\"2020-04-17T11:00:59.480Z\", \"updatedAt\":\"2020-04-17T11:00:59.480Z\" } TRX TSSGNKQyuhoJX6K1YBzY3KptGhUQJKiCEw pss-provider-wtf2 { \"currency\":\"TRX\", \"type\":\"hot\", \"walletId\":\"f69cacc4-8a56-462f-928e-7f04e4445480\", \"chain\":0, \"name\":\"cryptopay-presentation-trx-intermediate-merchant-hot\", \"info\":{} } { \"name\":\"cryptopay-presentation-trx-intermediate-merchant-hot\", \"type\":\"hot\", \"walletId\": 38, \"info\":{}, \"address\":\"TSSGNKQyuhoJX6K1YBzY3KptGhUQJKiCEw\", \"version\":null, \"options\":{}, \"id\":6825, \"createdAt\":\"2020-04-17T11:06:46.573Z\", \"updatedAt\":\"2020-04-17T11:06:46.573Z\" }","title":"Presentation"},{"location":"devel-env-presentation/#presentation","text":"\u0417\u0434\u0435\u0441\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u044b \u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 Presentation \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","title":"Presentation"},{"location":"devel-env-presentation/#_1","text":"Presentation \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 - \u044d\u0442\u043e \u0441\u0440\u0435\u0434\u0430 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u043e\u0432 (\u043c\u0435\u0440\u0447\u0430\u043d\u0442\u044b \u0435\u0435 \u043d\u0430\u0437\u044b\u0432\u0430\u044e\u0442 Testnet (\u200borange\u200b) ). \u041b\u044e\u0431\u0430\u044f \u043d\u043e\u0432\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442 \u0436\u0438\u0437\u043d\u044c \u0432 \u044d\u0442\u043e\u043c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438 \u043f\u043e\u0441\u043b\u0435 Evolution . \u0412\u044b\u043a\u043b\u044e\u0447\u0430\u0442\u044c/\u041b\u043e\u043c\u0430\u0442\u044c \u044d\u0442\u043e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u0435\u0448\u0435\u043d\u043e, \u0442.\u043a. \u043e\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0430\u043d\u043e\u043d\u0438\u043c\u043d\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043b\u0435\u043d\u0434\u0438\u043d\u0433\u0430.","title":"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f"},{"location":"devel-env-presentation/#hot-","text":"\u0412\u0430\u043b\u044e\u0442\u0430 \u0410\u0434\u0440\u0435\u0441 \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0414\u0435\u0442\u0430\u043b\u0438 ATOM cosmos1tdlcvywgyx27sm5pm7qk5y9c983hvutmj6kz9t pss-provider-wtf2 { \"currency\":\"ATOM\", \"type\":\"hot\", \"walletId\":\"64459625-70ff-49cf-8f2a-4c3ebb20f4db\", \"chain\":0, name\":\"cryptopay-presentation-atom-intermediate-merchant-hot\", \"info\":{} } { \"name\":\"cryptopay-presentation-atom-intermediate-merchant-hot\", \"type\":\"hot\", \"walletId\":59, \"info\":{}, \"address\":\"cosmos1tdlcvywgyx27sm5pm7qk5y9c983hvutmj6kz9t\", \"version\":null, \"options\":{}, \"id\":6824, \"createdAt\":\"2020-04-17T11:00:59.480Z\", \"updatedAt\":\"2020-04-17T11:00:59.480Z\" } TRX TSSGNKQyuhoJX6K1YBzY3KptGhUQJKiCEw pss-provider-wtf2 { \"currency\":\"TRX\", \"type\":\"hot\", \"walletId\":\"f69cacc4-8a56-462f-928e-7f04e4445480\", \"chain\":0, \"name\":\"cryptopay-presentation-trx-intermediate-merchant-hot\", \"info\":{} } { \"name\":\"cryptopay-presentation-trx-intermediate-merchant-hot\", \"type\":\"hot\", \"walletId\": 38, \"info\":{}, \"address\":\"TSSGNKQyuhoJX6K1YBzY3KptGhUQJKiCEw\", \"version\":null, \"options\":{}, \"id\":6825, \"createdAt\":\"2020-04-17T11:06:46.573Z\", \"updatedAt\":\"2020-04-17T11:06:46.573Z\" }","title":"Hot-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},{"location":"devel-env-production/","text":"Production \u0417\u0434\u0435\u0441\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u044b \u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 Production \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f Production \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 - \u044d\u0442\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u0440\u0435\u0434\u0430 \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u043e\u0432 (\u043c\u0435\u0440\u0447\u0430\u043d\u0442\u044b \u0435\u0435 \u043d\u0430\u0437\u044b\u0432\u0430\u044e\u0442 Production (\u200bblue\u200b) ). \u0417\u0434\u0435\u0441\u044c \u0432\u0441\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u044f\u0449\u0435\u0435, \u043c\u043e\u043d\u0435\u0442\u044b, \u0444\u0438\u0430\u0442 \u0438 \u0442.\u0434. Hot-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438 \u0412\u0430\u043b\u044e\u0442\u0430 \u0410\u0434\u0440\u0435\u0441 \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0414\u0435\u0442\u0430\u043b\u0438 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430 MHC 0x00ee0cec95d9134a2c9c2d9f871b9e802c83a32390f467ac93 pss-provider-wtf2 { \"currency\":\"MHC\", \"walletId\":\"9896e895-3c93-44d7-857d-8261d45660ec\", \"name\":\"mhc-cryptopay\" } (c) Max Anurin. Received 2020-04-24 from Serge Smalko via Telegram","title":"Production"},{"location":"devel-env-production/#production","text":"\u0417\u0434\u0435\u0441\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u044b \u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 Production \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","title":"Production"},{"location":"devel-env-production/#_1","text":"Production \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 - \u044d\u0442\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u0440\u0435\u0434\u0430 \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u043e\u0432 (\u043c\u0435\u0440\u0447\u0430\u043d\u0442\u044b \u0435\u0435 \u043d\u0430\u0437\u044b\u0432\u0430\u044e\u0442 Production (\u200bblue\u200b) ). \u0417\u0434\u0435\u0441\u044c \u0432\u0441\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u044f\u0449\u0435\u0435, \u043c\u043e\u043d\u0435\u0442\u044b, \u0444\u0438\u0430\u0442 \u0438 \u0442.\u0434.","title":"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f"},{"location":"devel-env-production/#hot-","text":"\u0412\u0430\u043b\u044e\u0442\u0430 \u0410\u0434\u0440\u0435\u0441 \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0414\u0435\u0442\u0430\u043b\u0438 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430 MHC 0x00ee0cec95d9134a2c9c2d9f871b9e802c83a32390f467ac93 pss-provider-wtf2 { \"currency\":\"MHC\", \"walletId\":\"9896e895-3c93-44d7-857d-8261d45660ec\", \"name\":\"mhc-cryptopay\" } (c) Max Anurin. Received 2020-04-24 from Serge Smalko via Telegram","title":"Hot-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0438"},{"location":"devel-kubernetes-debug/","text":"Debugging inside Kubernetes \u0418\u043d\u043e\u0433\u0434\u0430 \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043e\u0442\u043b\u0430\u0434\u043a\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432\u043d\u0443\u0442\u0440\u0438 Kubetnetes. \u042d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e... \u0427\u0435\u043a-\u043b\u0438\u0441\u0442: \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e kubectl \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e \u0432\u043d\u0443\u0442\u0440\u0438 Kubetnetes \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0434\u0435\u0431\u0430\u0433\u0430 VSCode \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 Attach \u0412\u0435\u0440\u0441\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0430\u043c \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 (\u0435\u0434\u0438\u043d\u043e\u0440\u0430\u0437\u043e\u0432\u043e) \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f kubectl \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f ~/.kube/config , \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0442\u0430\u043a (API Token, \u0434\u043b\u044f \u0441\u0432\u043e\u0435\u0433\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430, \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432 Rancher https://rancher-dev.itdep.org/apikeys): apiVersion : v1 clusters : - cluster : certificate-authority-data : LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURsakNDQW42Z0F3SUJBZ0lVRDI0enVvT1FOQXVJUDl5ajRxdmdyQWdNeHdNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0xURVdNQlFHQTFVRUNnd05WMDVDSUZOdmJIVjBhVzl1Y3pFVE1CRUdBMVVFQXd3S1NXNW1jbUZYVGtKRApRVEFlRncweE9UQTRNRGN4TlRJME1URmFGdzB5T1RBNE1EUXhOVEkwTVRGYU1DMHhGakFVQmdOVkJBb01EVmRPClFpQlRiMngxZEdsdmJuTXhFekFSQmdOVkJBTU1Da2x1Wm5KaFYwNUNRMEV3Z2dFaU1BMEdDU3FHU0liM0RRRUIKQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURXN1Y3dVhlSnQxdTE5Y3QvWHFvbTVQSFBKQmJYRlNKemttWmI5T0d3eQpPODhCL0VCa0xkT3JZRzZ5Vmg4MWJSTTJCQWhZZTRrV1E3R3h2MCs4SVZabHZPcjE1aXpCTHlBajZISjcyUzY1Cm11Uk5IQzlzL3pHdDVVKzNMc3I3aGM3cGMxbFNYYzIrQ1V1RmdTK3BPd1ZmNGJ0eEN2dWtPVUdnT1hlbnlLM3kKd1BOSlBXRENOK1pmZS9hR0t1M1F6K2hadXF2Sk1FMTBGWk42RUdsK1BGdXFMZmJ1Yjh1T0ljUVVWK0JheS96bwpMTTFNNWgvVG1jczBRY1JrazNkRmFEMms1WXRCUnp4R0dSSVpmQmJBdnhyV0ZwZGNSQUdYRXNUSDdGODVHOSt1CjArZTRPLzZCMWRseHBaMnh0Y3lsRWh5dkcvUkxKWWNNTXBZb1VYYUhTbFl2QWdNQkFBR2pnYTB3Z2Fvd0R3WUQKVlIwVEFRSC9CQVV3QXdFQi96QU9CZ05WSFE4QkFmOEVCQU1DQVFZd0hRWURWUjBPQkJZRUZONzl5NklBRXpTawpUdlAwNzA3YkpaOXBpbWxyTUdnR0ExVWRJd1JoTUYrQUZONzl5NklBRXpTa1R2UDA3MDdiSlo5cGltbHJvVEdrCkx6QXRNUll3RkFZRFZRUUtEQTFYVGtJZ1UyOXNkWFJwYjI1ek1STXdFUVlEVlFRRERBcEpibVp5WVZkT1FrTkIKZ2hRUGJqTzZnNUEwQzRnLzNLUGlxK0NzQ0F6SEF6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFleXJHc0xVego0bWhzVWgyNVRSK0VGTTQ3UXBrTzV2a0NvUjdFeTROQkRhUHdyZUN2bE1mVkg2cDdMbVZOUmpQdlpaM1h1Unk0CklmeGFxR1BXMWF5RlN5d1QvN3NRdVBsR0VSb1ZTRnBpUDUydGcxZ0hFaFlNcnc1YUxOai8xdnRSZlNYd2NiZzgKZmNnc0gySkZFN29lU3JKaVlDei9LY1FMQ2grR2NST0RzaDZicGxBUTlUL0RaNlJzYU91d3BOL0d1eU9kSlJNVQpoSnVpTkdlNUY2OHNDdThBRzlwWWdQZlBrczZoU1NPaldidDJSYmRSdkQ1TzI3RTl4WnBOM29NV2xudmVOVGNECnNMUStMZkRPRHk4cGFkdDJQM0dnV2ovUlRuNHlBSXZ0dlVKZzkrSHFwcUlZbXE1SEFOelc4NW9OR1RnNy9LT0gKcUJITEk3QW9NK1ltbEE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t server : https://rancher-dev.itdep.org/k8s/clusters/c-6nlvp name : cexiolabs-dev contexts : - context : cluster : cexiolabs-dev namespace : cryptopay-infra user : manurin name : cpinf - context : cluster : cexiolabs-dev namespace : cryptopay-evolution user : manurin name : cpevo - context : cluster : cexiolabs-dev namespace : cryptopay-presentation user : manurin name : cpprs - context : cluster : cexiolabs-dev namespace : cryptopay-preproduction user : manurin name : cppreprd current-context : cpprs kind : Config users : - name : manurin user : token : \"token-xxxxx:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 (\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 namespace \u0432\u043d\u0443\u0442\u0440\u0438 Kubernetes): $ kubectl config current-context cpevo \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u0441\u044f \u043d\u0435 \u0436\u0435\u043b\u0430\u0435\u043c\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 cpinf , cpevo , cpprs \u0438\u043b\u0438 cppreprd (\u0441\u043c. \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u0432 \u0432 \u0441\u0432\u043e\u0435\u043c \u043a\u043e\u043d\u0444\u0438\u0433\u0435 ~/.kube/config ): $ kubectl config use-context cpprs Switched to context \"cpprs\" . \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a Pod-\u043e\u0432 (\u0434\u043e\u043b\u0436\u043d\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0436\u0435\u043b\u0430\u0435\u043c\u044b\u0439, \u0434\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438, Pod) $ kubectl get pods -o wide NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES cryptopay-dashboard-6cc44c9d6c-2gwbr 1 /1 Running 0 32m 10 .42.20.95 vm26dev <none> <none> cryptopay-processing-77cfbd7444-l7lwp 2 /2 Running 0 32m 10 .42.13.134 vm21dev <none> <none> migration-dev.57e5a60e-install-4mfjd 0 /1 Completed 0 156m 10 .42.5.101 vm29dev <none> <none> migration-dev.57e5a60e-rollback-pkcxm 0 /1 Completed 0 160m 10 .42.22.90 vm28dev <none> <none> tiller-deploy-7bf4c66f97-qtdgf 1 /1 Running 0 17d 10 .42.2.246 vm23dev <none> <none> \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432 \u0434\u0435\u0431\u0430\u0433-\u0440\u0435\u0436\u0438\u043c\u0435 \u0428\u0430\u0433 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u041d\u0430\u0448\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u044b \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0434\u0435\u0431\u0430\u0433\u0430, \u0438 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a. \u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043b\u0438\u0448\u044c \u0437\u043d\u0430\u0442\u044c TCP \u043f\u043e\u0440\u0442 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c NodeJS \u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435. \u041f\u043e\u0440\u0442\u044b \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432 \u0434\u0435\u043f\u043b\u043e\u0439\u043c\u0435\u043d\u0442 Helm Chart \u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0432 Rancher. \u0414\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 NodeJS \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 \u0434\u0435\u0431\u0430\u0433-\u0440\u0435\u0436\u0438\u043c\u0435 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c NodeJS \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0443 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 --inspect=0.0.0.0:XXXX , \u0433\u0434\u0435 XXXX \u043d\u043e\u043c\u0435\u0440 \u043f\u043e\u0440\u0442\u0430 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c NodeJS \u043f\u043e\u0434\u044b\u043c\u0430\u0435\u0442 WebSocket \u0435\u043d\u0434\u043f\u043e\u0438\u043d\u0442. \u0414\u0430\u043b\u0435\u0435 \u0434\u0435\u0431\u0430\u0433\u0433\u0435\u0440-\u043a\u043b\u0438\u0435\u043d\u0442\u0443 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 VSCode) \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0441\u044f \u043a \u044d\u0442\u043e\u043c\u0443 \u043f\u043e\u0440\u0442\u0443. \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f VSCode \u0414\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u043c\u0443 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0443 \u043a \u0444\u0430\u0439\u043b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 .vscode/launch.json \u043d\u0443\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0435\u043a\u0446\u0438\u044e: { \"name\" : \"Attach (127.0.0.1:9229)\" , \"type\" : \"node\" , \"request\" : \"attach\" , \"port\" : 9229 , \"address\" : \"127.0.0.1\" , \"remoteRoot\" : \"/usr/local/cexiolabs/cryptopay.processing\" } , \"port\" - \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0440\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0431\u0440\u043e\u0448\u0435\u043d \u043a Pod \"remoteRoot\" - \u043f\u0443\u0442\u044c \u043a \u043a\u043e\u0440\u043d\u044e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u0435\u0431\u0430\u0433\u0433\u0435\u0440-\u043a\u043b\u0438\u0435\u043d\u0442 \u0441\u043c\u043e\u0433 \u0441\u043c\u0430\u0442\u0447\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0430\u043c\u0438 Debug \u041f\u0440\u043e\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0440\u0442 \u043a \u043d\u0443\u0436\u043d\u043e\u043c\u0443 Pod \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0432 cryptopay-processing-xxxxxxxxxx-xxxxx $ kubectl port-forward \" $( kubectl get pods | grep 'cryptopay-processing-' | awk '{print $1}' ) \" 9229 :XXXX XXXX - \u043d\u043e\u043c\u0435\u0440 \u0441\u043b\u0443\u0448\u0430\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u0440\u0442\u0430 Pod-\u044b, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c NodeJS \u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u0434\u0435\u0431\u0430\u0433\u0433\u0435\u0440-\u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 9229 - \u043d\u043e\u043c\u0435\u0440 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u0442\u0430, \u043a\u0443\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0442\u044c\u0441\u044f \u0434\u0435\u0431\u0430\u0433\u0433\u0435\u0440-\u043a\u043b\u0438\u0435\u043d\u0442 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 VSCode) C\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u0434\u0435\u0431\u0430\u0433\u0433\u0435\u0440\u043e\u043c \u0441 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c \u0438\u0437 VSCode, \u0447\u0435\u0440\u0435\u0437 Attach (127.0.0.1:9229) \u0414\u0435\u0431\u0430\u0436\u0438\u0442\u044c...","title":"Debugging inside Kubernetes"},{"location":"devel-kubernetes-debug/#debugging-inside-kubernetes","text":"\u0418\u043d\u043e\u0433\u0434\u0430 \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043e\u0442\u043b\u0430\u0434\u043a\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432\u043d\u0443\u0442\u0440\u0438 Kubetnetes. \u042d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e... \u0427\u0435\u043a-\u043b\u0438\u0441\u0442: \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e kubectl \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e \u0432\u043d\u0443\u0442\u0440\u0438 Kubetnetes \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0434\u0435\u0431\u0430\u0433\u0430 VSCode \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 Attach \u0412\u0435\u0440\u0441\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0430\u043c","title":"Debugging inside Kubernetes"},{"location":"devel-kubernetes-debug/#_1","text":"","title":"\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 (\u0435\u0434\u0438\u043d\u043e\u0440\u0430\u0437\u043e\u0432\u043e)"},{"location":"devel-kubernetes-debug/#kubectl","text":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f ~/.kube/config , \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0442\u0430\u043a (API Token, \u0434\u043b\u044f \u0441\u0432\u043e\u0435\u0433\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430, \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432 Rancher https://rancher-dev.itdep.org/apikeys): apiVersion : v1 clusters : - cluster : certificate-authority-data : LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURsakNDQW42Z0F3SUJBZ0lVRDI0enVvT1FOQXVJUDl5ajRxdmdyQWdNeHdNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0xURVdNQlFHQTFVRUNnd05WMDVDSUZOdmJIVjBhVzl1Y3pFVE1CRUdBMVVFQXd3S1NXNW1jbUZYVGtKRApRVEFlRncweE9UQTRNRGN4TlRJME1URmFGdzB5T1RBNE1EUXhOVEkwTVRGYU1DMHhGakFVQmdOVkJBb01EVmRPClFpQlRiMngxZEdsdmJuTXhFekFSQmdOVkJBTU1Da2x1Wm5KaFYwNUNRMEV3Z2dFaU1BMEdDU3FHU0liM0RRRUIKQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURXN1Y3dVhlSnQxdTE5Y3QvWHFvbTVQSFBKQmJYRlNKemttWmI5T0d3eQpPODhCL0VCa0xkT3JZRzZ5Vmg4MWJSTTJCQWhZZTRrV1E3R3h2MCs4SVZabHZPcjE1aXpCTHlBajZISjcyUzY1Cm11Uk5IQzlzL3pHdDVVKzNMc3I3aGM3cGMxbFNYYzIrQ1V1RmdTK3BPd1ZmNGJ0eEN2dWtPVUdnT1hlbnlLM3kKd1BOSlBXRENOK1pmZS9hR0t1M1F6K2hadXF2Sk1FMTBGWk42RUdsK1BGdXFMZmJ1Yjh1T0ljUVVWK0JheS96bwpMTTFNNWgvVG1jczBRY1JrazNkRmFEMms1WXRCUnp4R0dSSVpmQmJBdnhyV0ZwZGNSQUdYRXNUSDdGODVHOSt1CjArZTRPLzZCMWRseHBaMnh0Y3lsRWh5dkcvUkxKWWNNTXBZb1VYYUhTbFl2QWdNQkFBR2pnYTB3Z2Fvd0R3WUQKVlIwVEFRSC9CQVV3QXdFQi96QU9CZ05WSFE4QkFmOEVCQU1DQVFZd0hRWURWUjBPQkJZRUZONzl5NklBRXpTawpUdlAwNzA3YkpaOXBpbWxyTUdnR0ExVWRJd1JoTUYrQUZONzl5NklBRXpTa1R2UDA3MDdiSlo5cGltbHJvVEdrCkx6QXRNUll3RkFZRFZRUUtEQTFYVGtJZ1UyOXNkWFJwYjI1ek1STXdFUVlEVlFRRERBcEpibVp5WVZkT1FrTkIKZ2hRUGJqTzZnNUEwQzRnLzNLUGlxK0NzQ0F6SEF6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFleXJHc0xVego0bWhzVWgyNVRSK0VGTTQ3UXBrTzV2a0NvUjdFeTROQkRhUHdyZUN2bE1mVkg2cDdMbVZOUmpQdlpaM1h1Unk0CklmeGFxR1BXMWF5RlN5d1QvN3NRdVBsR0VSb1ZTRnBpUDUydGcxZ0hFaFlNcnc1YUxOai8xdnRSZlNYd2NiZzgKZmNnc0gySkZFN29lU3JKaVlDei9LY1FMQ2grR2NST0RzaDZicGxBUTlUL0RaNlJzYU91d3BOL0d1eU9kSlJNVQpoSnVpTkdlNUY2OHNDdThBRzlwWWdQZlBrczZoU1NPaldidDJSYmRSdkQ1TzI3RTl4WnBOM29NV2xudmVOVGNECnNMUStMZkRPRHk4cGFkdDJQM0dnV2ovUlRuNHlBSXZ0dlVKZzkrSHFwcUlZbXE1SEFOelc4NW9OR1RnNy9LT0gKcUJITEk3QW9NK1ltbEE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t server : https://rancher-dev.itdep.org/k8s/clusters/c-6nlvp name : cexiolabs-dev contexts : - context : cluster : cexiolabs-dev namespace : cryptopay-infra user : manurin name : cpinf - context : cluster : cexiolabs-dev namespace : cryptopay-evolution user : manurin name : cpevo - context : cluster : cexiolabs-dev namespace : cryptopay-presentation user : manurin name : cpprs - context : cluster : cexiolabs-dev namespace : cryptopay-preproduction user : manurin name : cppreprd current-context : cpprs kind : Config users : - name : manurin user : token : \"token-xxxxx:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 (\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 namespace \u0432\u043d\u0443\u0442\u0440\u0438 Kubernetes): $ kubectl config current-context cpevo \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u0441\u044f \u043d\u0435 \u0436\u0435\u043b\u0430\u0435\u043c\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 cpinf , cpevo , cpprs \u0438\u043b\u0438 cppreprd (\u0441\u043c. \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u0432 \u0432 \u0441\u0432\u043e\u0435\u043c \u043a\u043e\u043d\u0444\u0438\u0433\u0435 ~/.kube/config ): $ kubectl config use-context cpprs Switched to context \"cpprs\" . \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a Pod-\u043e\u0432 (\u0434\u043e\u043b\u0436\u043d\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0436\u0435\u043b\u0430\u0435\u043c\u044b\u0439, \u0434\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438, Pod) $ kubectl get pods -o wide NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES cryptopay-dashboard-6cc44c9d6c-2gwbr 1 /1 Running 0 32m 10 .42.20.95 vm26dev <none> <none> cryptopay-processing-77cfbd7444-l7lwp 2 /2 Running 0 32m 10 .42.13.134 vm21dev <none> <none> migration-dev.57e5a60e-install-4mfjd 0 /1 Completed 0 156m 10 .42.5.101 vm29dev <none> <none> migration-dev.57e5a60e-rollback-pkcxm 0 /1 Completed 0 160m 10 .42.22.90 vm28dev <none> <none> tiller-deploy-7bf4c66f97-qtdgf 1 /1 Running 0 17d 10 .42.2.246 vm23dev <none> <none>","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f kubectl"},{"location":"devel-kubernetes-debug/#-","text":"\u0428\u0430\u0433 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u041d\u0430\u0448\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u044b \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0434\u0435\u0431\u0430\u0433\u0430, \u0438 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a. \u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043b\u0438\u0448\u044c \u0437\u043d\u0430\u0442\u044c TCP \u043f\u043e\u0440\u0442 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c NodeJS \u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435. \u041f\u043e\u0440\u0442\u044b \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432 \u0434\u0435\u043f\u043b\u043e\u0439\u043c\u0435\u043d\u0442 Helm Chart \u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0432 Rancher. \u0414\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 NodeJS \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 \u0434\u0435\u0431\u0430\u0433-\u0440\u0435\u0436\u0438\u043c\u0435 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c NodeJS \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0443 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 --inspect=0.0.0.0:XXXX , \u0433\u0434\u0435 XXXX \u043d\u043e\u043c\u0435\u0440 \u043f\u043e\u0440\u0442\u0430 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c NodeJS \u043f\u043e\u0434\u044b\u043c\u0430\u0435\u0442 WebSocket \u0435\u043d\u0434\u043f\u043e\u0438\u043d\u0442. \u0414\u0430\u043b\u0435\u0435 \u0434\u0435\u0431\u0430\u0433\u0433\u0435\u0440-\u043a\u043b\u0438\u0435\u043d\u0442\u0443 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 VSCode) \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0441\u044f \u043a \u044d\u0442\u043e\u043c\u0443 \u043f\u043e\u0440\u0442\u0443.","title":"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432 \u0434\u0435\u0431\u0430\u0433-\u0440\u0435\u0436\u0438\u043c\u0435"},{"location":"devel-kubernetes-debug/#vscode","text":"\u0414\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u043c\u0443 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0443 \u043a \u0444\u0430\u0439\u043b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 .vscode/launch.json \u043d\u0443\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0435\u043a\u0446\u0438\u044e: { \"name\" : \"Attach (127.0.0.1:9229)\" , \"type\" : \"node\" , \"request\" : \"attach\" , \"port\" : 9229 , \"address\" : \"127.0.0.1\" , \"remoteRoot\" : \"/usr/local/cexiolabs/cryptopay.processing\" } , \"port\" - \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0440\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0431\u0440\u043e\u0448\u0435\u043d \u043a Pod \"remoteRoot\" - \u043f\u0443\u0442\u044c \u043a \u043a\u043e\u0440\u043d\u044e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u0435\u0431\u0430\u0433\u0433\u0435\u0440-\u043a\u043b\u0438\u0435\u043d\u0442 \u0441\u043c\u043e\u0433 \u0441\u043c\u0430\u0442\u0447\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0430\u043c\u0438","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f VSCode"},{"location":"devel-kubernetes-debug/#debug","text":"\u041f\u0440\u043e\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0440\u0442 \u043a \u043d\u0443\u0436\u043d\u043e\u043c\u0443 Pod \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0432 cryptopay-processing-xxxxxxxxxx-xxxxx $ kubectl port-forward \" $( kubectl get pods | grep 'cryptopay-processing-' | awk '{print $1}' ) \" 9229 :XXXX XXXX - \u043d\u043e\u043c\u0435\u0440 \u0441\u043b\u0443\u0448\u0430\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u0440\u0442\u0430 Pod-\u044b, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c NodeJS \u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u0434\u0435\u0431\u0430\u0433\u0433\u0435\u0440-\u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 9229 - \u043d\u043e\u043c\u0435\u0440 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u0442\u0430, \u043a\u0443\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0442\u044c\u0441\u044f \u0434\u0435\u0431\u0430\u0433\u0433\u0435\u0440-\u043a\u043b\u0438\u0435\u043d\u0442 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 VSCode) C\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u0434\u0435\u0431\u0430\u0433\u0433\u0435\u0440\u043e\u043c \u0441 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c \u0438\u0437 VSCode, \u0447\u0435\u0440\u0435\u0437 Attach (127.0.0.1:9229) \u0414\u0435\u0431\u0430\u0436\u0438\u0442\u044c...","title":"Debug"},{"location":"devel-merchant/","text":"Merchant Family Merchant Family - \u044d\u0442\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430\u043c\u0438. \u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438 \u0443 \u043b\u044e\u0431\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0435\u0441\u0442\u044c \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c, \u043a\u0440\u043e\u043c\u0435 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 ROOT \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043b\u0443\u0436\u0438\u0442 \u0432\u0435\u0440\u0448\u0438\u043d\u043e\u0439 \u0434\u0435\u0440\u0435\u0432\u0430. Merchant Family \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 Pairs , Values , ExchangeCompoments , CrytoWalletComponents , etc. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0435\u0441\u0442\u044c \u043c\u0435\u0440\u0447\u0430\u043d\u0442 Ecommpay . \u0412\u0441\u0435 \u0434\u0435\u0442\u0438 \u044d\u0442\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e Pairs , Values , ExchangeCompoments , CrytoWalletComponents , \u0435\u0441\u043b\u0438 \u043d\u0435 \u0438\u043c\u0435\u044e\u0442 \u043b\u0438\u0447\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a. \u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0441\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0443. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 SELECT \"tree_merchant_id\" FROM \"cp2_merchant\" . \"vw_merchant_family\" WHERE \"merchant_id\" = 7 AND \"depth\" > 0 ORDER BY \"depth\" DESC \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u0442\u0435\u0439 SELECT \"merchant_id\" FROM \"cp2_merchant\" . \"vw_merchant_family\" WHERE \"tree_merchant_id\" = 2 AND \"depth\" > 0 ORDER BY \"depth\" DESC \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f SELECT \"tree_merchant_id\" FROM \"cp2_merchant\" . \"vw_merchant_family\" WHERE \"merchant_id\" = 7 AND \"depth\" = 1 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u0447\u043d\u044b\u0445 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u043e\u0432 \u0434\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u043e\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f SELECT unnest ( \"path\" ) FROM \"cp2_merchant\" . \"vw_merchant_family\" WHERE \"merchant_id\" = 7 AND \"tree_merchant_id\" = 2 \u041e\u0431\u044a\u0435\u043a\u0442\u044b \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 merchant \u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 vw_merchant_family Warning \u0412\u043d\u043e\u0441\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0440\u0430\u0431\u043e\u0442\u0443 \u044d\u0442\u043e\u0433\u043e \u0432\u0438\u0434\u0430 \u0441 \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e! \u0417\u0430\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0442 \u0432\u0441\u0435 :) \u0412\u0438\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0435\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u043f\u043e \u0432\u0441\u0435\u043c \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430\u043c, \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043a\u043e\u043b\u043e\u043d\u043e\u043a: merchant_id - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 tree_merchant_id - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0432\u0432\u0435\u0440\u0445 \u043f\u043e \u0434\u0435\u0440\u0435\u0432\u0443 (\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0435\u0431\u044f, \u044d\u0442\u043e \u0432\u0430\u0436\u043d\u043e\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e!) depth - \u0433\u043b\u0443\u0431\u0438\u043d\u0430 \u0441\u0432\u044f\u0437\u0438 (\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0448\u0430\u0433\u043e\u0432 \u0432 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0446\u0435\u043f\u043e\u0447\u043a\u0435) path - \u043c\u0430\u0441\u0441\u0438\u0432, \u043f\u0443\u0442\u044c \u043a \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044e (\u043a\u0430\u043a\u0438\u0435 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u044b \u0441\u0442\u043e\u044f\u0442 \u043d\u0430 \u043f\u0443\u0442\u0438) \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u044d\u0442\u043e\u043c\u0443 \u0432\u0438\u0434\u0443, \u043c\u043e\u0436\u043d\u043e \u0432 \u043e\u0434\u0438\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u0443\u0437\u043d\u0430\u0442\u044c \u0432\u0441\u0435\u0445 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0438\u043b\u0438 \u0432\u0441\u0435\u0445 \u0434\u0435\u0442\u0435\u0439 \u043f\u043e \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0435\u043c\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443. \u0422\u0430\u043a\u0436\u0435 \u044d\u0442\u043e\u0442 \u0432\u0438\u0434 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0441\u043d\u043e\u0432\u043e\u0439 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c\u0430 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f Pairs \u0438 Values . Pairs Merchant Pairs - \u044d\u0442\u043e \u043d\u0430\u0431\u043e\u0440 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0445 \u043f\u0430\u0440 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430. \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e \u0432 \u0432\u0438\u0434\u0435 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f FOREIGN KEY \u0432 \u043e\u0440\u0434\u0435\u0440\u0430\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u0430 \u0438 \u0432 \u0442\u0440\u0435\u0439\u0434\u0430\u0445 \u043e\u0431\u043c\u0435\u043d\u043d\u0438\u043a\u0430. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u044e\u0442\u0441\u044f \u043e\u0442 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430-\u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u043a \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430\u043c-\u0434\u0435\u0442\u044f\u043c \u0441 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f, \u0447\u0442\u043e \u0434\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u043f\u043b\u043e\u0434\u0438\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430. \u041f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0445 \u043f\u0430\u0440: \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f waterfall \u043e\u0442 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0434\u043e \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u0432 \u043f\u043e\u0438\u0441\u043a\u0435 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0445 \u043f\u0430\u0440. \u0414\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438 \u0435\u0441\u043b\u0438 \u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043d\u0435\u0442 \u0442\u043e\u0440\u0433\u043e\u0432\u043e\u0439 \u043f\u0430\u0440\u044b, \u0431\u0435\u0440\u0435\u043c \u0442\u043e\u0440\u0433\u043e\u0432\u0443\u044e \u043f\u0430\u0440\u0443 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f (\u0440\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u0434\u043e \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430) \u041f\u0440\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u043e\u0439 \u043f\u0430\u0440\u044b: \u041f\u0430\u0440\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f/\u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443, \u0442\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f. \u041d\u0430 \u0432\u0445\u043e\u0434 \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430, \u043f\u0430\u0440\u0430 \u0432\u0430\u043b\u044e\u0442 \u0438 use \u0444\u043b\u0430\u0433: use is TRUE : \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u044b (\u0435\u0441\u043b\u0438 \u043f\u0430\u0440\u044b \u0435\u0449\u0435 \u043d\u0435\u0442). \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u044b (\u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435). \u0420\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0442 \u043f\u0430\u0440\u0443 \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0438 \u0432\u0441\u0435\u0445 \u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043c\u043a\u043e\u0432. use is FALSE : \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u044b (\u0435\u0441\u043b\u0438 \u043f\u0430\u0440\u044b \u0435\u0449\u0435 \u043d\u0435\u0442). \u0412 \u044b \u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u044b (\u0437\u0430\u043f\u0440\u0435\u0442 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435). \u0417\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442 \u043f\u0430\u0440\u0443 \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430, HO \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0442 \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u044d\u0442\u0443 \u043f\u0430\u0440\u0443 \u0434\u0435\u0442\u044f\u043c. \u042d\u0442\u043e \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u0431\u044a\u044f\u0432\u0438\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u043f\u0430\u0440\u044b \u0443 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f, \u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0434\u0435\u0442\u0438 \u0431\u0443\u0434\u0443\u0442 \u0438\u0445 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0438\u0445 \u0441\u0435\u0431\u0435 \u043b\u0438\u0447\u043d\u043e. use is NULL : \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u044b (\u0435\u0441\u043b\u0438 \u043f\u0430\u0440\u044b \u0435\u0449\u0435 \u043d\u0435\u0442). \u041d\u043e \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435(\u043f\u0440\u043e\u043f\u0443\u0441\u043a) \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u043a \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f (\u0437\u0430\u043f\u0438\u0441\u044c \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430, \u0442. \u043a. \u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0435 \u0435\u0441\u0442\u044c \u0441\u0432\u044f\u0437\u0438 \u043d\u0430 \u043e\u0440\u0434\u0435\u0440\u0430) \u041e\u0431\u044a\u0435\u043a\u0442\u044b \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 pair \u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043a\u043b\u044e\u0447\u0435\u0439, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f: merchant_id - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 market_currency - \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0432\u0430\u043b\u044e\u0442. \u0412\u0430\u043b\u044e\u0442\u0430 \u0440\u044b\u043d\u043a\u0430 (\u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u0430 \u0432 symbol XXX/ XXX ). trade_currency - \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0432\u0430\u043b\u044e\u0442. \u0412\u0430\u043b\u044e\u0442\u0430 \u0442\u043e\u0432\u0430\u0440\u0430 (\u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u043b\u0435\u0432\u0430 \u0432 symbol XXX /XXX ). deny - Boolean, Nullable. \u041f\u043e\u043b\u0435 \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f/\u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f/\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. Readonly \u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0435\u0440\u0435\u0437 sp_pair_set UPDATE Restrict \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0422\u041e\u041b\u042c\u041a\u041e \u043f\u043e\u043b\u044f deny pair_hist \u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u043f\u043e\u043b\u044f deny \u0442\u0430\u0431\u043b\u0438\u0446\u044b pair (\u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u0440\u0438\u0433\u0435\u0440\u043e\u043c \u043f\u0440\u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b pair ), \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f: pair_id - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0442\u043e\u0440\u0433\u043e\u0432\u0443\u044e \u043f\u0430\u0440\u0443 old_deny - \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 new_deny - \u043d\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 utc_created_at - \u0434\u0430\u0442\u0430 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 vw_pair \u0412\u0438\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043f\u0430\u0440\u044b \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443. \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u043f\u043e \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044e \u0441 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435\u043c. sp_pair_set \u041f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430(\u0444\u0443\u043d\u043a\u0446\u0438\u044f) \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u043e\u0439 \u043f\u0430\u0440\u044b. \u041d\u0430 \u0432\u0445\u043e\u0434 \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430, \u043f\u0430\u0440\u0430 \u0432\u0430\u043b\u044e\u0442 \u0438 use \u0444\u043b\u0430\u0433. Values Merchant Values - \u044d\u0442\u043e \u043d\u0430\u0431\u043e\u0440 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u0447\u0438\u0441\u0435\u043b \u0445\u0440\u0430\u043d\u044f\u0449\u0438\u0445\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u043a\u043b\u044e\u0447-\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0430 \u043a\u043b\u044e\u0447\u0435\u0439. \u042d\u0442\u0438 \u0447\u0438\u0441\u043b\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u0435\u043c\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043b\u0438\u043c\u0438\u0442\u043e\u0432, \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439, etc. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u044e\u0442\u0441\u044f \u043e\u0442 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430-\u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u043a \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430\u043c-\u0434\u0435\u0442\u044f\u043c \u0441 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f, \u0447\u0442\u043e \u0434\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u043f\u043b\u043e\u0434\u0438\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430. \u041f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0430: \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f waterfall \u043e\u0442 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0434\u043e \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u0432 \u043f\u043e\u0438\u0441\u043a\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. \u0414\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438 \u0435\u0441\u043b\u0438 \u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043d\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430, \u0431\u0435\u0440\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f (\u0440\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u0434\u043e \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430) \u041f\u0440\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0430: \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443, \u0442\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 NULL \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u0447\u0442\u043e, \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043c\u0435\u0440\u0447\u0430\u043d\u0442 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u0435\u0442 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u0441\u0432\u043e\u0438\u0445 \u0434\u0435\u0442\u0435\u0439 (\u043e\u0431\u044f\u0437\u044b\u0432\u0430\u0435\u0442 \u0434\u0435\u0442\u0435\u0439 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f). \u041f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0430: \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 \u0443 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u0447\u0442\u043e, \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043c\u0435\u0440\u0447\u0430\u043d\u0442 \u0441\u043d\u043e\u0432\u0430 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 \u043e\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f. \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0412 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0435 \u043a\u043b\u044e\u0447\u0435\u0439 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043e\u0437\u0434\u0430\u044e\u0442 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043d\u0430 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0432 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0435 \u043a\u043b\u044e\u0447\u0435\u0439 \u043f\u0440\u0430\u0432\u0438\u043b\u043e MIN_DEPOSIT_AMOUNT.BTC = ge , \u043c\u0435\u0440\u0447\u0430\u043d\u0442-\u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0438\u043c\u0435\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 MIN_DEPOSIT_AMOUNT.BTC = 0.001 , \u044d\u0442\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0442 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443-\u0440\u0435\u0431\u0435\u043d\u043a\u0443 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0422\u041e\u041b\u042c\u041a\u041e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432\u044b\u0448\u0435/\u0440\u0430\u0432\u043d\u043e 0.001 . \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0442\u0441\u044f \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0410pplication \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0432 \u043a\u043e\u0434\u0435 \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 \u0441\u0432\u043e\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043d\u0430 \u0431\u0430\u0437\u0435 \u0438\u043c\u0435\u043d \u043a\u043b\u044e\u0447\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u043e\u0442 \u0440\u0435\u043b\u0438\u0437\u0430 \u043a \u0440\u0435\u043b\u0438\u0437\u0443. \u041d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0435\u043c \u043e\u0431\u0440\u0430\u0442\u043d\u0443\u044e \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u041f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u043a\u043b\u044e\u0447\u0435\u0439 \u0437\u0430\u0431\u043e\u0442\u044c\u0442\u0435\u0441\u044c \u043e\u0431 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438. \u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0435\u0440\u0441\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432 \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e. \u041d\u043e\u0432\u044b\u0439 \u0440\u0435\u043b\u0438\u0437 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0440\u0443\u0448\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432. \u041e\u0431\u044a\u0435\u043a\u0442\u044b \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 value_dict \u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u043a\u043b\u044e\u0447\u0435\u0439, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f: name - \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f \u043a\u043b\u044e\u0447\u0430 override_rule - \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f (\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0437\u044f\u0442\u043e \u0438\u0437 Bash ) gt - is greater than ge - is greater than or equal to le - is less than or equal to lt - is less than value \u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043a\u043b\u044e\u0447\u0435\u0439, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f: merchant_id - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 name - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u043a\u043b\u044e\u0447\u0435\u0439 value - \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 (nullable) Readonly \u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0435\u0440\u0435\u0437 sp_value_set value_hist \u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043a\u043b\u044e\u0447\u0435\u0439 (\u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u0440\u0438\u0433\u0435\u0440\u043e\u043c \u043f\u0440\u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b value ), \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f: merchant_id - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 name - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u043a\u043b\u044e\u0447\u0435\u0439 old_value - \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 new_value - \u043d\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 utc_created_at - \u0434\u0430\u0442\u0430 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f vm_value \u0412\u0438\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443. \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u043f\u043e \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044e \u0441 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435\u043c. sp_value_set \u041f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430(\u0444\u0443\u043d\u043a\u0446\u0438\u044f) \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. sp_value_remove \u041f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430(\u0444\u0443\u043d\u043a\u0446\u0438\u044f) \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f.","title":"Merchant"},{"location":"devel-merchant/#merchant","text":"","title":"Merchant"},{"location":"devel-merchant/#family","text":"Merchant Family - \u044d\u0442\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430\u043c\u0438. \u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438 \u0443 \u043b\u044e\u0431\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0435\u0441\u0442\u044c \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c, \u043a\u0440\u043e\u043c\u0435 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 ROOT \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043b\u0443\u0436\u0438\u0442 \u0432\u0435\u0440\u0448\u0438\u043d\u043e\u0439 \u0434\u0435\u0440\u0435\u0432\u0430. Merchant Family \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 Pairs , Values , ExchangeCompoments , CrytoWalletComponents , etc. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0435\u0441\u0442\u044c \u043c\u0435\u0440\u0447\u0430\u043d\u0442 Ecommpay . \u0412\u0441\u0435 \u0434\u0435\u0442\u0438 \u044d\u0442\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e Pairs , Values , ExchangeCompoments , CrytoWalletComponents , \u0435\u0441\u043b\u0438 \u043d\u0435 \u0438\u043c\u0435\u044e\u0442 \u043b\u0438\u0447\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a. \u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0441\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u0443.","title":"Family"},{"location":"devel-merchant/#_1","text":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 SELECT \"tree_merchant_id\" FROM \"cp2_merchant\" . \"vw_merchant_family\" WHERE \"merchant_id\" = 7 AND \"depth\" > 0 ORDER BY \"depth\" DESC \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u0442\u0435\u0439 SELECT \"merchant_id\" FROM \"cp2_merchant\" . \"vw_merchant_family\" WHERE \"tree_merchant_id\" = 2 AND \"depth\" > 0 ORDER BY \"depth\" DESC \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f SELECT \"tree_merchant_id\" FROM \"cp2_merchant\" . \"vw_merchant_family\" WHERE \"merchant_id\" = 7 AND \"depth\" = 1 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u0447\u043d\u044b\u0445 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u043e\u0432 \u0434\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u043e\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f SELECT unnest ( \"path\" ) FROM \"cp2_merchant\" . \"vw_merchant_family\" WHERE \"merchant_id\" = 7 AND \"tree_merchant_id\" = 2","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435"},{"location":"devel-merchant/#_2","text":"","title":"\u041e\u0431\u044a\u0435\u043a\u0442\u044b \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445"},{"location":"devel-merchant/#merchant_1","text":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430","title":"merchant"},{"location":"devel-merchant/#vw_merchant_family","text":"Warning \u0412\u043d\u043e\u0441\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0440\u0430\u0431\u043e\u0442\u0443 \u044d\u0442\u043e\u0433\u043e \u0432\u0438\u0434\u0430 \u0441 \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e! \u0417\u0430\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0442 \u0432\u0441\u0435 :) \u0412\u0438\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0435\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u043f\u043e \u0432\u0441\u0435\u043c \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430\u043c, \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043a\u043e\u043b\u043e\u043d\u043e\u043a: merchant_id - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 tree_merchant_id - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0432\u0432\u0435\u0440\u0445 \u043f\u043e \u0434\u0435\u0440\u0435\u0432\u0443 (\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0435\u0431\u044f, \u044d\u0442\u043e \u0432\u0430\u0436\u043d\u043e\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e!) depth - \u0433\u043b\u0443\u0431\u0438\u043d\u0430 \u0441\u0432\u044f\u0437\u0438 (\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0448\u0430\u0433\u043e\u0432 \u0432 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u0446\u0435\u043f\u043e\u0447\u043a\u0435) path - \u043c\u0430\u0441\u0441\u0438\u0432, \u043f\u0443\u0442\u044c \u043a \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044e (\u043a\u0430\u043a\u0438\u0435 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u044b \u0441\u0442\u043e\u044f\u0442 \u043d\u0430 \u043f\u0443\u0442\u0438) \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u044d\u0442\u043e\u043c\u0443 \u0432\u0438\u0434\u0443, \u043c\u043e\u0436\u043d\u043e \u0432 \u043e\u0434\u0438\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u0443\u0437\u043d\u0430\u0442\u044c \u0432\u0441\u0435\u0445 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0438\u043b\u0438 \u0432\u0441\u0435\u0445 \u0434\u0435\u0442\u0435\u0439 \u043f\u043e \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0435\u043c\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443. \u0422\u0430\u043a\u0436\u0435 \u044d\u0442\u043e\u0442 \u0432\u0438\u0434 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0441\u043d\u043e\u0432\u043e\u0439 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c\u0430 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f Pairs \u0438 Values .","title":"vw_merchant_family"},{"location":"devel-merchant/#pairs","text":"Merchant Pairs - \u044d\u0442\u043e \u043d\u0430\u0431\u043e\u0440 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0445 \u043f\u0430\u0440 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430. \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e \u0432 \u0432\u0438\u0434\u0435 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0434\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f FOREIGN KEY \u0432 \u043e\u0440\u0434\u0435\u0440\u0430\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u0430 \u0438 \u0432 \u0442\u0440\u0435\u0439\u0434\u0430\u0445 \u043e\u0431\u043c\u0435\u043d\u043d\u0438\u043a\u0430. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u044e\u0442\u0441\u044f \u043e\u0442 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430-\u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u043a \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430\u043c-\u0434\u0435\u0442\u044f\u043c \u0441 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f, \u0447\u0442\u043e \u0434\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u043f\u043b\u043e\u0434\u0438\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430. \u041f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0445 \u043f\u0430\u0440: \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f waterfall \u043e\u0442 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0434\u043e \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u0432 \u043f\u043e\u0438\u0441\u043a\u0435 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0445 \u043f\u0430\u0440. \u0414\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438 \u0435\u0441\u043b\u0438 \u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043d\u0435\u0442 \u0442\u043e\u0440\u0433\u043e\u0432\u043e\u0439 \u043f\u0430\u0440\u044b, \u0431\u0435\u0440\u0435\u043c \u0442\u043e\u0440\u0433\u043e\u0432\u0443\u044e \u043f\u0430\u0440\u0443 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f (\u0440\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u0434\u043e \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430) \u041f\u0440\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u043e\u0439 \u043f\u0430\u0440\u044b: \u041f\u0430\u0440\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f/\u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443, \u0442\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f. \u041d\u0430 \u0432\u0445\u043e\u0434 \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430, \u043f\u0430\u0440\u0430 \u0432\u0430\u043b\u044e\u0442 \u0438 use \u0444\u043b\u0430\u0433: use is TRUE : \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u044b (\u0435\u0441\u043b\u0438 \u043f\u0430\u0440\u044b \u0435\u0449\u0435 \u043d\u0435\u0442). \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u044b (\u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435). \u0420\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0442 \u043f\u0430\u0440\u0443 \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0438 \u0432\u0441\u0435\u0445 \u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043c\u043a\u043e\u0432. use is FALSE : \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u044b (\u0435\u0441\u043b\u0438 \u043f\u0430\u0440\u044b \u0435\u0449\u0435 \u043d\u0435\u0442). \u0412 \u044b \u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u044b (\u0437\u0430\u043f\u0440\u0435\u0442 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435). \u0417\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442 \u043f\u0430\u0440\u0443 \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430, HO \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0442 \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u044d\u0442\u0443 \u043f\u0430\u0440\u0443 \u0434\u0435\u0442\u044f\u043c. \u042d\u0442\u043e \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u0431\u044a\u044f\u0432\u0438\u0442\u044c \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u043f\u0430\u0440\u044b \u0443 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f, \u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0434\u0435\u0442\u0438 \u0431\u0443\u0434\u0443\u0442 \u0438\u0445 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0438\u0445 \u0441\u0435\u0431\u0435 \u043b\u0438\u0447\u043d\u043e. use is NULL : \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u044b (\u0435\u0441\u043b\u0438 \u043f\u0430\u0440\u044b \u0435\u0449\u0435 \u043d\u0435\u0442). \u041d\u043e \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435(\u043f\u0440\u043e\u043f\u0443\u0441\u043a) \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u043a \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f (\u0437\u0430\u043f\u0438\u0441\u044c \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430, \u0442. \u043a. \u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0435 \u0435\u0441\u0442\u044c \u0441\u0432\u044f\u0437\u0438 \u043d\u0430 \u043e\u0440\u0434\u0435\u0440\u0430)","title":"Pairs"},{"location":"devel-merchant/#_3","text":"","title":"\u041e\u0431\u044a\u0435\u043a\u0442\u044b \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445"},{"location":"devel-merchant/#pair","text":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043a\u043b\u044e\u0447\u0435\u0439, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f: merchant_id - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 market_currency - \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0432\u0430\u043b\u044e\u0442. \u0412\u0430\u043b\u044e\u0442\u0430 \u0440\u044b\u043d\u043a\u0430 (\u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u0430 \u0432 symbol XXX/ XXX ). trade_currency - \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0432\u0430\u043b\u044e\u0442. \u0412\u0430\u043b\u044e\u0442\u0430 \u0442\u043e\u0432\u0430\u0440\u0430 (\u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u043b\u0435\u0432\u0430 \u0432 symbol XXX /XXX ). deny - Boolean, Nullable. \u041f\u043e\u043b\u0435 \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f/\u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f/\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. Readonly \u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0435\u0440\u0435\u0437 sp_pair_set UPDATE Restrict \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0422\u041e\u041b\u042c\u041a\u041e \u043f\u043e\u043b\u044f deny","title":"pair"},{"location":"devel-merchant/#pair_hist","text":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u043f\u043e\u043b\u044f deny \u0442\u0430\u0431\u043b\u0438\u0446\u044b pair (\u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u0440\u0438\u0433\u0435\u0440\u043e\u043c \u043f\u0440\u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b pair ), \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f: pair_id - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0442\u043e\u0440\u0433\u043e\u0432\u0443\u044e \u043f\u0430\u0440\u0443 old_deny - \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 new_deny - \u043d\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 utc_created_at - \u0434\u0430\u0442\u0430 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438","title":"pair_hist"},{"location":"devel-merchant/#vw_pair","text":"\u0412\u0438\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043f\u0430\u0440\u044b \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443. \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u043f\u043e \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044e \u0441 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435\u043c.","title":"vw_pair"},{"location":"devel-merchant/#sp_pair_set","text":"\u041f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430(\u0444\u0443\u043d\u043a\u0446\u0438\u044f) \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0442\u043e\u0440\u0433\u043e\u0432\u043e\u0439 \u043f\u0430\u0440\u044b. \u041d\u0430 \u0432\u0445\u043e\u0434 \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430, \u043f\u0430\u0440\u0430 \u0432\u0430\u043b\u044e\u0442 \u0438 use \u0444\u043b\u0430\u0433.","title":"sp_pair_set"},{"location":"devel-merchant/#values","text":"Merchant Values - \u044d\u0442\u043e \u043d\u0430\u0431\u043e\u0440 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u0447\u0438\u0441\u0435\u043b \u0445\u0440\u0430\u043d\u044f\u0449\u0438\u0445\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u043a\u043b\u044e\u0447-\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0430 \u043a\u043b\u044e\u0447\u0435\u0439. \u042d\u0442\u0438 \u0447\u0438\u0441\u043b\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u0435\u043c\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043b\u0438\u043c\u0438\u0442\u043e\u0432, \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439, etc. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u044e\u0442\u0441\u044f \u043e\u0442 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430-\u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u043a \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430\u043c-\u0434\u0435\u0442\u044f\u043c \u0441 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f, \u0447\u0442\u043e \u0434\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u043f\u043b\u043e\u0434\u0438\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430. \u041f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0430: \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f waterfall \u043e\u0442 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0434\u043e \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u0432 \u043f\u043e\u0438\u0441\u043a\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. \u0414\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438 \u0435\u0441\u043b\u0438 \u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043d\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430, \u0431\u0435\u0440\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f (\u0440\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u0434\u043e \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430) \u041f\u0440\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0430: \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443, \u0442\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 NULL \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u0447\u0442\u043e, \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043c\u0435\u0440\u0447\u0430\u043d\u0442 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u0435\u0442 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u0441\u0432\u043e\u0438\u0445 \u0434\u0435\u0442\u0435\u0439 (\u043e\u0431\u044f\u0437\u044b\u0432\u0430\u0435\u0442 \u0434\u0435\u0442\u0435\u0439 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f). \u041f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0430: \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 \u0443 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u0447\u0442\u043e, \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043c\u0435\u0440\u0447\u0430\u043d\u0442 \u0441\u043d\u043e\u0432\u0430 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 \u043e\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f. \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0412 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0435 \u043a\u043b\u044e\u0447\u0435\u0439 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043e\u0437\u0434\u0430\u044e\u0442 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043d\u0430 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0432 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0435 \u043a\u043b\u044e\u0447\u0435\u0439 \u043f\u0440\u0430\u0432\u0438\u043b\u043e MIN_DEPOSIT_AMOUNT.BTC = ge , \u043c\u0435\u0440\u0447\u0430\u043d\u0442-\u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0438\u043c\u0435\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 MIN_DEPOSIT_AMOUNT.BTC = 0.001 , \u044d\u0442\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0442 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443-\u0440\u0435\u0431\u0435\u043d\u043a\u0443 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0422\u041e\u041b\u042c\u041a\u041e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432\u044b\u0448\u0435/\u0440\u0430\u0432\u043d\u043e 0.001 . \u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0442\u0441\u044f \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445.","title":"Values"},{"location":"devel-merchant/#_4","text":"\u0410pplication \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0432 \u043a\u043e\u0434\u0435 \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 \u0441\u0432\u043e\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043d\u0430 \u0431\u0430\u0437\u0435 \u0438\u043c\u0435\u043d \u043a\u043b\u044e\u0447\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u043e\u0442 \u0440\u0435\u043b\u0438\u0437\u0430 \u043a \u0440\u0435\u043b\u0438\u0437\u0443. \u041d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0435\u043c \u043e\u0431\u0440\u0430\u0442\u043d\u0443\u044e \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u041f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u043a\u043b\u044e\u0447\u0435\u0439 \u0437\u0430\u0431\u043e\u0442\u044c\u0442\u0435\u0441\u044c \u043e\u0431 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438. \u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0435\u0440\u0441\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432 \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e. \u041d\u043e\u0432\u044b\u0439 \u0440\u0435\u043b\u0438\u0437 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0440\u0443\u0448\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432.","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435"},{"location":"devel-merchant/#_5","text":"","title":"\u041e\u0431\u044a\u0435\u043a\u0442\u044b \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445"},{"location":"devel-merchant/#value_dict","text":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u043a\u043b\u044e\u0447\u0435\u0439, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f: name - \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f \u043a\u043b\u044e\u0447\u0430 override_rule - \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f (\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0437\u044f\u0442\u043e \u0438\u0437 Bash ) gt - is greater than ge - is greater than or equal to le - is less than or equal to lt - is less than","title":"value_dict"},{"location":"devel-merchant/#value","text":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043a\u043b\u044e\u0447\u0435\u0439, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f: merchant_id - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 name - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u043a\u043b\u044e\u0447\u0435\u0439 value - \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 (nullable) Readonly \u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0435\u0440\u0435\u0437 sp_value_set","title":"value"},{"location":"devel-merchant/#value_hist","text":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043a\u043b\u044e\u0447\u0435\u0439 (\u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u0440\u0438\u0433\u0435\u0440\u043e\u043c \u043f\u0440\u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b value ), \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f: merchant_id - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 name - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u043a\u043b\u044e\u0447\u0435\u0439 old_value - \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 new_value - \u043d\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0430 utc_created_at - \u0434\u0430\u0442\u0430 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f","title":"value_hist"},{"location":"devel-merchant/#vm_value","text":"\u0412\u0438\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0443. \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u043f\u043e \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044e \u0441 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435\u043c.","title":"vm_value"},{"location":"devel-merchant/#sp_value_set","text":"\u041f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430(\u0444\u0443\u043d\u043a\u0446\u0438\u044f) \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f.","title":"sp_value_set"},{"location":"devel-merchant/#sp_value_remove","text":"\u041f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430(\u0444\u0443\u043d\u043a\u0446\u0438\u044f) \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f.","title":"sp_value_remove"},{"location":"devel-payment-widget/","text":"Payment Widget TODO - \u042d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u043c\u0438\u043d\u0438\u043c\u0443\u043c, \u0447\u0442\u043e\u0431\u044b \u043d\u043e\u0432\u044b\u0439 \u0434\u0435\u0432\u0435\u043b\u043e\u043f\u0435\u0440 \u043c\u043e\u0433 \u0432\u0437\u044f\u0442\u044c \u0438 \u043d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u043e\u0439 \u0432\u0438\u0434\u0436\u0435\u0442\u0430 \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0438\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u041a\u0430\u043a \u043e\u043d \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438 \u041f\u043e\u0447\u0435\u043c\u0443 \u0438\u043c\u0435\u043d\u043d\u043e \u0442\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u041a\u0430\u043a\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u044e\u0437\u0430\u0435\u0442 etc Payment Gateway TBD Database objects TBD Widget UI TBD","title":"Payment Widget"},{"location":"devel-payment-widget/#payment-widget","text":"TODO - \u042d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u043c\u0438\u043d\u0438\u043c\u0443\u043c, \u0447\u0442\u043e\u0431\u044b \u043d\u043e\u0432\u044b\u0439 \u0434\u0435\u0432\u0435\u043b\u043e\u043f\u0435\u0440 \u043c\u043e\u0433 \u0432\u0437\u044f\u0442\u044c \u0438 \u043d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u043e\u0439 \u0432\u0438\u0434\u0436\u0435\u0442\u0430 \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0438\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u041a\u0430\u043a \u043e\u043d \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438 \u041f\u043e\u0447\u0435\u043c\u0443 \u0438\u043c\u0435\u043d\u043d\u043e \u0442\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u041a\u0430\u043a\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u044e\u0437\u0430\u0435\u0442 etc","title":"Payment Widget"},{"location":"devel-payment-widget/#payment-gateway","text":"TBD","title":"Payment Gateway"},{"location":"devel-payment-widget/#database-objects","text":"TBD","title":"Database objects"},{"location":"devel-payment-widget/#widget-ui","text":"TBD","title":"Widget UI"},{"location":"devel-workflow/","text":"Workflow Engine \u0425\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 Postgress \u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0431\u0438\u0440\u0430\u044e\u0442\u0441\u044f \u043d\u0430 UPDATE-less \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0435, \u0442\u043e\u043b\u044c\u043a\u043e INSERT. workflow - \u0422\u0430\u0431\u043b\u0438\u0446\u0430. \u0425\u0440\u0430\u043d\u0438\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 Workflow App workflow_tick - \u0422\u0430\u0431\u043b\u0438\u0446\u0430. \u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0442\u0438\u043a\u043e\u0432 Workflow App . \u042d\u0442\u0430 \u0436\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0432\u044b\u0440\u0430\u0436\u0430\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 Workflow App : state_snapshot IS NULL - \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0439 Workflow App crash_report IS NOT NULL - \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u043a\u0440\u0435\u0448 Workflow App Redis \u0414\u0430\u043d\u043d\u044b\u0435 \u0432 Redis \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0442 \u043a\u0435\u0448 \u0434\u043b\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u0430, \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0438\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 \u0445\u0440\u0430\u043d\u044f\u0449\u0438\u0445\u0441\u044f \u0432 SQL (\u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u043a\u0435\u0448\u0430). \u0414\u043b\u044f \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u0432 \u043a\u0435\u0448\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f LUA \u0441\u043a\u0440\u0438\u043f\u0442\u044b . ZADD workflow:processing <WF_APP_UUID> - \u0445\u0440\u0430\u043d\u0438\u0442 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438c\u043e\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 Workflow App (\u043a\u043e\u043f\u0438\u044f \u0438\u0437 Postgress FROM workflow_tick WHERE crash_report IS NULL AND state_snapshot IS NOT NULL ). Scope \u0437\u0430\u043f\u0438\u0441\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 (\u0444\u0443\u043d\u043a\u0446\u0438\u044f lockNextWorkflowApplication-4.lua ), \u0447\u0442\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0437\u0430\u043b\u043e\u0447\u0435\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0445\u0432\u043e\u0441\u0442 \u0441\u043f\u0438\u0441\u043a\u0430 (\u043f\u0435\u0440\u0435\u043c\u0435\u0448\u0438\u0432\u0430\u043d\u0438\u0435). SET workflow:tick:<WF_APP_UUID> { ..., \"workflowVirtualMachineSnapshot\": { ...json... }, nextTickTags: [\"tag1\",\"tag2\", ...], ... } - \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0442\u0438\u043a\u0430 (\u043a\u043e\u043f\u0438\u044f \u0441\u0430\u043c\u043e\u0439 \u0441\u0432\u0435\u0436\u0435\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 Postgress workflow_tick ) SET workflow:lock:<WF_APP_UUID> <WORKFLOW_WORKER_ID> - \u0445\u0440\u0430\u043d\u0438\u0442 \u0441\u0442\u0440\u043e\u043a\u0443 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0449\u0443\u044e \u043d\u0430 \u0438\u043c\u044f-\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043b\u0430\u0434\u0435\u0435\u0442(\u0437\u0430\u043b\u043e\u0447\u0438\u043b) Workflow App \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 SET workflow:breakpoint:wait:<WF_APP_UUID> <BREAKPOINT_NAME> - \u0445\u0440\u0430\u043d\u0438\u0442 \u0438\u043c\u044f \u0431\u0440\u0435\u043a\u043f\u043e\u0438\u043d\u0442\u0430 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0441\u0435\u0439\u0447\u0430\u0441 \u0441\u043f\u0438\u0442 Workflow App SADD workflow:breakpoint:approved:<WF_APP_UUID> <BREAKPOINT_NAME> - \u0445\u0440\u0430\u043d\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u043f\u0440\u0443\u0432\u043d\u0443\u0442\u044b\u0445 \u043a \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044e \u0431\u0440\u0435\u043a\u043f\u043e\u0438\u043d\u0442\u043e\u0432 Workflow Application WorkflowApplication \u044d\u0442\u043e \u0438\u043d\u0441\u0442\u0430\u043d\u0441 \u043e\u0434\u043d\u043e\u0438\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u043c\u0435\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c Workflow App \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0446\u0438\u043a\u043b \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0441\u043a\u043b\u044e\u0437\u0438\u0432\u043d\u0443\u044e \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443 \u043d\u0430\u0434 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c <WF_APP_UUID> \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f Workflow App . \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e LUA \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430 \u0434\u0435\u043b\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435: \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 Workflow App \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432 workflow:actives \u041f\u0435\u0440\u0435\u0431\u0438\u0440\u0430\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a (\u0441 \u0433\u043e\u043b\u043e\u0432\u044b): \u0415\u0441\u043b\u0438 <WF_APP_UUID> \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 workflow:lock:<WF_APP_UUID> , \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0443 \u0441\u043f\u0438\u0441\u043a\u0430 (continue;) \u0415\u0441\u043b\u0438 <WF_APP_UUID> \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u0431\u0440\u0435\u043a\u043f\u043e\u0438\u043d\u0442\u0435 workflow:breakpoint:wait:<WF_APP_UUID> , \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0443 \u0441\u043f\u0438\u0441\u043a\u0430 (continue;) \u0411\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c, \u0432 workflow:lock:<WF_APP_UUID> \u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c <WF_APP_UUID> \u0432 \u043a\u043e\u043d\u0435\u0446(\u0445\u0432\u043e\u0441\u0442) \u0441\u043f\u0438\u0441\u043a\u0430 workflow:actives \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 <WF_APP_UUID> \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e null \u0415\u0441\u043b\u0438 \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443, \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0441\u043f\u0438\u043c \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u043c \u0448\u0430\u0433\u0438 \u0437\u0430\u043d\u043e\u0432\u043e. \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 Workflow App \u0438\u0437 SQL \u0431\u0430\u0437\u044b \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c (\u0442\u0438\u043a\u0430\u0442\u044c) Workflow App \u0434\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f, \u0441\u043f\u044f\u0449\u0435\u0433\u043e \u0431\u0440\u0435\u043a\u043f\u043e\u0438\u043d\u0442\u0430 \u0438\u043b\u0438 \u043a\u0440\u0435\u0448\u0430. NOTE: \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0438\u043a \u043f\u0435\u0440\u0441\u0438\u0441\u0442\u0438\u0442\u0441\u044f \u0432 \u0431\u0430\u0437\u0443 \u041d\u0435\u043c\u043d\u043e\u0433\u043e \u0441\u043f\u0438\u043c \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u043c \u0448\u0430\u0433\u0438 \u0437\u0430\u043d\u043e\u0432\u043e.","title":"Workflow Engine"},{"location":"devel-workflow/#workflow-engine","text":"","title":"Workflow Engine"},{"location":"devel-workflow/#_1","text":"","title":"\u0425\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"},{"location":"devel-workflow/#postgress","text":"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0431\u0438\u0440\u0430\u044e\u0442\u0441\u044f \u043d\u0430 UPDATE-less \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0435, \u0442\u043e\u043b\u044c\u043a\u043e INSERT. workflow - \u0422\u0430\u0431\u043b\u0438\u0446\u0430. \u0425\u0440\u0430\u043d\u0438\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 Workflow App workflow_tick - \u0422\u0430\u0431\u043b\u0438\u0446\u0430. \u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0442\u0438\u043a\u043e\u0432 Workflow App . \u042d\u0442\u0430 \u0436\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0432\u044b\u0440\u0430\u0436\u0430\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 Workflow App : state_snapshot IS NULL - \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0439 Workflow App crash_report IS NOT NULL - \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u043a\u0440\u0435\u0448 Workflow App","title":"Postgress"},{"location":"devel-workflow/#redis","text":"\u0414\u0430\u043d\u043d\u044b\u0435 \u0432 Redis \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0442 \u043a\u0435\u0448 \u0434\u043b\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u0430, \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0438\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 \u0445\u0440\u0430\u043d\u044f\u0449\u0438\u0445\u0441\u044f \u0432 SQL (\u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u043a\u0435\u0448\u0430). \u0414\u043b\u044f \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u0432 \u043a\u0435\u0448\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f LUA \u0441\u043a\u0440\u0438\u043f\u0442\u044b . ZADD workflow:processing <WF_APP_UUID> - \u0445\u0440\u0430\u043d\u0438\u0442 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438c\u043e\u043a \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 Workflow App (\u043a\u043e\u043f\u0438\u044f \u0438\u0437 Postgress FROM workflow_tick WHERE crash_report IS NULL AND state_snapshot IS NOT NULL ). Scope \u0437\u0430\u043f\u0438\u0441\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 (\u0444\u0443\u043d\u043a\u0446\u0438\u044f lockNextWorkflowApplication-4.lua ), \u0447\u0442\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0437\u0430\u043b\u043e\u0447\u0435\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0445\u0432\u043e\u0441\u0442 \u0441\u043f\u0438\u0441\u043a\u0430 (\u043f\u0435\u0440\u0435\u043c\u0435\u0448\u0438\u0432\u0430\u043d\u0438\u0435). SET workflow:tick:<WF_APP_UUID> { ..., \"workflowVirtualMachineSnapshot\": { ...json... }, nextTickTags: [\"tag1\",\"tag2\", ...], ... } - \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0442\u0438\u043a\u0430 (\u043a\u043e\u043f\u0438\u044f \u0441\u0430\u043c\u043e\u0439 \u0441\u0432\u0435\u0436\u0435\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 Postgress workflow_tick ) SET workflow:lock:<WF_APP_UUID> <WORKFLOW_WORKER_ID> - \u0445\u0440\u0430\u043d\u0438\u0442 \u0441\u0442\u0440\u043e\u043a\u0443 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0449\u0443\u044e \u043d\u0430 \u0438\u043c\u044f-\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043b\u0430\u0434\u0435\u0435\u0442(\u0437\u0430\u043b\u043e\u0447\u0438\u043b) Workflow App \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 SET workflow:breakpoint:wait:<WF_APP_UUID> <BREAKPOINT_NAME> - \u0445\u0440\u0430\u043d\u0438\u0442 \u0438\u043c\u044f \u0431\u0440\u0435\u043a\u043f\u043e\u0438\u043d\u0442\u0430 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0441\u0435\u0439\u0447\u0430\u0441 \u0441\u043f\u0438\u0442 Workflow App SADD workflow:breakpoint:approved:<WF_APP_UUID> <BREAKPOINT_NAME> - \u0445\u0440\u0430\u043d\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u043f\u0440\u0443\u0432\u043d\u0443\u0442\u044b\u0445 \u043a \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044e \u0431\u0440\u0435\u043a\u043f\u043e\u0438\u043d\u0442\u043e\u0432","title":"Redis"},{"location":"devel-workflow/#workflow-application","text":"WorkflowApplication \u044d\u0442\u043e \u0438\u043d\u0441\u0442\u0430\u043d\u0441 \u043e\u0434\u043d\u043e\u0438\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u043c\u0435\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c Workflow App","title":"Workflow Application"},{"location":"devel-workflow/#_2","text":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0441\u043a\u043b\u044e\u0437\u0438\u0432\u043d\u0443\u044e \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443 \u043d\u0430\u0434 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c <WF_APP_UUID> \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f Workflow App . \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e LUA \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430 \u0434\u0435\u043b\u0430\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435: \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 Workflow App \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432 workflow:actives \u041f\u0435\u0440\u0435\u0431\u0438\u0440\u0430\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a (\u0441 \u0433\u043e\u043b\u043e\u0432\u044b): \u0415\u0441\u043b\u0438 <WF_APP_UUID> \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 workflow:lock:<WF_APP_UUID> , \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0443 \u0441\u043f\u0438\u0441\u043a\u0430 (continue;) \u0415\u0441\u043b\u0438 <WF_APP_UUID> \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u0431\u0440\u0435\u043a\u043f\u043e\u0438\u043d\u0442\u0435 workflow:breakpoint:wait:<WF_APP_UUID> , \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0443 \u0441\u043f\u0438\u0441\u043a\u0430 (continue;) \u0411\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c, \u0432 workflow:lock:<WF_APP_UUID> \u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c <WF_APP_UUID> \u0432 \u043a\u043e\u043d\u0435\u0446(\u0445\u0432\u043e\u0441\u0442) \u0441\u043f\u0438\u0441\u043a\u0430 workflow:actives \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 <WF_APP_UUID> \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e null \u0415\u0441\u043b\u0438 \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443, \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0441\u043f\u0438\u043c \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u043c \u0448\u0430\u0433\u0438 \u0437\u0430\u043d\u043e\u0432\u043e. \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 Workflow App \u0438\u0437 SQL \u0431\u0430\u0437\u044b \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c (\u0442\u0438\u043a\u0430\u0442\u044c) Workflow App \u0434\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f, \u0441\u043f\u044f\u0449\u0435\u0433\u043e \u0431\u0440\u0435\u043a\u043f\u043e\u0438\u043d\u0442\u0430 \u0438\u043b\u0438 \u043a\u0440\u0435\u0448\u0430. NOTE: \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0438\u043a \u043f\u0435\u0440\u0441\u0438\u0441\u0442\u0438\u0442\u0441\u044f \u0432 \u0431\u0430\u0437\u0443 \u041d\u0435\u043c\u043d\u043e\u0433\u043e \u0441\u043f\u0438\u043c \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u043c \u0448\u0430\u0433\u0438 \u0437\u0430\u043d\u043e\u0432\u043e.","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0446\u0438\u043a\u043b"},{"location":"release-notes/","text":"Release Notes TBD","title":"Release Notes"},{"location":"release-notes/#release-notes","text":"TBD","title":"Release Notes"},{"location":"support-notes/","text":"Support Notes The page contains a number of recommendations that give us ability to solve support requests as timeless as possible. Please, collect following evidences before submit a support request to the development team. CRYPTO_SELL Evidences Ask an user for a Deposit Crypto Address where funds were sent. Example BTC: 3ELfDMmDEeVG85ZKmfgLf9yw4rZSgbrie5 Note Each order (invoice) has unique Deposit Crypto Address . The user uses this address as destination of crypto transfer. Ask an user for a Transaction Hash . Example BTC: 543f9323c5c7323793749a0ea3154e3550ac0301773875d026bd6b16abd0e857 Check the Deposit Crypto Address for available transactions and ensure that crypto funds were sent by the user in appropriate time frame. Note To obtain information, use blockchain explorer (each crypto currency has own blockchain explorer). For example: BTC, BCH, LTC Obtain Order(invoice) identifier . For example: CPSa3f5588cc0c742138b1a78df53032469 or CPO-b3987b14439543c0b7c3f627cb8d0e87 Form Deposit Crypto Address Transaction Hash Order(invoice) identifier Description of user's request Evidences CRYPTO_BUY TBD","title":"Support Notes"},{"location":"support-notes/#support-notes","text":"The page contains a number of recommendations that give us ability to solve support requests as timeless as possible. Please, collect following evidences before submit a support request to the development team.","title":"Support Notes"},{"location":"support-notes/#crypto_sell","text":"","title":"CRYPTO_SELL"},{"location":"support-notes/#evidences","text":"Ask an user for a Deposit Crypto Address where funds were sent. Example BTC: 3ELfDMmDEeVG85ZKmfgLf9yw4rZSgbrie5 Note Each order (invoice) has unique Deposit Crypto Address . The user uses this address as destination of crypto transfer. Ask an user for a Transaction Hash . Example BTC: 543f9323c5c7323793749a0ea3154e3550ac0301773875d026bd6b16abd0e857 Check the Deposit Crypto Address for available transactions and ensure that crypto funds were sent by the user in appropriate time frame. Note To obtain information, use blockchain explorer (each crypto currency has own blockchain explorer). For example: BTC, BCH, LTC Obtain Order(invoice) identifier . For example: CPSa3f5588cc0c742138b1a78df53032469 or CPO-b3987b14439543c0b7c3f627cb8d0e87","title":"Evidences"},{"location":"support-notes/#form","text":"Deposit Crypto Address Transaction Hash Order(invoice) identifier Description of user's request","title":"Form"},{"location":"support-notes/#evidences-crypto_buy","text":"TBD","title":"Evidences CRYPTO_BUY"},{"location":"sysadmin-keygen/","text":"TBD https://gitlab.wnb:28443/cryptopay/docker/keygen","title":"Sysadmin keygen"},{"location":"sysadmin-setup/","text":"Setup \u042d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 \u0441 \u0442\u043e\u0447\u043a\u0438 \u0437\u0440\u0435\u043d\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0433\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430. Processing Service Processing Service - (aka CPService) \"\u0441\u0435\u0440\u0434\u0446\u0435\" \u043f\u0440\u043e\u0435\u043a\u0442\u0430, \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442 B2B API \u0438 \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u043e\u043c \u043e\u0440\u0434\u0435\u0440\u043e\u0432 \u043f\u043e \u043e\u0431\u043c\u0435\u043d\u0443 \u0432\u0430\u043b\u044e\u0442. \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u043c\u0443 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u0440\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f: System Administrator Tool - (UNDER DEVELOPMENT) \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438. \u0423\u0442\u0438\u043b\u0438\u0442\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430\u044f \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 processing . Configuration Approach - \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043a\u043b\u044e\u0447\u0438 setup.xxxxxx \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 (\u043d\u0430\u043f\u0440. \u0432 Kubernetes ConfigMaps/Secrets \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430) Low Level - \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0447\u0435\u0440\u0435\u0437 curl \u043d\u0430 localhost/unix socket. \u0414\u0430\u043d\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043c\u043e\u0436\u0435\u0442 \u043e\u043f\u0435\u0440\u0435\u0436\u0430\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 System Administrator Tool \u0438 Configuration Approach \u0412 \u043e\u0441\u043d\u043e\u0432\u0435 \u0437\u0430\u043b\u043e\u0436\u0435\u043d\u0430 \u0438\u0434\u0435\u044f, \u0447\u0442\u043e \u043b\u044e\u0431\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e, \u0432\u043d\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u0430. \u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0438\u0448\u044c \u0442\u043e, \u0447\u0442\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 \u043a\u043b\u044e\u0447\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0441\u0442\u0430\u0440\u0442\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 (\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u0435\u0441\u0442\u0430\u0440\u0442). System Administrator Tool \u042d\u0442\u043e \u0443\u0442\u0438\u043b\u0438\u0442\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 Processing Service . \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0441 Processing Service . cpadmin --help Low Level \u042d\u0442\u043e \u0443\u0442\u0438\u043b\u0438\u0442\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 Processing Service . \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0441 Processing Service . curl --request GET/POST/PUT/DELETE ... http://localhost:8081/v2/sysadmin/XXXXXXXXXXXXXXXX Configuration Approach \u042d\u0442\u043e\u0442 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0435\u0439 setup.xxxxxx \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0441\u0435\u0440\u0432\u0438\u0441\u0430. \u0412 Kubernetes \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b: processing-envvars-setup - ConfigMap processing-setup - Secrets \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043a\u043b\u044e\u0447\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0441\u044e\u0434\u0430 \u043d\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043e\u0441\u043d\u043e\u0432\u0435. \u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u0430, \u044d\u0442\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043a\u043b\u044e\u0447\u0438 \u043c\u043e\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c (\u0438\u043b\u0438 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u043f\u0430\u043c\u044f\u0442\u044c, \u0441 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u043c \u0440\u0438\u0441\u043a\u043e\u043c, \u0447\u0442\u043e \u043e\u043d\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u0441\u044f \u043a\u043e\u0433\u0434\u0430-\u0442\u043e \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c) Configuration Keys Merging \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0430 \u043d\u0430 \u043d\u0430\u0431\u043e\u0440\u0435 \u043a\u043b\u044e\u0447-\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. \u041f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435, \u0441\u0435\u0440\u0432\u0438\u0441 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442 \u043c\u0435\u0440\u0436\u0438\u043d\u0433 \u0432\u0441\u0435\u0445 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f, Secrets -\u044b, ConfigMap -\u044b, \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0438 \u0438\u0437 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430. \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043c\u0435\u0440\u0436\u0438\u043d\u0433\u0430 \u0437\u0430\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u0430. \u041f\u043e-\u0441\u0443\u0442\u0438 \u0432\u0441\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f, \u0431\u0435\u0437 \u0435\u0434\u0438\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430. \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0421\u043f\u0438\u0441\u043e\u043a \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u043e\u0432 Configuration Approach # this will write list of merchants to logger at startup. setup.merchantListOnStart = true Low Level $ curl --request GET http://localhost:8081/v2/sysadmin/merchant \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 Configuration Approach setup.merchantCreate.DEVTEAM.parent = INTERMEDIATE setup.merchantCreate.DEVTEAM.description = Merchant Dev Team (sandbox) setup.merchantCreate.DEVTEAM.enabled = true setup.merchantCreate.DEVTEAM__EMU.parent = DEVTEAM setup.merchantCreate.DEVTEAM__EMU.description = Sub Merchant Dev Team (sandbox) setup.merchantCreate.DEVTEAM__EMU.enabled = true setup.merchantCreates = DEVTEAM DEVTEAM__EMU Low Level $ curl --request POST --data '{\"name\":\"DEVTEAM\",\"description\":\"Merchant Dev Team\",\"parent\":\"INTERMEDIATE\",\"enabled\":true}' http://localhost:8081/v2/sysadmin/merchant \u0433\u0434\u0435, DEVTEAM - \u0418\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0435\u043c\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 INTERMEDIATE - \u0418\u043c\u044f \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 Merchant Dev Team - \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 (\u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u0435) true - \u041c\u0435\u0440\u0447\u0430\u043d\u0442 \u0432\u043a\u043b\u044e\u0447\u0435\u043d (\u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430). \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c false . \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 API \u043a\u043b\u044e\u0447\u0435\u0439 Configuration Approach setup.accessKeyCreate.53f75b533edfe38d176f02c270dac6c0.merchantName = DEVTEAM setup.accessKeyCreate.53f75b533edfe38d176f02c270dac6c0.passphrase = meow-meow setup.accessKeyCreate.53f75b533edfe38d176f02c270dac6c0.secret = xxxxxxxxxxxxxxxxxxx setup.accessKeyCreate.602994ff31e5c23f17bdfe894e14b730.merchantName = DEVTEAM__EMU setup.accessKeyCreate.602994ff31e5c23f17bdfe894e14b730.passphrase = bow-wow setup.accessKeyCreate.602994ff31e5c23f17bdfe894e14b730.secret = yyyyyyyyyyyyyyyyyyy setup.accessKeyCreates = 53f75b533edfe38d176f02c270dac6c0 602994ff31e5c23f17bdfe894e14b730 Low Level $ curl --request POST --data '{\"name\":\"DEVTEAM\",\"key\":\"602994ff31e5c23f17bdfe894e14b730\",\"passphrase\":\"bow-wow\",\"secret\":\"xxxxxxxxxxxxxxxxxxx\"}' http://localhost:8081/v2/sysadmin/access-key $ curl --request POST --data '{\"name\":\"DEVTEAM\",\"key\":\"53f75b533edfe38d176f02c270dac6c0\",\"passphrase\":\"meow-meow\",\"secret\":\"yyyyyyyyyyyyyyyyyyy\"}' http://localhost:8081/v2/sysadmin/access-key \u0433\u0434\u0435, DEVTEAM - \u0418\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0435\u043c\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 602994ff31e5c23f17bdfe894e14b730 , 602994ff31e5c23f17bdfe894e14b730 - API Key bow-wow , meow-meow - API Passphrase xxxxxxxxxxxxxxxxxxx , yyyyyyyyyyyyyyyyyyy - API Secret \u0421\u043c\u043e\u0442\u0440\u0438\u0442\u0435 Generating an API Key \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Merchant Pair Configuration Approach setup.merchantPairSet.pair1.merchant = INTERMEDIATE setup.merchantPairSet.pair1.marketCurrency = USD setup.merchantPairSet.pair1.tradeCurrency = BTC setup.merchantPairSet.pair1.use = false setup.merchantPairSet.pair2.merchant = INTERMEDIATE setup.merchantPairSet.pair2.marketCurrency = EUR setup.merchantPairSet.pair2.tradeCurrency = BTC setup.merchantPairSet.pair2.use = null setup.merchantPairSet.pair3.merchant = INTERMEDIATE setup.merchantPairSet.pair3.marketCurrency = USD setup.merchantPairSet.pair3.tradeCurrency = ETH setup.merchantPairSet.pair3.use = true setup.merchantValueSets = pair1 pair2 pair3 Low Level $ curl --request POST --data '{\"market_currency\":\"USD\",\"trade_currency\":\"BTC\",\"use\":false}' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/pair $ curl --request POST --data '{\"market_currency\":\"EUR\",\"trade_currency\":\"BTC\",\"use\":null}' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/pair $ curl --request POST --data '{\"market_currency\":\"USD\",\"trade_currency\":\"ETH\",\"use\":true}' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/pair \u0433\u0434\u0435, INTERMEDIATE - \u0418\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0431\u0443\u0434\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0442\u043e\u0440\u0433\u043e\u0432\u0430\u044f \u043f\u0430\u0440\u0430 USD , EUR - \u0412\u0430\u043b\u044e\u0442\u0430 \u0440\u044b\u043d\u043a\u0430 ETH , BTC - \u0412\u0430\u043b\u044e\u0442\u0430 \u0442\u043e\u0432\u0430\u0440\u0430 true , null , false - \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0444\u043b\u0430\u0433\u0430 use \u0421\u043f\u0438\u0441\u043e\u043a Merchant Values Configuration Approach # this will write list of Merchant Values to logger at startup for INTERMEDIATE and DEVTEAM merchants. setup.merchantValueListOnStartForMerchants = INTERMEDIATE DEVTEAM Low Level $ curl --request GET http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/value $ curl --request GET http://localhost:8081/v2/sysadmin/merchant/DEVTEAM/value \u0433\u0434\u0435, INTERMEDIATE , DEVTEAM - \u0418\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043d\u0443\u0436\u0435\u043d \u0441\u043f\u0438\u0441\u043e\u043a Merchant Values \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Merchant Value Configuration Approach setup.merchantValueSet.val001.merchant = INTERMEDIATE setup.merchantValueSet.val001.marketCurrency = USD setup.merchantValueSet.val001.tradeCurrency = BTC setup.merchantValueSet.val001.key = CRYPTO_SELL.DEFAULT.LIMIT.MIN_FIAT_AMOUNT setup.merchantValueSet.val001.value = 0.0001 setup.merchantValueSet.val002.merchant = INTERMEDIATE setup.merchantValueSet.val002.marketCurrency = USD setup.merchantValueSet.val002.tradeCurrency = BTC setup.merchantValueSet.val002.key = CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT setup.merchantValueSet.val002.value = 9.99999999 setup.merchantValueSet.val003.merchant = INTERMEDIATE setup.merchantValueSet.val003.marketCurrency = USD setup.merchantValueSet.val003.tradeCurrency = ATOM setup.merchantValueSet.val003.key = CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT setup.merchantValueSet.val003.value = null setup.merchantValueSets = val001 val002 val003 Low Level $ curl --request PUT --data '\"0.0001\"' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/BTC/USD/CRYPTO_SELL.DEFAULT.LIMIT.MIN_FIAT_AMOUNT $ curl --request PUT --data '\"9.99999999\"' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/value/BTC/USD/CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT $ curl --request PUT --data 'null' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/ATOM/USD/CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT \u0433\u0434\u0435, INTERMEDIATE - \u0418\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0431\u0443\u0434\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT , CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT - \u0418\u043c\u0435\u043d\u0430 Merchant Value 0.0001 , 9.99999999 , null - \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 Merchant Value Configuration Approach setup.merchantValueRemove.val001.merchant = INTERMEDIATE setup.merchantValueRemove.val001.marketCurrency = USD setup.merchantValueRemove.val001.tradeCurrency = BTC setup.merchantValueRemove.val001.key = CRYPTO_SELL.DEFAULT.LIMIT.MIN_FIAT_AMOUNT setup.merchantValueRemove.val002.merchant = INTERMEDIATE setup.merchantValueRemove.val001.marketCurrency = USD setup.merchantValueRemove.val001.tradeCurrency = BTC setup.merchantValueRemove.val002.key = CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT setup.merchantValueRemoves = val001 val002 Low Level $ curl --request DELETE http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/value/BTC/USD/CRYPTO_SELL.DEFAULT.LIMIT.MIN_FIAT_AMOUNT $ curl --request DELETE http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/value/BTC/USD/CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT \u0433\u0434\u0435, INTERMEDIATE - \u0418\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 CRYPTO_SELL.DEFAULT.LIMIT.MIN_FIAT_AMOUNT , CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT - \u0418\u043c\u0435\u043d\u0430 Merchant Value \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0440\u0438\u043f\u0442\u043e-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430 Configuration Approach setup.createCryptoWallet.presentation1.kind = CEX_CRYPTO_WALLET setup.createCryptoWallet.presentation1.enabled = true setup.createCryptoWallet.presentation1.allowedForMerchants = DEVTEAM SWAGGER setup.createCryptoWallet.presentation1.deniedForMerchants = DEVTEAM__EMU setup.createCryptoWallet.presentation1.backend.ADA.kind = pss-provider-wtf2 setup.createCryptoWallet.presentation1.backend.ADA.walletId = 9924f06c-f5e3-477b-9ad6-4e9327419167 setup.createCryptoWallet.presentation1.backend.ADA.tag = Presentation ADA via pss-provider-wtf2 setup.createCryptoWallet.presentation1.backend.TRX.kind = pss-provider-wtf2 setup.createCryptoWallet.presentation1.backend.TRX.walletId = f69cacc4-8a56-462f-928e-7f04e4445480 setup.createCryptoWallet.presentation1.backend.TRX.tag = Presentation TRX via pss-provider-wtf2 setup.createCryptoWallet.presentation1.backends = ADA TRX setup.createCryptoWallet.evolution1.kind = CEX_CRYPTO_WALLET setup.createCryptoWallet.evolution1.enabled = true setup.createCryptoWallet.evolution1.allowedForMerchants = DEVTEAM SWAGGER setup.createCryptoWallet.evolution1.deniedForMerchants = DEVTEAM__EMU setup.createCryptoWallet.evolution1.backend.ADA.kind = pss-provider-wtf2 setup.createCryptoWallet.evolution1.backend.ADA.walletId = 0b5eef1e-c83f-409b-8c79-51ca6e49a983 setup.createCryptoWallet.evolution1.backend.ADA.tag = Evolution ADA via pss-provider-wtf2 setup.createCryptoWallet.evolution1.backend.TRX.kind = pss-provider-wtf2 setup.createCryptoWallet.evolution1.backend.TRX.walletId = fea392a5-008c-4016-a47c-03da3547f96b setup.createCryptoWallet.evolution1.backend.TRX.tag = Evolution TRX via pss-provider-wtf2 setup.createCryptoWallet.evolution1.backends = ADA TRX setup.createCryptoWallets = presentation1 evolution1 Low Level $ curl --request POST --data '{\"kind\":\"CEX_CRYPTO_WALLET\",\"name\":\"presentation1\",\"enabled\":true,\"configuration\":{........}}' http://localhost:8081/v2/sysadmin/crypto-wallet $ curl --request POST --data '{\"kind\":\"CEX_CRYPTO_WALLET\",\"name\":\"evolution1\",\"enabled\":true,\"configuration\":{........}}' http://localhost:8081/v2/sysadmin/crypto-wallet \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 HOT-\u0430\u0434\u0440\u0435\u0441\u0430 \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 Configuration Approach setup.setHotAddress.addr1.cryptoWallet = presentation1 setup.setHotAddress.addr1.name = cryptopay-swagger-ada-hot setup.setHotAddress.addr1.currency = ADA setup.setHotAddress.addr1.address = 2cWKMJemoBajB4bxUnQnGveCN3BWpoFeVKt7UgBAY2kypfSHuRTHmxb87mdZqhxnY1etS setup.setHotAddress.addr1.merchant = SWAGGER setup.setHotAddress.addr2.cryptoWallet = presentation1 setup.setHotAddress.addr2.name = cryptopay-swagger-trx-hot setup.setHotAddress.addr2.currency = TRX setup.setHotAddress.addr2.address = TVmK1i9qhPgVzTx5NzDNGfr61fymQcofvm setup.setHotAddress.addr2.merchant = SWAGGER setup.setHotAddresses = addr1 addr2 Low Level $ curl --request PUT --data '{\"cryptoWallet\":\"presentation1\",\"name\":\"cryptopay-swagger-ada-hot\",\"address\":\"2cWKMJemoBajB4bxUnQnGveCN3BWpoFeVKt7UgBAY2kypfSHuRTHmxb87mdZqhxnY1etS\"}' http://localhost:8081/v2/sysadmin/merchant/SWAGGER/hot-crypto-address/ADA $ curl --request PUT --data '{\"cryptoWallet\":\"presentation1\",\"name\":\"cryptopay-swagger-trx-hot\",\"address\":\"TVmK1i9qhPgVzTx5NzDNGfr61fymQcofvm\"}' http://localhost:8081/v2/sysadmin/merchant/SWAGGER/hot-crypto-address/TRX \u0433\u0434\u0435, presentation1 - \u0418\u043c\u044f \u043a\u0440\u0438\u043f\u0442\u043e \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430 (\u0437\u0430\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u0435\u0442 \u0434\u0430\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 cryptopay-swagger-ada-hot , cryptopay-swagger-trx-hot - \u0418\u043c\u044f \u0430\u0434\u0440\u0435\u0441\u0430 (\u043f\u043e\u043b\u0435 name \u0432 pss-provider-wtf2) ADA , TRX - \u041a\u043e\u0434 \u043a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u044b 2cWKMJemoBajB4bxUnQnGveCN3BWpoFeVKt7UgBAY2kypfSHuRTHmxb87mdZqhxnY1etS , TVmK1i9qhPgVzTx5NzDNGfr61fymQcofvm - \u0410\u0434\u0440\u0435\u0441\u0430 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u0430 SWAGGER - \u0418\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0430\u043d HOT \u0430\u0434\u0440\u0435\u0441 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0431\u043c\u0435\u043d\u043d\u0438\u043a\u0430 Configuration Approach # this will write list of merchants to logger at startup. setup.createCryptoWallet.wallet1.kind = CEX_CRYPTO_WALLET setup.createCryptoWallet.wallet1.enabled = true setup.createCryptoWallet.wallet1.currency.ADA.kind = pss-provider-wtf2 setup.createCryptoWallet.wallet1.currency.ADA.walletId = 9924f06c-f5e3-477b-9ad6-4e9327419167 setup.createCryptoWallet.wallet1.currency.ADA.walletName = cryptopay-presentation-ada setup.createCryptoWallet.wallet1.currency.ADA.tag = Presentation ADA via pss-provider-wtf2 setup.createCryptoWallet.wallet1.currency.TRX.kind = pss-provider-wtf2 setup.createCryptoWallet.wallet1.currency.TRX.walletId = f69cacc4-8a56-462f-928e-7f04e4445480 setup.createCryptoWallet.wallet1.currency.TRX.walletName = cryptopay-presentation-trx setup.createCryptoWallet.wallet1.currency.TRX.tag = Presentation TRX via pss-provider-wtf2 setup.createCryptoWallet.wallet1.currencies = ADA TRX setup.createCryptoWallet.wallet2.kind = EMULATOR setup.createCryptoWallet.wallet2.enabled = false setup.createCryptoWallets = wallet1 wallet2 Low Level $ curl --request POST --data '{\"kind\":\"XXX\",\"name\":\"CP_DEMO\",\"enabled\":true,\"tag\":\"CryptoPay Developers Account\",\"configuration\":{...}}' http://localhost:8081/v2/sysadmin/exchange TBD 1 TBD 2","title":"Setup"},{"location":"sysadmin-setup/#setup","text":"\u042d\u0442\u043e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 \u0441 \u0442\u043e\u0447\u043a\u0438 \u0437\u0440\u0435\u043d\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0433\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430.","title":"Setup"},{"location":"sysadmin-setup/#processing-service","text":"Processing Service - (aka CPService) \"\u0441\u0435\u0440\u0434\u0446\u0435\" \u043f\u0440\u043e\u0435\u043a\u0442\u0430, \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442 B2B API \u0438 \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0438\u043d\u0433\u043e\u043c \u043e\u0440\u0434\u0435\u0440\u043e\u0432 \u043f\u043e \u043e\u0431\u043c\u0435\u043d\u0443 \u0432\u0430\u043b\u044e\u0442. \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u043c\u0443 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u0440\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f: System Administrator Tool - (UNDER DEVELOPMENT) \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438. \u0423\u0442\u0438\u043b\u0438\u0442\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430\u044f \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 processing . Configuration Approach - \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043a\u043b\u044e\u0447\u0438 setup.xxxxxx \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 (\u043d\u0430\u043f\u0440. \u0432 Kubernetes ConfigMaps/Secrets \u0438\u043b\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430) Low Level - \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0447\u0435\u0440\u0435\u0437 curl \u043d\u0430 localhost/unix socket. \u0414\u0430\u043d\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043c\u043e\u0436\u0435\u0442 \u043e\u043f\u0435\u0440\u0435\u0436\u0430\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 System Administrator Tool \u0438 Configuration Approach \u0412 \u043e\u0441\u043d\u043e\u0432\u0435 \u0437\u0430\u043b\u043e\u0436\u0435\u043d\u0430 \u0438\u0434\u0435\u044f, \u0447\u0442\u043e \u043b\u044e\u0431\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e, \u0432\u043d\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u0430. \u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0438\u0448\u044c \u0442\u043e, \u0447\u0442\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 \u043a\u043b\u044e\u0447\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0441\u0442\u0430\u0440\u0442\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 (\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u0435\u0441\u0442\u0430\u0440\u0442).","title":"Processing Service"},{"location":"sysadmin-setup/#system-administrator-tool","text":"\u042d\u0442\u043e \u0443\u0442\u0438\u043b\u0438\u0442\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 Processing Service . \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0441 Processing Service . cpadmin --help","title":"System Administrator Tool"},{"location":"sysadmin-setup/#low-level","text":"\u042d\u0442\u043e \u0443\u0442\u0438\u043b\u0438\u0442\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 Processing Service . \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0441 Processing Service . curl --request GET/POST/PUT/DELETE ... http://localhost:8081/v2/sysadmin/XXXXXXXXXXXXXXXX","title":"Low Level"},{"location":"sysadmin-setup/#configuration-approach","text":"\u042d\u0442\u043e\u0442 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0435\u0439 setup.xxxxxx \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0441\u0435\u0440\u0432\u0438\u0441\u0430. \u0412 Kubernetes \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b: processing-envvars-setup - ConfigMap processing-setup - Secrets \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043a\u043b\u044e\u0447\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0441\u044e\u0434\u0430 \u043d\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043e\u0441\u043d\u043e\u0432\u0435. \u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u0430, \u044d\u0442\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043a\u043b\u044e\u0447\u0438 \u043c\u043e\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c (\u0438\u043b\u0438 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u043f\u0430\u043c\u044f\u0442\u044c, \u0441 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u043c \u0440\u0438\u0441\u043a\u043e\u043c, \u0447\u0442\u043e \u043e\u043d\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u0441\u044f \u043a\u043e\u0433\u0434\u0430-\u0442\u043e \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c) Configuration Keys Merging \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0430 \u043d\u0430 \u043d\u0430\u0431\u043e\u0440\u0435 \u043a\u043b\u044e\u0447-\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. \u041f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435, \u0441\u0435\u0440\u0432\u0438\u0441 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442 \u043c\u0435\u0440\u0436\u0438\u043d\u0433 \u0432\u0441\u0435\u0445 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f, Secrets -\u044b, ConfigMap -\u044b, \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0438 \u0438\u0437 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430. \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043c\u0435\u0440\u0436\u0438\u043d\u0433\u0430 \u0437\u0430\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u0430. \u041f\u043e-\u0441\u0443\u0442\u0438 \u0432\u0441\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f, \u0431\u0435\u0437 \u0435\u0434\u0438\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430.","title":"Configuration Approach"},{"location":"sysadmin-setup/#_1","text":"","title":"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},{"location":"sysadmin-setup/#_2","text":"Configuration Approach # this will write list of merchants to logger at startup. setup.merchantListOnStart = true Low Level $ curl --request GET http://localhost:8081/v2/sysadmin/merchant","title":"\u0421\u043f\u0438\u0441\u043e\u043a \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u043e\u0432"},{"location":"sysadmin-setup/#_3","text":"Configuration Approach setup.merchantCreate.DEVTEAM.parent = INTERMEDIATE setup.merchantCreate.DEVTEAM.description = Merchant Dev Team (sandbox) setup.merchantCreate.DEVTEAM.enabled = true setup.merchantCreate.DEVTEAM__EMU.parent = DEVTEAM setup.merchantCreate.DEVTEAM__EMU.description = Sub Merchant Dev Team (sandbox) setup.merchantCreate.DEVTEAM__EMU.enabled = true setup.merchantCreates = DEVTEAM DEVTEAM__EMU Low Level $ curl --request POST --data '{\"name\":\"DEVTEAM\",\"description\":\"Merchant Dev Team\",\"parent\":\"INTERMEDIATE\",\"enabled\":true}' http://localhost:8081/v2/sysadmin/merchant \u0433\u0434\u0435, DEVTEAM - \u0418\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0435\u043c\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 INTERMEDIATE - \u0418\u043c\u044f \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 Merchant Dev Team - \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 (\u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u0435) true - \u041c\u0435\u0440\u0447\u0430\u043d\u0442 \u0432\u043a\u043b\u044e\u0447\u0435\u043d (\u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430). \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c false .","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430"},{"location":"sysadmin-setup/#api","text":"Configuration Approach setup.accessKeyCreate.53f75b533edfe38d176f02c270dac6c0.merchantName = DEVTEAM setup.accessKeyCreate.53f75b533edfe38d176f02c270dac6c0.passphrase = meow-meow setup.accessKeyCreate.53f75b533edfe38d176f02c270dac6c0.secret = xxxxxxxxxxxxxxxxxxx setup.accessKeyCreate.602994ff31e5c23f17bdfe894e14b730.merchantName = DEVTEAM__EMU setup.accessKeyCreate.602994ff31e5c23f17bdfe894e14b730.passphrase = bow-wow setup.accessKeyCreate.602994ff31e5c23f17bdfe894e14b730.secret = yyyyyyyyyyyyyyyyyyy setup.accessKeyCreates = 53f75b533edfe38d176f02c270dac6c0 602994ff31e5c23f17bdfe894e14b730 Low Level $ curl --request POST --data '{\"name\":\"DEVTEAM\",\"key\":\"602994ff31e5c23f17bdfe894e14b730\",\"passphrase\":\"bow-wow\",\"secret\":\"xxxxxxxxxxxxxxxxxxx\"}' http://localhost:8081/v2/sysadmin/access-key $ curl --request POST --data '{\"name\":\"DEVTEAM\",\"key\":\"53f75b533edfe38d176f02c270dac6c0\",\"passphrase\":\"meow-meow\",\"secret\":\"yyyyyyyyyyyyyyyyyyy\"}' http://localhost:8081/v2/sysadmin/access-key \u0433\u0434\u0435, DEVTEAM - \u0418\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0435\u043c\u043e\u0433\u043e \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 602994ff31e5c23f17bdfe894e14b730 , 602994ff31e5c23f17bdfe894e14b730 - API Key bow-wow , meow-meow - API Passphrase xxxxxxxxxxxxxxxxxxx , yyyyyyyyyyyyyyyyyyy - API Secret \u0421\u043c\u043e\u0442\u0440\u0438\u0442\u0435 Generating an API Key","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 API \u043a\u043b\u044e\u0447\u0435\u0439"},{"location":"sysadmin-setup/#merchant-pair","text":"Configuration Approach setup.merchantPairSet.pair1.merchant = INTERMEDIATE setup.merchantPairSet.pair1.marketCurrency = USD setup.merchantPairSet.pair1.tradeCurrency = BTC setup.merchantPairSet.pair1.use = false setup.merchantPairSet.pair2.merchant = INTERMEDIATE setup.merchantPairSet.pair2.marketCurrency = EUR setup.merchantPairSet.pair2.tradeCurrency = BTC setup.merchantPairSet.pair2.use = null setup.merchantPairSet.pair3.merchant = INTERMEDIATE setup.merchantPairSet.pair3.marketCurrency = USD setup.merchantPairSet.pair3.tradeCurrency = ETH setup.merchantPairSet.pair3.use = true setup.merchantValueSets = pair1 pair2 pair3 Low Level $ curl --request POST --data '{\"market_currency\":\"USD\",\"trade_currency\":\"BTC\",\"use\":false}' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/pair $ curl --request POST --data '{\"market_currency\":\"EUR\",\"trade_currency\":\"BTC\",\"use\":null}' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/pair $ curl --request POST --data '{\"market_currency\":\"USD\",\"trade_currency\":\"ETH\",\"use\":true}' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/pair \u0433\u0434\u0435, INTERMEDIATE - \u0418\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0431\u0443\u0434\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0442\u043e\u0440\u0433\u043e\u0432\u0430\u044f \u043f\u0430\u0440\u0430 USD , EUR - \u0412\u0430\u043b\u044e\u0442\u0430 \u0440\u044b\u043d\u043a\u0430 ETH , BTC - \u0412\u0430\u043b\u044e\u0442\u0430 \u0442\u043e\u0432\u0430\u0440\u0430 true , null , false - \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0444\u043b\u0430\u0433\u0430 use","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Merchant Pair"},{"location":"sysadmin-setup/#merchant-values","text":"Configuration Approach # this will write list of Merchant Values to logger at startup for INTERMEDIATE and DEVTEAM merchants. setup.merchantValueListOnStartForMerchants = INTERMEDIATE DEVTEAM Low Level $ curl --request GET http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/value $ curl --request GET http://localhost:8081/v2/sysadmin/merchant/DEVTEAM/value \u0433\u0434\u0435, INTERMEDIATE , DEVTEAM - \u0418\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043d\u0443\u0436\u0435\u043d \u0441\u043f\u0438\u0441\u043e\u043a Merchant Values","title":"\u0421\u043f\u0438\u0441\u043e\u043a Merchant Values"},{"location":"sysadmin-setup/#merchant-value","text":"Configuration Approach setup.merchantValueSet.val001.merchant = INTERMEDIATE setup.merchantValueSet.val001.marketCurrency = USD setup.merchantValueSet.val001.tradeCurrency = BTC setup.merchantValueSet.val001.key = CRYPTO_SELL.DEFAULT.LIMIT.MIN_FIAT_AMOUNT setup.merchantValueSet.val001.value = 0.0001 setup.merchantValueSet.val002.merchant = INTERMEDIATE setup.merchantValueSet.val002.marketCurrency = USD setup.merchantValueSet.val002.tradeCurrency = BTC setup.merchantValueSet.val002.key = CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT setup.merchantValueSet.val002.value = 9.99999999 setup.merchantValueSet.val003.merchant = INTERMEDIATE setup.merchantValueSet.val003.marketCurrency = USD setup.merchantValueSet.val003.tradeCurrency = ATOM setup.merchantValueSet.val003.key = CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT setup.merchantValueSet.val003.value = null setup.merchantValueSets = val001 val002 val003 Low Level $ curl --request PUT --data '\"0.0001\"' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/BTC/USD/CRYPTO_SELL.DEFAULT.LIMIT.MIN_FIAT_AMOUNT $ curl --request PUT --data '\"9.99999999\"' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/value/BTC/USD/CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT $ curl --request PUT --data 'null' http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/ATOM/USD/CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT \u0433\u0434\u0435, INTERMEDIATE - \u0418\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0431\u0443\u0434\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT , CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT - \u0418\u043c\u0435\u043d\u0430 Merchant Value 0.0001 , 9.99999999 , null - \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Merchant Value"},{"location":"sysadmin-setup/#merchant-value_1","text":"Configuration Approach setup.merchantValueRemove.val001.merchant = INTERMEDIATE setup.merchantValueRemove.val001.marketCurrency = USD setup.merchantValueRemove.val001.tradeCurrency = BTC setup.merchantValueRemove.val001.key = CRYPTO_SELL.DEFAULT.LIMIT.MIN_FIAT_AMOUNT setup.merchantValueRemove.val002.merchant = INTERMEDIATE setup.merchantValueRemove.val001.marketCurrency = USD setup.merchantValueRemove.val001.tradeCurrency = BTC setup.merchantValueRemove.val002.key = CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT setup.merchantValueRemoves = val001 val002 Low Level $ curl --request DELETE http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/value/BTC/USD/CRYPTO_SELL.DEFAULT.LIMIT.MIN_FIAT_AMOUNT $ curl --request DELETE http://localhost:8081/v2/sysadmin/merchant/INTERMEDIATE/value/BTC/USD/CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT \u0433\u0434\u0435, INTERMEDIATE - \u0418\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 CRYPTO_SELL.DEFAULT.LIMIT.MIN_FIAT_AMOUNT , CRYPTO_SELL.DEFAULT.LIMIT.MAX_FIAT_AMOUNT - \u0418\u043c\u0435\u043d\u0430 Merchant Value \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c","title":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 Merchant Value"},{"location":"sysadmin-setup/#-","text":"Configuration Approach setup.createCryptoWallet.presentation1.kind = CEX_CRYPTO_WALLET setup.createCryptoWallet.presentation1.enabled = true setup.createCryptoWallet.presentation1.allowedForMerchants = DEVTEAM SWAGGER setup.createCryptoWallet.presentation1.deniedForMerchants = DEVTEAM__EMU setup.createCryptoWallet.presentation1.backend.ADA.kind = pss-provider-wtf2 setup.createCryptoWallet.presentation1.backend.ADA.walletId = 9924f06c-f5e3-477b-9ad6-4e9327419167 setup.createCryptoWallet.presentation1.backend.ADA.tag = Presentation ADA via pss-provider-wtf2 setup.createCryptoWallet.presentation1.backend.TRX.kind = pss-provider-wtf2 setup.createCryptoWallet.presentation1.backend.TRX.walletId = f69cacc4-8a56-462f-928e-7f04e4445480 setup.createCryptoWallet.presentation1.backend.TRX.tag = Presentation TRX via pss-provider-wtf2 setup.createCryptoWallet.presentation1.backends = ADA TRX setup.createCryptoWallet.evolution1.kind = CEX_CRYPTO_WALLET setup.createCryptoWallet.evolution1.enabled = true setup.createCryptoWallet.evolution1.allowedForMerchants = DEVTEAM SWAGGER setup.createCryptoWallet.evolution1.deniedForMerchants = DEVTEAM__EMU setup.createCryptoWallet.evolution1.backend.ADA.kind = pss-provider-wtf2 setup.createCryptoWallet.evolution1.backend.ADA.walletId = 0b5eef1e-c83f-409b-8c79-51ca6e49a983 setup.createCryptoWallet.evolution1.backend.ADA.tag = Evolution ADA via pss-provider-wtf2 setup.createCryptoWallet.evolution1.backend.TRX.kind = pss-provider-wtf2 setup.createCryptoWallet.evolution1.backend.TRX.walletId = fea392a5-008c-4016-a47c-03da3547f96b setup.createCryptoWallet.evolution1.backend.TRX.tag = Evolution TRX via pss-provider-wtf2 setup.createCryptoWallet.evolution1.backends = ADA TRX setup.createCryptoWallets = presentation1 evolution1 Low Level $ curl --request POST --data '{\"kind\":\"CEX_CRYPTO_WALLET\",\"name\":\"presentation1\",\"enabled\":true,\"configuration\":{........}}' http://localhost:8081/v2/sysadmin/crypto-wallet $ curl --request POST --data '{\"kind\":\"CEX_CRYPTO_WALLET\",\"name\":\"evolution1\",\"enabled\":true,\"configuration\":{........}}' http://localhost:8081/v2/sysadmin/crypto-wallet","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0440\u0438\u043f\u0442\u043e-\u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430"},{"location":"sysadmin-setup/#hot-","text":"Configuration Approach setup.setHotAddress.addr1.cryptoWallet = presentation1 setup.setHotAddress.addr1.name = cryptopay-swagger-ada-hot setup.setHotAddress.addr1.currency = ADA setup.setHotAddress.addr1.address = 2cWKMJemoBajB4bxUnQnGveCN3BWpoFeVKt7UgBAY2kypfSHuRTHmxb87mdZqhxnY1etS setup.setHotAddress.addr1.merchant = SWAGGER setup.setHotAddress.addr2.cryptoWallet = presentation1 setup.setHotAddress.addr2.name = cryptopay-swagger-trx-hot setup.setHotAddress.addr2.currency = TRX setup.setHotAddress.addr2.address = TVmK1i9qhPgVzTx5NzDNGfr61fymQcofvm setup.setHotAddress.addr2.merchant = SWAGGER setup.setHotAddresses = addr1 addr2 Low Level $ curl --request PUT --data '{\"cryptoWallet\":\"presentation1\",\"name\":\"cryptopay-swagger-ada-hot\",\"address\":\"2cWKMJemoBajB4bxUnQnGveCN3BWpoFeVKt7UgBAY2kypfSHuRTHmxb87mdZqhxnY1etS\"}' http://localhost:8081/v2/sysadmin/merchant/SWAGGER/hot-crypto-address/ADA $ curl --request PUT --data '{\"cryptoWallet\":\"presentation1\",\"name\":\"cryptopay-swagger-trx-hot\",\"address\":\"TVmK1i9qhPgVzTx5NzDNGfr61fymQcofvm\"}' http://localhost:8081/v2/sysadmin/merchant/SWAGGER/hot-crypto-address/TRX \u0433\u0434\u0435, presentation1 - \u0418\u043c\u044f \u043a\u0440\u0438\u043f\u0442\u043e \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430 (\u0437\u0430\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u0435\u0442 \u0434\u0430\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 cryptopay-swagger-ada-hot , cryptopay-swagger-trx-hot - \u0418\u043c\u044f \u0430\u0434\u0440\u0435\u0441\u0430 (\u043f\u043e\u043b\u0435 name \u0432 pss-provider-wtf2) ADA , TRX - \u041a\u043e\u0434 \u043a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u044b 2cWKMJemoBajB4bxUnQnGveCN3BWpoFeVKt7UgBAY2kypfSHuRTHmxb87mdZqhxnY1etS , TVmK1i9qhPgVzTx5NzDNGfr61fymQcofvm - \u0410\u0434\u0440\u0435\u0441\u0430 \u0431\u043b\u043e\u043a\u0447\u0435\u0439\u043d\u0430 SWAGGER - \u0418\u043c\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0430\u043d HOT \u0430\u0434\u0440\u0435\u0441","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 HOT-\u0430\u0434\u0440\u0435\u0441\u0430 \u0434\u043b\u044f \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430"},{"location":"sysadmin-setup/#_4","text":"Configuration Approach # this will write list of merchants to logger at startup. setup.createCryptoWallet.wallet1.kind = CEX_CRYPTO_WALLET setup.createCryptoWallet.wallet1.enabled = true setup.createCryptoWallet.wallet1.currency.ADA.kind = pss-provider-wtf2 setup.createCryptoWallet.wallet1.currency.ADA.walletId = 9924f06c-f5e3-477b-9ad6-4e9327419167 setup.createCryptoWallet.wallet1.currency.ADA.walletName = cryptopay-presentation-ada setup.createCryptoWallet.wallet1.currency.ADA.tag = Presentation ADA via pss-provider-wtf2 setup.createCryptoWallet.wallet1.currency.TRX.kind = pss-provider-wtf2 setup.createCryptoWallet.wallet1.currency.TRX.walletId = f69cacc4-8a56-462f-928e-7f04e4445480 setup.createCryptoWallet.wallet1.currency.TRX.walletName = cryptopay-presentation-trx setup.createCryptoWallet.wallet1.currency.TRX.tag = Presentation TRX via pss-provider-wtf2 setup.createCryptoWallet.wallet1.currencies = ADA TRX setup.createCryptoWallet.wallet2.kind = EMULATOR setup.createCryptoWallet.wallet2.enabled = false setup.createCryptoWallets = wallet1 wallet2 Low Level $ curl --request POST --data '{\"kind\":\"XXX\",\"name\":\"CP_DEMO\",\"enabled\":true,\"tag\":\"CryptoPay Developers Account\",\"configuration\":{...}}' http://localhost:8081/v2/sysadmin/exchange","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0431\u043c\u0435\u043d\u043d\u0438\u043a\u0430"},{"location":"sysadmin-setup/#tbd-1","text":"","title":"TBD 1"},{"location":"sysadmin-setup/#tbd-2","text":"","title":"TBD 2"},{"location":"terminology/","text":"Terminology Merchant TBD Order CryptoPay Order is time-sensitive payment requests addressed to specific buyers. In another words, Order is set off attributes like fromCurrency , toCurrency , amount , etc. TBD Breakpoint Breakpoint is a point in instrument 's workflow where processing may pauses for manual approve. Each instrument provides own set off breakpoints. Breakpoints by default settings may be active or inactive. Instrument's default behavior may be overridden in merchant 's settings or via order creation attributes. TBD Instrument CryptoPay's Instrument defines kind of service. An instrument describes how to process an order. Different instrument has own set of attributes according kind field. Note Instrument defines applied commissions (may be overridden on in merchant's configuration) Each merchant has own set off allowed instrument Kinds Instrument kind Description CRYPTO_BUY Buy crypto asset (convert fiat to crypto). One time order with fixed amount. CRYPTO_SELL Sell crypto asset (convert crypto to fiat). One time order with fixed amount. CRYPTO_BUY sequenceDiagram User->>+B2C Merchant: Goes to site B2C Merchant->>+B2B Merchant: Request crypto payment B2B Merchant->>+CryptoPay: Get instruments CryptoPay-->>-B2B Merchant: Currencies, rates, etc. B2B Merchant-->>-B2C Merchant: Available instruments B2C Merchant-->>-User: Render instruments User->>+B2C Merchant: Request order B2C Merchant->>+B2B Merchant: Create order B2B Merchant->>+CryptoPay: Create order CryptoPay->>+Exchange: Get rate Exchange-->>-CryptoPay: Current rate CryptoPay->>CryptoPay: Calculate cash flow CryptoPay-->>B2B Merchant: Order details B2B Merchant-->>B2C Merchant: Order attributes B2C Merchant-->>User: Render order details opt Skip for dry-run mode User->>B2C Merchant: Accept order details B2C Merchant->>B2B Merchant: Approve order B2B Merchant->>+CryptoPay: Start order CryptoPay-->>B2B Merchant: Started B2B Merchant-->>B2C Merchant: Started B2C Merchant-->>User: Started CryptoPay->>+Exchange: Get rate Exchange-->>-CryptoPay: Current rate CryptoPay->>+Exchange: Make exchange Exchange-->>-CryptoPay: Exchange approved CryptoPay->>+Wallet: Make withdrawal Wallet-->>-CryptoPay: Withdrawal approved CryptoPay-->>-B2B Merchant: Notify (READY TO SHIP) B2B Merchant-->>-B2C Merchant: Notify (ACCEPTED) B2C Merchant-->>-User: Final details end CRYPTO_SELL sequenceDiagram User->>+B2C Merchant: Goes to site B2C Merchant->>+B2B Merchant: Request crypto payment B2B Merchant->>+CryptoPay: Get instruments CryptoPay-->>-B2B Merchant: Currencies, rates, etc. B2B Merchant-->>-B2C Merchant: Available instruments B2C Merchant-->>-User: Render instruments User->>+B2C Merchant: Request order B2C Merchant->>+B2B Merchant: Create order B2B Merchant->>+CryptoPay: Create order CryptoPay->>+Exchange: Get rate Exchange-->>-CryptoPay: Current rate opt Skip for dry-run mode CryptoPay->>+Wallet: Generate new address Wallet-->>-CryptoPay: New address end CryptoPay->>CryptoPay: Calculate cash flow CryptoPay-->>B2B Merchant: Order details B2B Merchant-->>B2C Merchant: Order attributes B2C Merchant-->>User: Render order details opt Skip for dry-run mode Wallet-->>CryptoPay: Confirmations: 0 (configurable) CryptoPay-->>B2B Merchant: Notify (PAID) B2B Merchant-->>B2C Merchant: Notify (DEPOSIT) B2C Merchant-->>User: Deposit processing Wallet-->>CryptoPay: Confirmations: 1 (configurable) CryptoPay->>+Exchange: Make exchange Exchange-->>-CryptoPay: Exchange approved Wallet-->>CryptoPay: Confirmations: X (configurable) CryptoPay-->>-B2B Merchant: Notify (READY TO SHIP) B2B Merchant-->>-B2C Merchant: Notify (ACCEPTED) B2C Merchant-->>-User: Final details end CRYPTO_SELL (Infinity) It is possible to setup infinity sell crypto asset (convert crypto to fiat). Each crypto deposit will automatically create CRYPTO_SELL Order and schedule processing (breakpoints allowed). To achieve this behavoir you need to create Account with type = INFINITY sequenceDiagram User->>+B2C Merchant: Request payment B2C Merchant->>+B2B Merchant: Create account B2B Merchant->>+CryptoPay: Create account CryptoPay->>+Wallet: Generate new address Wallet-->>-CryptoPay: New address CryptoPay->>CryptoPay: Setup auto-order CryptoPay-->>B2B Merchant: Account details B2B Merchant-->>B2C Merchant: Account attributes B2C Merchant-->>User: Render payment details opt Infinity Loop Wallet-->>CryptoPay: Confirmations: 0 (configurable) CryptoPay->>CryptoPay: Create new CRYPTO_SELL order CryptoPay-->>B2B Merchant: Notify (NEW) B2B Merchant-->>B2C Merchant: Notify (PENDING) B2C Merchant-->>User: Deposit processing Wallet-->>CryptoPay: Confirmations: 1 (configurable) CryptoPay->>+Exchange: Make exchange Exchange-->>-CryptoPay: Exchange approved Wallet-->>CryptoPay: Confirmations: X (configurable) CryptoPay-->>-B2B Merchant: Notify (ACCEPTED) B2B Merchant-->>-B2C Merchant: Notify (ACCEPTED) B2C Merchant-->>-User: Final details end","title":"Terminology"},{"location":"terminology/#terminology","text":"","title":"Terminology"},{"location":"terminology/#merchant","text":"TBD","title":"Merchant"},{"location":"terminology/#order","text":"CryptoPay Order is time-sensitive payment requests addressed to specific buyers. In another words, Order is set off attributes like fromCurrency , toCurrency , amount , etc. TBD","title":"Order"},{"location":"terminology/#breakpoint","text":"Breakpoint is a point in instrument 's workflow where processing may pauses for manual approve. Each instrument provides own set off breakpoints. Breakpoints by default settings may be active or inactive. Instrument's default behavior may be overridden in merchant 's settings or via order creation attributes. TBD","title":"Breakpoint"},{"location":"terminology/#instrument","text":"CryptoPay's Instrument defines kind of service. An instrument describes how to process an order. Different instrument has own set of attributes according kind field. Note Instrument defines applied commissions (may be overridden on in merchant's configuration) Each merchant has own set off allowed instrument","title":"Instrument"},{"location":"terminology/#kinds","text":"Instrument kind Description CRYPTO_BUY Buy crypto asset (convert fiat to crypto). One time order with fixed amount. CRYPTO_SELL Sell crypto asset (convert crypto to fiat). One time order with fixed amount.","title":"Kinds"},{"location":"terminology/#crypto_buy","text":"sequenceDiagram User->>+B2C Merchant: Goes to site B2C Merchant->>+B2B Merchant: Request crypto payment B2B Merchant->>+CryptoPay: Get instruments CryptoPay-->>-B2B Merchant: Currencies, rates, etc. B2B Merchant-->>-B2C Merchant: Available instruments B2C Merchant-->>-User: Render instruments User->>+B2C Merchant: Request order B2C Merchant->>+B2B Merchant: Create order B2B Merchant->>+CryptoPay: Create order CryptoPay->>+Exchange: Get rate Exchange-->>-CryptoPay: Current rate CryptoPay->>CryptoPay: Calculate cash flow CryptoPay-->>B2B Merchant: Order details B2B Merchant-->>B2C Merchant: Order attributes B2C Merchant-->>User: Render order details opt Skip for dry-run mode User->>B2C Merchant: Accept order details B2C Merchant->>B2B Merchant: Approve order B2B Merchant->>+CryptoPay: Start order CryptoPay-->>B2B Merchant: Started B2B Merchant-->>B2C Merchant: Started B2C Merchant-->>User: Started CryptoPay->>+Exchange: Get rate Exchange-->>-CryptoPay: Current rate CryptoPay->>+Exchange: Make exchange Exchange-->>-CryptoPay: Exchange approved CryptoPay->>+Wallet: Make withdrawal Wallet-->>-CryptoPay: Withdrawal approved CryptoPay-->>-B2B Merchant: Notify (READY TO SHIP) B2B Merchant-->>-B2C Merchant: Notify (ACCEPTED) B2C Merchant-->>-User: Final details end","title":"CRYPTO_BUY"},{"location":"terminology/#crypto_sell","text":"sequenceDiagram User->>+B2C Merchant: Goes to site B2C Merchant->>+B2B Merchant: Request crypto payment B2B Merchant->>+CryptoPay: Get instruments CryptoPay-->>-B2B Merchant: Currencies, rates, etc. B2B Merchant-->>-B2C Merchant: Available instruments B2C Merchant-->>-User: Render instruments User->>+B2C Merchant: Request order B2C Merchant->>+B2B Merchant: Create order B2B Merchant->>+CryptoPay: Create order CryptoPay->>+Exchange: Get rate Exchange-->>-CryptoPay: Current rate opt Skip for dry-run mode CryptoPay->>+Wallet: Generate new address Wallet-->>-CryptoPay: New address end CryptoPay->>CryptoPay: Calculate cash flow CryptoPay-->>B2B Merchant: Order details B2B Merchant-->>B2C Merchant: Order attributes B2C Merchant-->>User: Render order details opt Skip for dry-run mode Wallet-->>CryptoPay: Confirmations: 0 (configurable) CryptoPay-->>B2B Merchant: Notify (PAID) B2B Merchant-->>B2C Merchant: Notify (DEPOSIT) B2C Merchant-->>User: Deposit processing Wallet-->>CryptoPay: Confirmations: 1 (configurable) CryptoPay->>+Exchange: Make exchange Exchange-->>-CryptoPay: Exchange approved Wallet-->>CryptoPay: Confirmations: X (configurable) CryptoPay-->>-B2B Merchant: Notify (READY TO SHIP) B2B Merchant-->>-B2C Merchant: Notify (ACCEPTED) B2C Merchant-->>-User: Final details end","title":"CRYPTO_SELL"},{"location":"terminology/#crypto_sell-infinity","text":"It is possible to setup infinity sell crypto asset (convert crypto to fiat). Each crypto deposit will automatically create CRYPTO_SELL Order and schedule processing (breakpoints allowed). To achieve this behavoir you need to create Account with type = INFINITY sequenceDiagram User->>+B2C Merchant: Request payment B2C Merchant->>+B2B Merchant: Create account B2B Merchant->>+CryptoPay: Create account CryptoPay->>+Wallet: Generate new address Wallet-->>-CryptoPay: New address CryptoPay->>CryptoPay: Setup auto-order CryptoPay-->>B2B Merchant: Account details B2B Merchant-->>B2C Merchant: Account attributes B2C Merchant-->>User: Render payment details opt Infinity Loop Wallet-->>CryptoPay: Confirmations: 0 (configurable) CryptoPay->>CryptoPay: Create new CRYPTO_SELL order CryptoPay-->>B2B Merchant: Notify (NEW) B2B Merchant-->>B2C Merchant: Notify (PENDING) B2C Merchant-->>User: Deposit processing Wallet-->>CryptoPay: Confirmations: 1 (configurable) CryptoPay->>+Exchange: Make exchange Exchange-->>-CryptoPay: Exchange approved Wallet-->>CryptoPay: Confirmations: X (configurable) CryptoPay-->>-B2B Merchant: Notify (ACCEPTED) B2B Merchant-->>-B2C Merchant: Notify (ACCEPTED) B2C Merchant-->>-User: Final details end","title":"CRYPTO_SELL (Infinity)"},{"location":"websocket-api/","text":"WebSocket API Overview TBD TBD TBD TBD TBD TBD","title":"WebSocket API"},{"location":"websocket-api/#websocket-api","text":"","title":"WebSocket API"},{"location":"websocket-api/#overview","text":"TBD","title":"Overview"},{"location":"websocket-api/#tbd","text":"","title":"TBD"},{"location":"websocket-api/#tbd_1","text":"","title":"TBD"},{"location":"websocket-api/#tbd_2","text":"","title":"TBD"},{"location":"websocket-api/#tbd_3","text":"TBD","title":"TBD"}]}